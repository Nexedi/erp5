(function(f,c){"object"===typeof exports&&"undefined"!==typeof module?module.exports=c():"function"===typeof define&&define.amd?define(c):f.jSuites=c()})(this,function(){var f=function(c){var d={init:function(){var a=document.querySelector(".japp");d.el=a?a:document.body},guid:function(){for(var a="",c=0;32>c;c++)a+=Math.floor(15*Math.random()).toString(15);return a},getWindowWidth:function(){var a=window,c=document,b=c.documentElement;c=c.getElementsByTagName("body")[0];return a.innerWidth||b.clientWidth||
c.clientWidth},getWindowHeight:function(){var a=window,c=document,b=c.documentElement;c=c.getElementsByTagName("body")[0];return a.innerHeight||b.clientHeight||c.clientHeight},getPosition:function(a){if(a.changedTouches&&a.changedTouches[0]){var c=a.changedTouches[0].pageX;a=a.changedTouches[0].pageY}else c=window.Event?a.pageX:a.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),a=window.Event?a.pageY:a.clientY+(document.documentElement.scrollTop?
document.documentElement.scrollTop:document.body.scrollTop);return[c,a]},click:function(a){if(a.click)a.click();else{var c=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});a.dispatchEvent(c)}},getElement:function(a,c){function b(a){a.className&&a.classList.contains(c)&&(d=a);a.parentNode&&b(a.parentNode)}var d=!1;b(a);return d},getLinkElement:function(a){function c(a){"A"!=a.tagName&&"DIV"!=a.tagName||!a.getAttribute("data-href")||(b=a);a.parentNode&&c(a.parentNode)}var b=!1;c(a);return b},
getFormElements:function(a){var c={};a=a?a.querySelectorAll("input, select, textarea"):document.querySelectorAll("input, select, textarea");for(var b=0;b<a.length;b++){var d=a[b],f=d.name;d=d.value;f&&(c[f]=d)}return c},exists:function(a,c){var b=new XMLHttpRequest;b.open("HEAD",a,!1);b.send();b.status&&c(b.status)},getFiles:function(a){a||console.error("No element defined in the arguments of your method");a=a.querySelectorAll(".jfile");if(0<a.length){for(var c=[],b=0;b<a.length;b++){var d={},l=a[b].getAttribute("src");
a[b].classList.contains("jremove")?d.remove=1:("data"==l.substr(0,4)?(d.content=l.substr(l.indexOf(",")+1),d.extension=a[b].getAttribute("data-extension")):(d.file=l,d.extension=a[b].getAttribute("data-extension"),d.extension||(d.extension=l.substr(l.lastIndexOf(".")+1)),f.files[d.file]&&(d.content=f.files[d.file])),a[b].getAttribute("data-name")&&(d.name=a[b].getAttribute("data-name")),a[b].getAttribute("data-file")&&(d.file=a[b].getAttribute("data-file")),a[b].getAttribute("data-size")&&(d.size=
a[b].getAttribute("data-size")),a[b].getAttribute("data-date")&&(d.date=a[b].getAttribute("data-date")),a[b].getAttribute("data-cover")&&(d.cover=a[b].getAttribute("data-cover")));c[b]=d}return c}},ajax:function(a){a.data||(a.data={});a.type&&(a.method=a.type);if(a.data){var c=[],b=Object.keys(a.data);if(b.length)for(var g=0;g<b.length;g++)if("object"==typeof a.data[b[g]])for(var f=a.data[b[g]],m=0;m<f.length;m++)if("string"==typeof f[m])c.push(b[g]+"["+m+"]="+encodeURIComponent(f[m]));else for(var n=
Object.keys(f[m]),k=0;k<n.length;k++)c.push(b[g]+"["+m+"]["+n[k]+"]="+encodeURIComponent(f[m][n[k]]));else c.push(b[g]+"="+encodeURIComponent(a.data[b[g]]));"GET"==a.method&&0<c.length&&(0>a.url.indexOf("?")&&(a.url+="?"),a.url+=c.join("&"))}var h=new XMLHttpRequest;h.open(a.method,a.url,!0);"POST"==a.method?(h.setRequestHeader("Accept","application/json"),h.setRequestHeader("Content-Type","application/x-www-form-urlencoded")):"json"==a.dataType&&h.setRequestHeader("Content-Type","text/json");h.setRequestHeader("pragma",
"no-cache");h.setRequestHeader("cache-control","no-cache");h.onload=function(){if(200===h.status)if("json"==a.dataType)try{var b=JSON.parse(h.responseText);a.success&&"function"==typeof a.success&&a.success(b)}catch(q){a.error&&"function"==typeof a.error&&a.error(b)}else b=h.responseText,a.success&&"function"==typeof a.success&&a.success(b);else a.error&&"function"==typeof a.error&&a.error(h.responseText);if(d.ajax.requests&&d.ajax.requests.length){var c=d.ajax.requests.indexOf(h);d.ajax.requests.splice(c,
1);d.ajax.requests.length||a.complete&&"function"==typeof a.complete&&a.complete(b)}};c?h.send(c.join("&")):h.send();d.ajax.requests.push(h);return h}};d.ajax.requests=[];d.slideLeft=function(a,c,b){1==c?(a.classList.add("slide-left-in"),setTimeout(function(){a.classList.remove("slide-left-in");"function"==typeof b&&b()},400)):(a.classList.add("slide-left-out"),setTimeout(function(){a.classList.remove("slide-left-out");"function"==typeof b&&b()},400))};d.slideRight=function(a,c,b){1==c?(a.classList.add("slide-right-in"),
setTimeout(function(){a.classList.remove("slide-right-in");"function"==typeof b&&b()},400)):(a.classList.add("slide-right-out"),setTimeout(function(){a.classList.remove("slide-right-out");"function"==typeof b&&b()},400))};d.slideTop=function(a,c,b){1==c?(a.classList.add("slide-top-in"),setTimeout(function(){a.classList.remove("slide-top-in");"function"==typeof b&&b()},400)):(a.classList.add("slide-top-out"),setTimeout(function(){a.classList.remove("slide-top-out");"function"==typeof b&&b()},400))};
d.slideBottom=function(a,c,b){1==c?(a.classList.add("slide-bottom-in"),setTimeout(function(){a.classList.remove("slide-bottom-in");"function"==typeof b&&b()},400)):(a.classList.add("slide-bottom-out"),setTimeout(function(){a.classList.remove("slide-bottom-out");"function"==typeof b&&b()},100))};d.fadeIn=function(a,c){a.classList.add("fade-in");setTimeout(function(){a.classList.remove("fade-in");"function"==typeof c&&c()},2E3)};d.fadeOut=function(a,c){a.classList.add("fade-out");setTimeout(function(){a.classList.remove("fade-out");
"function"==typeof c&&c()},1E3)};d.keyDownControls=function(a){if(27==a.which){var c=document.querySelectorAll(".jslider");if(0<c.length)for(var b=0;b<c.length;b++)c[b].slider.close();document.querySelector(".jdialog")&&f.dialog.close()}else if(13==a.which&&document.querySelector(".jdialog")){if("function"==typeof f.dialog.options.onconfirm)f.dialog.options.onconfirm();f.dialog.close()}f.mask&&f.mask.apply(a)};c=function(a){if(a=f.getLinkElement(a.target))a=a.getAttribute("data-href"),"#back"==a?
window.history.back():"#panel"==a?f.panel():f.pages(a)};document.addEventListener("swipeleft",function(a){var c=f.getElement(a.target,"option");c&&c.querySelector(".option-actions")?c.scrollTo({left:100,behavior:"smooth"}):(c=f.getElement(a.target,"jcalendar"))&&f.calendar.current?f.calendar.current.prev():f.panel&&(c=f.panel.get())&&"none"!=c.style.display&&f.panel.close()});document.addEventListener("swiperight",function(a){var c=f.getElement(a.target,"option");c&&c.querySelector(".option-actions")?
c.scrollTo({left:0,behavior:"smooth"}):(c=f.getElement(a.target,"jcalendar"))&&f.calendar.current?f.calendar.current.next():f.panel&&(c=f.panel.get())&&"none"==c.style.display&&f.panel()});document.addEventListener("keydown",d.keyDownControls);!0==="ontouchend"in document.documentElement?document.addEventListener("touchend",c):document.addEventListener("mouseup",c);document.addEventListener("mouseover",function(a){f.tooltip&&f.tooltip(a)});document.addEventListener("mouseout",function(a){f.tooltip&&
f.tooltip.hide()});document.addEventListener("DOMContentLoaded",function(){d.init()});window.onpopstate=function(a){a.state&&a.state.route&&f.pages.get(a.state.route)&&f.pages(a.state.route,{ignoreHistory:!0})};return d}();f.files=[];f.calendar=function(c,d){var a={options:{}};f.calendar.current||(f.calendar.current=null);var e={format:"DD/MM/YYYY",readonly:!0,today:!1,time:!1,resetButton:!0,placeholder:"",months:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
weekdays_short:"SMTWTFS".split(""),value:null,onclose:null,onchange:null,fullscreen:!1,mode:null,position:null,opened:!1};for(b in e)d&&d.hasOwnProperty(b)?a.options[b]=d[b]:a.options[b]=e[b];!a.options.value&&c.value&&(a.options.value=c.value);a.options.format=a.options.format.toUpperCase();if(a.options.value){e=a.options.value.split(" ");var b=e[1];e=e[0].split("-");var g=parseInt(e[0]),l=parseInt(e[1]),m=parseInt(e[2]);if(b){b=b.split(":");var n=parseInt(b[0]),k=parseInt(b[1])}else k=n=0}else e=
new Date,g=e.getFullYear(),l=e.getMonth()+1,m=e.getDate(),n=e.getHours(),k=e.getMinutes();a.date=[g,l,m,n,k,0];var h=function(a){a=""+a;1==a.length&&(a="0"+a);return a};c.classList.add("jcalendar-input");b=document.createElement("div");b.className="jcalendar-reset";b.innerHTML="Reset";g=document.createElement("div");g.className="jcalendar-confirm";g.innerHTML="Done";e=document.createElement("div");e.className="jcalendar-controls";a.options.resetButton&&e.appendChild(b);e.appendChild(g);var p=document.createElement("div");
p.className="jcalendar-container";var u=document.createElement("div");u.className="jcalendar-content";u.appendChild(e);p.appendChild(u);var q=document.createElement("div");q.className="jcalendar";q.appendChild(p);b=document.createElement("td");b.setAttribute("colspan","2");b.className="jcalendar-prev";var y=document.createElement("span");y.className="jcalendar-year";var z=document.createElement("span");z.className="jcalendar-month";g=document.createElement("td");g.className="jcalendar-header";g.setAttribute("colspan",
"3");g.appendChild(z);g.appendChild(y);l=document.createElement("td");l.setAttribute("colspan","2");l.className="jcalendar-next";e=document.createElement("tr");e.appendChild(b);e.appendChild(g);e.appendChild(l);b=document.createElement("thead");b.appendChild(e);var v=document.createElement("tbody");e=document.createElement("tfoot");var t=document.createElement("table");t.setAttribute("cellpadding","0");t.setAttribute("cellspacing","0");t.appendChild(b);t.appendChild(v);t.appendChild(e);u.appendChild(t);
var w=document.createElement("select");w.className="jcalendar-select";w.onchange=function(){a.date[3]=this.value};for(k=0;24>k;k++)e=document.createElement("option"),e.value=k,e.innerHTML=h(k),w.appendChild(e);var x=document.createElement("select");x.className="jcalendar-select";x.onchange=function(){a.date[4]=this.value};for(k=0;60>k;k++)e=document.createElement("option"),e.value=k,e.innerHTML=h(k),x.appendChild(e);e=document.createElement("div");e.className="jcalendar-controls";var r=document.createElement("div");
r.className="jcalendar-time";r.style.maxWidth="140px";r.appendChild(w);r.appendChild(x);b=document.createElement("div");b.style.flexGrow="10";b.innerHTML='<input type="button" class="jcalendar-update" value="Update">';e.appendChild(r);e.appendChild(b);u.appendChild(e);e=document.createElement("div");e.className="jcalendar-backdrop";q.appendChild(e);a.open=function(b){if(!q.classList.contains("jcalendar-focus"))if(f.calendar.current&&f.calendar.current.close(),f.calendar.current=a,q.classList.add("jcalendar-focus"),
a.getDays(),a.options.time&&(w.value=a.date[3],x.value=a.date[4]),800>f.getWindowWidth()||a.options.fullscreen)q.classList.add("jcalendar-fullsize"),f.slideBottom(u,1);else{b=c.getBoundingClientRect();var d=u.getBoundingClientRect();a.options.position?(p.style.position="fixed",p.style.top=window.innerHeight<b.bottom+d.height?b.top-(d.height+2)+"px":b.top+b.height+2+"px",p.style.left=b.left+"px"):window.innerHeight<b.bottom+d.height?p.style.bottom=1*b.height+d.height+2+"px":p.style.top="2px"}};a.close=
function(b,d){f.calendar.current=null;0!=d&&"INPUT"==c.tagName&&a.setValue(a.getValue());if(!b&&"function"==typeof a.options.onclose)a.options.onclose(c);q.classList.remove("jcalendar-focus");return a.getValue()};a.prev=function(){"years"==a.options.mode?(a.date[0]-=12,a.getYears()):(2>a.date[1]?(--a.date[0],a.date[1]=12):--a.date[1],a.getDays())};a.next=function(){"years"==a.options.mode?(a.date[0]=parseInt(a.date[0])+12,a.getYears()):(11<a.date[1]?(a.date[0]+=1,a.date[1]=1):a.date[1]+=1,a.getDays())};
a.setValue=function(b){if(b){a.options.value=b;a.setLabel(b,a.options.format);var d=a.options.value.split(" ");d[1]||(d[1]="00:00:00");var g=d[1].split(":");d=d[0].split("-");var e=parseInt(d[0]),h=parseInt(d[1]);d=parseInt(d[2]);var f=parseInt(g[0]);g=parseInt(g[1]);a.date=[e,h,d,f,g,0];b=a.setLabel(b,a.options.format);if(c.value!=b&&(c.value=b,"function"==typeof a.options.onchange))a.options.onchange(c,b,a.date);a.getDays()}};a.getValue=function(){return a.date?a.options.time?h(a.date[0])+"-"+h(a.date[1])+
"-"+h(a.date[2])+" "+h(a.date[3])+":"+h(a.date[4])+":"+h(0):h(a.date[0])+"-"+h(a.date[1])+"-"+h(a.date[2])+" "+h(0)+":"+h(0)+":"+h(0):""};a.update=function(b){a.date[2]=b.innerText;a.options.time?(a.date[3]=w.value,a.date[4]=x.value):a.close();var c=q.querySelector(".jcalendar-selected");c&&c.classList.remove("jcalendar-selected");b.classList.add("jcalendar-selected")};a.reset=function(){a.date=null;c.value="";a.close()};a.getDays=function(){a.options.mode="days";var b=0,c=0,d=0,g=new Date,e=a.date&&
a.date[0]?a.date[0]:parseInt(g.getFullYear()),h=a.date&&a.date[1]?a.date[1]:parseInt(g.getMonth())+1,f=a.date&&a.date[2]?a.date[2]:parseInt(g.getDay()),l=a.date&&a.date[3]?a.date[3]:parseInt(g.getHours()),m=a.date&&a.date[4]?a.date[4]:parseInt(g.getMinutes());a.date=[e,h,f,l,m,0];y.innerHTML=e;z.innerHTML=a.options.months[h-1];g.getMonth()==h-1&&g.getFullYear()==e&&(c=1,d=g.getDate());g=new Date(e,h,0,0,0);var p=g.getDate();g=new Date(e,h-1,0,l,m);g=g.getDay()+1;v.innerHTML="";e=document.createElement("tr");
e.setAttribute("align","center");v.appendChild(e);for(h=0;7>h;h++)l=document.createElement("td"),l.setAttribute("width","30"),l.classList.add("jcalendar-weekday"),l.innerHTML=a.options.weekdays_short[h],e.appendChild(l);h=7==g?7:0;e=document.createElement("tr");e.setAttribute("align","center");for(v.appendChild(e);h<7*Math.ceil((p+g)/7);h++)0<h&&!(h%7)&&(e=document.createElement("tr"),e.setAttribute("align","center"),v.appendChild(e)),b=h>=g&&h<p+g?b+1:0,l=document.createElement("td"),l.setAttribute("width",
"30"),l.classList.add("jcalendar-set-day"),e.appendChild(l),l.innerHTML=0==b?"":10>b?0+b:b,b&&b==f&&l.classList.add("jcalendar-selected"),h%7||(l.style.color="red"),1==c&&d==b&&(l.style.fontWeight="bold");r.style.display=a.options.time?"":"none"};a.getMonths=function(){a.options.mode="months";var b=a.options.months;y.innerHTML=a.date[0];z.innerHTML="";var c='<td colspan="7"><table width="100%"><tr align="center">';for(k=0;12>k;k++){0<k&&!(k%4)&&(c+='</tr><tr align="center">');var d=parseInt(k)+1;
c+='<td class="jcalendar-set-month" data-value="'+d+'">'+b[k]+"</td>"}v.innerHTML=c+"</tr></table></td>"};a.getYears=function(){a.options.mode="years";var b=[];for(k=0;25>k;k++)b[k]=parseInt(a.date[0])+(k-12);var c='<td colspan="7"><table width="100%"><tr align="center">';for(k=0;25>k;k++)0<k&&!(k%5)&&(c+='</tr><tr align="center">'),c+='<td class="jcalendar-set-year">'+b[k]+"</td>";v.innerHTML=c+"</tr></table></td>"};a.setLabel=function(a,b){return f.calendar.getDateString(a,b)};a.fromFormatted=function(a,
b){return f.calendar.extractDateFromString(a,b)};c.setAttribute("autocomplete","off");c.setAttribute("data-mask",a.options.format.toLowerCase());a.options.readonly&&c.setAttribute("readonly","readonly");a.options.placeholder&&c.setAttribute("placeholder",a.options.placeholder);e=function(b){var c=b.target.className;"jcalendar-prev"==c?(a.prev(),b.stopPropagation(),b.preventDefault()):"jcalendar-next"==c?(a.next(),b.stopPropagation(),b.preventDefault()):"jcalendar-month"==c?(a.getMonths(),b.stopPropagation(),
b.preventDefault()):"jcalendar-year"==c?(a.getYears(),b.stopPropagation(),b.preventDefault()):"jcalendar-set-year"==c?(a.date[0]=b.target.innerText,a.getDays(),b.stopPropagation(),b.preventDefault()):"jcalendar-set-month"==c?(a.date[1]=parseInt(b.target.getAttribute("data-value")),a.getDays(),b.stopPropagation(),b.preventDefault()):"jcalendar-confirm"==c||"jcalendar-update"==c?(a.close(),b.stopPropagation(),b.preventDefault()):"jcalendar-close"==c?(a.close(),b.stopPropagation(),b.preventDefault()):
"jcalendar-backdrop"==c?(a.close(!1,!1),b.stopPropagation(),b.preventDefault()):"jcalendar-reset"==c?(a.reset(),b.stopPropagation(),b.preventDefault()):b.target.classList.contains("jcalendar-set-day")&&b.target.innerText&&(a.update(b.target),b.stopPropagation(),b.preventDefault())};c.addEventListener("keyup",function(b){if(b.target.value&&3<b.target.value.length){var c=f.calendar.extractDateFromString(b.target.value,a.options.format);c&&"true"==b.target.getAttribute("data-completed")&&a.setValue(c)}});
q.addEventListener("swipeleft",function(b){f.slideLeft(t,0,function(){a.next();f.slideRight(t,1)});b.preventDefault();b.stopPropagation()});q.addEventListener("swiperight",function(b){f.slideRight(t,0,function(){a.prev();f.slideLeft(t,1)});b.preventDefault();b.stopPropagation()});!0==="ontouchend"in document.documentElement?(q.addEventListener("touchend",e),c.addEventListener("touchend",function(b){a.open()})):(q.addEventListener("mouseup",e),c.addEventListener("mouseup",function(b){a.open()}));c.parentNode.insertBefore(q,
c.nextSibling);c.calendar=a;1==a.options.opened&&a.open();return a};f.calendar.prettify=function(c,d){d||(d={justNow:"Just now",xMinutesAgo:"{0}m ago",xHoursAgo:"{0}h ago",xDaysAgo:"{0}d ago",xWeeksAgo:"{0}w ago",xMonthsAgo:"{0} mon ago",xYearsAgo:"{0}y ago"});var a=parseInt((new Date-new Date(c))/1E3/60);String.prototype.format=function(a){return this.replace("{0}",a)};return 0==a?d.justNow:90>a?d.xMinutesAgo.format(a):1440>a?d.xHoursAgo.format(Math.round(a/60)):20160>a?d.xDaysAgo.format(Math.round(a/
1440)):43200>a?d.xWeeksAgo.format(Math.round(a/10080)):1036800>a?d.xMonthsAgo.format(Math.round(a/43200)):d.xYearsAgo.format(Math.round(a/525600))};f.calendar.prettifyAll=function(){for(var c=document.querySelectorAll(".prettydate"),d=0;d<c.length;d++)c[d].getAttribute("data-date")?c[d].innerHTML=f.calendar.prettify(c[d].getAttribute("data-date")):(c[d].setAttribute("data-date",c[d].innerHTML),c[d].innerHTML=f.calendar.prettify(c[d].innerHTML))};f.calendar.now=function(){var c=new Date,d=c.getFullYear(),
a=c.getMonth()+1,e=c.getDate(),b=c.getHours(),g=c.getMinutes();c=c.getSeconds();var f=function(a){a=""+a;1==a.length&&(a="0"+a);return a};return f(d)+"-"+f(a)+"-"+f(e)+" "+f(b)+":"+f(g)+":"+f(c)};f.calendar.extractDateFromString=function(c,d){var a=""+c,e=d.replace(/[0-9]/g,""),b=1,g=e.search("YYYY");g=a.substr(g,4);parseInt(g)!=g&&(b=0);var f=e.search("MM");f=a.substr(f,2);if(parseInt(f)!=f||12<m)b=0;var m=e.search("DD");m=a.substr(m,2);if(parseInt(m)!=m||31<m)b=0;var n=e.search("HH");if(0<=n){if(n=
a.substr(n,2),!parseInt(n)||23<n)n="00"}else n="00";var k=e.search("MI");if(0<=k){if(k=a.substr(k,2),!parseInt(k)||59<k)k="00"}else k="00";var h=e.search("SS");if(0<=h){if(h=a.substr(h,2),!parseInt(h)||59<h)h="00"}else h="00";return 1==b&&c.length==e.length?g+"-"+f+"-"+m+" "+n+":"+k+":"+h:""};f.calendar.getDateString=function(c,d){d||(d="DD/MM/YYYY");if(c){var a=(""+c).split(" ");if(a[1]){var e=a[1].split(":");var b=e[1]?e[1]:"00";var g=e[2]?e[2]:"00";e=e[0]?e[0]:"00"}else g=b=e="00";a=a[0].split("-");
if(a[0]&&a[1]&&a[2]&&0<a[0]&&0<a[1]&&13>a[1]&&0<a[2]&&32>a[2]){var f=new Date(a[0],a[1]-1,a[2]);a[1]=(2>a[1].length?"0":"")+a[1];a[2]=(2>a[2].length?"0":"")+a[2];e=(2>e.length?"0":"")+e;b=(2>b.length?"0":"")+b;g=(2>g.length?"0":"")+g;c=d.replace("WD","Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")[f.getDay()]);c=c.replace("DD",a[2]);c=c.replace("MM",a[1]);c=c.replace("YYYY",a[0]);c=c.replace("YY",a[0].substring(2,4));c=c.replace("MON","Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")[parseInt(a[1])-
1].toUpperCase());e&&(c=c.replace("HH24",e));c=12<e?c.replace("HH12",e-12):c.replace("HH12",e);c=c.replace("HH",e);c=c.replace("MI",b);c=c.replace("MM",b);c=c.replace("SS",g)}else c=""}return c};f.calendar.isOpen=function(c){f.calendar.current&&(c.target.className&&-1!=c.target.className.indexOf("jcalendar")||f.calendar.current.close())};!0==="ontouchstart"in document.documentElement?document.addEventListener("touchstart",f.calendar.isOpen):document.addEventListener("mousedown",f.calendar.isOpen);
f.color=function(c,d){var a={options:{},values:[]};f.color.current||(f.color.current=null);var e={placeholder:"",value:null,onclose:null,onchange:null},b;for(b in e)d&&d.hasOwnProperty(b)?a.options[b]=d[b]:a.options[b]=e[b];var g={red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",
900:"#880e4f"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",
300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},lightgreen:{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",
700:"#689f38",800:"#558b2f",900:"#33691e"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00"},orange:{50:"#fff3e0",
100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100"},deeporange:{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",
500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},bluegrey:{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"}};e=[];var l=Object.keys(g),m=Object.keys(g[l[0]]);for(b=0;b<l.length;b++)for(var n=0;n<m.length;n++)e[n]||(e[n]=[]),e[n][b]=g[l[b]][m[n]];a.options.value&&(c.value=a.options.value);var k=document.createElement("div");k.className="jcolor";var h=document.createElement("div");h.className=
"jcolor-backdrop";k.appendChild(h);var p=document.createElement("div");p.className="jcolor-content";b=document.createElement("div");b.className="jcolor-close";b.innerHTML="Done";b.onclick=function(){a.close()};p.appendChild(b);g=document.createElement("table");g.setAttribute("cellpadding","7");g.setAttribute("cellspacing","0");for(b=0;b<e.length;b++){l=document.createElement("tr");for(n=0;n<e[b].length;n++)m=document.createElement("td"),m.style.backgroundColor=e[b][n],m.setAttribute("data-value",
e[b][n]),m.innerHTML="",l.appendChild(m),a.options.value==e[b][n]&&m.classList.add("jcolor-selected"),a.values[e[b][n]]=m;g.appendChild(l)}a.open=function(){f.color.current&&f.color.current!=a&&f.color.current.close();if(!f.color.current){f.color.current=a;k.classList.add("jcolor-focus");var b=p.getBoundingClientRect();if(800>f.getWindowWidth())p.style.top="",p.classList.add("jcolor-fullscreen"),f.slideBottom(p,1),h.style.display="block";else{p.classList.contains("jcolor-fullscreen")&&(p.classList.remove("jcolor-fullscreen"),
h.style.display="");var d=c.getBoundingClientRect();p.style.top=window.innerHeight<d.bottom+b.height?-1*(b.height+2)+"px":d.height+"px"}k.focus()}};a.close=function(b){if(f.color.current){f.color.current=null;if(!b&&"function"==typeof a.options.onclose)a.options.onclose(c);k.classList.remove("jcolor-focus")}h.style.display="";return a.options.value};a.setValue=function(b){b&&(c.value=b,a.options.value=b);var d=k.querySelector(".jcolor-selected");d&&d.classList.remove("jcolor-selected");a.values[b].classList.add("jcolor-selected");
if("function"==typeof a.options.onchange)a.options.onchange(c,b)};a.getValue=function(){return a.options.value};c.addEventListener("focus",function(b){a.open()});c.addEventListener("mousedown",function(b){a.open()});k.addEventListener("mouseup",function(a){"TD"==a.target.tagName&&(f.color.current.setValue(a.target.getAttribute("data-value")),f.color.current.close())});document.addEventListener("mousedown",function(a){f.color.current&&(f.getElement(a.target,"jcolor")||f.color.current.close())});k.setAttribute("tabindex",
"900");a.options.placeholder&&c.setAttribute("placeholder",a.options.placeholder);p.appendChild(g);k.appendChild(p);c.parentNode.insertBefore(k,c);return c.color=a};f.contextmenu=function(c,d){var a={options:{}},e={items:null,onclick:null},b;for(b in e)d&&d.hasOwnProperty(b)?a.options[b]=d[b]:a.options[b]=e[b];c.classList.add("jcontextmenu");c.setAttribute("tabindex","900");a.open=function(b,d){d&&(a.options.items=d,a.create(d));if(b.target)var g=b.clientX,e=b.clientY;else g=b.x,e=b.y;c.classList.add("jcontextmenu-focus");
c.focus();var f=c.getBoundingClientRect();c.style.top=window.innerHeight<e+f.height?e-f.height+"px":e+"px";c.style.left=window.innerWidth<g+f.width?0<g-f.width?g-f.width+"px":"10px":g+"px"};a.close=function(){c.classList.contains("jcontextmenu-focus")&&c.classList.remove("jcontextmenu-focus")};a.create=function(a){c.innerHTML="";for(var b=0;b<a.length;b++){if(a[b].type&&"line"==a[b].type)var d=document.createElement("hr");else{d=document.createElement("div");var e=document.createElement("a");e.innerHTML=
a[b].title;a[b].disabled?d.className="jcontextmenu-disabled":a[b].onclick&&(d.method=a[b].onclick,d.addEventListener("mouseup",function(){this.method(this)}));d.appendChild(e);a[b].shortcut&&(e=document.createElement("span"),e.innerHTML=a[b].shortcut,d.appendChild(e))}c.appendChild(d)}};"function"==typeof a.options.onclick&&c.addEventListener("click",function(b){a.options.onclick(a)});c.addEventListener("blur",function(b){setTimeout(function(){a.close()},120)});window.addEventListener("mousewheel",
function(){a.close()});a.options.items&&a.create(a.options.items);return c.contextmenu=a};f.contextmenu.getElement=function(c){function d(c){c.parentNode&&c.getAttribute("aria-contextmenu-id")?a=c.getAttribute("aria-contextmenu-id"):c.parentNode&&d(c.parentNode)}var a=0;d(c);return a};document.addEventListener("contextmenu",function(c){var d=f.contextmenu.getElement(c.target);d&&((d=document.querySelector("#"+d))?(d.contextmenu.open(c),c.preventDefault()):console.error("JSUITES: Contextmenu id not found"))});
f.dropdown=function(c,d){var a={options:{}};if("SELECT"==c.tagName){var e=f.dropdown.extractFromDom(c,d);c=e.el;d=e.options}e={url:null,data:[],multiple:!1,autocomplete:!1,type:null,width:null,opened:!1,value:null,placeholder:"",position:!1,onchange:null,onload:null,onopen:null,onclose:null,onblur:null};for(var b in e)d&&d.hasOwnProperty(b)?a.options[b]=d[b]:a.options[b]=e[b];f.dropdown.current||(f.dropdown.current=null);a.items=[];a.groups=[];a.selected=[];c.classList.add("jdropdown");"searchbar"==
a.options.type?c.classList.add("jdropdown-searchbar"):"list"==a.options.type?c.classList.add("jdropdown-list"):"picker"==a.options.type?c.classList.add("jdropdown-picker"):800>f.getWindowWidth()?(c.classList.add("jdropdown-picker"),a.options.type="picker"):(a.options.width&&(c.style.width=a.options.width,c.style.minWidth=a.options.width),c.classList.add("jdropdown-default"),a.options.type="default");b=document.createElement("div");b.className="jdropdown-container-header";var g=document.createElement("input");
g.className="jdropdown-header";"function"==typeof a.options.onblur&&(g.onblur=function(){a.options.onblur(c)});var l=document.createElement("div");l.className="jdropdown-container";var m=document.createElement("div");m.className="jdropdown-content";e=document.createElement("div");e.className="jdropdown-close";e.innerHTML="Done";var n=document.createElement("div");n.className="jdropdown-backdrop";if(1==a.options.autocomplete){c.setAttribute("data-autocomplete",!0);var k=null;g.addEventListener("keyup",
function(b){k&&clearTimeout(k);k=setTimeout(function(){a.find(g.value);k=null},500);c.classList.contains("jdropdown-focus")||65<b.which&&a.open()})}else g.setAttribute("readonly","readonly");!a.options.placeholder&&c.getAttribute("placeholder")&&(a.options.placeholder=c.getAttribute("placeholder"));a.options.placeholder&&g.setAttribute("placeholder",a.options.placeholder);b.appendChild(g);"searchbar"==a.options.type?b.appendChild(e):l.appendChild(e);l.appendChild(m);c.appendChild(b);c.appendChild(l);
c.appendChild(n);a.init=function(){if(a.options.url)f.ajax({url:a.options.url,method:"GET",dataType:"json",success:function(b){if(b&&(a.setData(b),null!=a.options.value&&a.setValue(a.options.value),"function"==typeof a.options.onload))a.options.onload(c,a,b)}});else if(a.setData(),null!=a.options.value&&a.setValue(a.options.value),"function"==typeof a.options.onload)a.options.onload(c,a,data);1==a.options.opened&&a.open()};a.getUrl=function(){return a.options.url};a.setUrl=function(b){a.options.url=
b;f.ajax({url:a.options.url,method:"GET",dataType:"json",success:function(b){a.setData(b)}})};a.createItem=function(a){var b={};b.element=document.createElement("div");b.element.className="jdropdown-item";b.value=a.id;b.text=a.name;b.textLowerCase=a.name.toLowerCase();if(a.image){var c=document.createElement("img");c.className="jdropdown-image";c.src=a.image;a.title||c.classList.add("jdropdown-image-small");b.element.appendChild(c)}c=document.createElement("div");c.className="jdropdown-description";
c.innerHTML=a.name;if(a.title){var d=document.createElement("div");d.className="jdropdown-title";d.innerHTML=a.title;c.appendChild(d)}b.element.appendChild(c);return b};a.setData=function(b){b&&(a.options.data=b);b=a.options.data;m.innerHTML="";a.reset();a.items=[];var c=[],d=[];if(b.length){for(var e=0;e<b.length;e++)"object"!=typeof b[e]&&(a.options.data[e]=b[e]={id:b[e],name:b[e]}),b[e].group?(d[b[e].group]||(d[b[e].group]=[]),d[b[e].group].push(e)):c.push(e);var g=Object.keys(d);if(0<g.length)for(e=
0;e<g.length;e++){var f=document.createElement("div");f.className="jdropdown-group";var h=document.createElement("div");h.className="jdropdown-group-name";h.innerHTML=g[e];var l=document.createElement("i");l.className="jdropdown-group-arrow jdropdown-group-arrow-down";h.appendChild(l);var k=document.createElement("div");k.className="jdropdown-group-items";for(var n=0;n<d[g[e]].length;n++){var r=a.createItem(b[d[g[e]][n]]);k.appendChild(r.element);a.items.push(r)}f.appendChild(h);f.appendChild(l);
f.appendChild(k);m.appendChild(f)}if(c.length)for(e=0;e<c.length;e++)r=a.createItem(b[c[e]]),a.items.push(r),m.appendChild(r.element);for(e=0;e<a.items.length;e++)a.items[e].element.setAttribute("data-index",e)}};a.getText=function(b){for(var c=[],d=0;d<a.selected.length;d++)a.items[a.selected[d]]&&c.push(a.items[a.selected[d]].text);return b?c:c.join("; ")};a.getValue=function(b){for(var c=[],d=0;d<a.selected.length;d++)a.items[a.selected[d]]&&c.push(a.items[a.selected[d]].value);return b?c:c.join(";")};
a.setValue=function(b){for(var c=0;c<a.selected.length;c++)a.items[a.selected[c]].element.classList.remove("jdropdown-selected");a.selected=[];if(null!=b)if(Array.isArray(b))for(c=0;c<a.items.length;c++)for(var d=0;d<b.length;d++)a.items[c].value==b[d]&&(a.selected.push(c),a.items[c].element.classList.add("jdropdown-selected"));else for(c=0;c<a.items.length;c++)a.items[c].value==b&&(a.selected.push(c),a.items[c].element.classList.add("jdropdown-selected"));a.updateLabel()};a.selectIndex=function(b){if(a.items&&
a.items[b]){b=b=parseInt(b);var d=a.getValue(),e=a.getText();null!=a.currentIndex&&a.items[a.currentIndex].element.classList.remove("jdropdown-cursor");a.items[b].element.classList.add("jdropdown-cursor");a.currentIndex=b;if(a.options.multiple){if(a.items[b].element.classList.contains("jdropdown-selected")){a.items[b].element.classList.remove("jdropdown-selected");var g=a.selected.indexOf(b);a.selected.splice(g,1)}else a.items[b].element.classList.add("jdropdown-selected"),a.selected.push(b);a.options.autocomplete||
a.updateLabel()}else a.items[b].element.classList.contains("jdropdown-selected")?a.resetSelected():(a.resetSelected(),a.items[b].element.classList.add("jdropdown-selected"),a.selected.push(b),a.close());g=a.getValue();var f=a.getText();if("function"==typeof a.options.onchange)a.options.onchange(c,b,d,g,e,f)}};a.selectItem=function(b){f.dropdown.current&&(b=b.getAttribute("data-index"),null!=b&&a.selectIndex(b))};a.find=function(b){b=b?b.toLowerCase():null;for(var c=0;c<a.items.length;c++)null==b||
-1!=a.items[c].textLowerCase.indexOf(b)?a.items[c].element.style.display="":-1==a.selected.indexOf(c)?a.items[c].element.style.display="none":a.items[c].element.style.display=""};a.updateLabel=function(){g.value=a.getText()};a.open=function(){f.dropdown.current!=c&&(f.dropdown.current&&f.dropdown.current.dropdown.close(),f.dropdown.current=c);if(!c.classList.contains("jdropdown-focus")&&(c.classList.add("jdropdown-focus"),800>f.getWindowWidth()&&(null==a.options.type||"picker"==a.options.type)&&f.slideBottom(l,
1),1==a.options.autocomplete&&(a.find(),g.value="",g.focus()),a.updateCursor(a.selected&&a.selected[0]?a.selected[0]:0),!a.options.type||"default"==a.options.type)){var b=c.getBoundingClientRect(),d=l.getBoundingClientRect();a.options.position?(l.style.position="fixed",l.style.top=window.innerHeight<b.bottom+d.height?b.top-d.height-2+"px":b.top+b.height+1+"px",l.style.left=b.left+"px"):window.innerHeight<b.bottom+d.height?l.style.bottom=b.height+"px":(l.style.top="",l.style.bottom="");l.style.minWidth=
b.width+"px"}if("function"==typeof a.options.onopen)a.options.onopen(c)};a.close=function(b){if(f.dropdown.current){f.dropdown.current=null;a.resetCursor();a.updateLabel();if(!b&&"function"==typeof a.options.onclose)a.options.onclose(c);g.blur&&g.blur();c.classList.remove("jdropdown-focus")}return a.getValue()};a.updateCursor=function(b){a.items&&a.items[b]&&a.items[b].element&&(a.resetCursor(),a.items[b].element.classList.add("jdropdown-cursor"),a.currentIndex=parseInt(b),b=a.items[a.currentIndex].element,
m.scrollTop=b.offsetTop-b.scrollTop+b.clientTop-95)};a.resetCursor=function(){null!=a.currentIndex&&(a.items&&a.items[a.currentIndex]&&a.items[a.currentIndex].element.classList.remove("jdropdown-cursor"),a.currentIndex=null)};a.resetSelected=function(){if(a.selected){for(var b=0;b<a.selected.length;b++)a.items[a.selected[b]]&&a.items[a.selected[b]].element.classList.remove("jdropdown-selected");a.selected=[]}};a.reset=function(){a.resetCursor();a.resetSelected();a.updateLabel()};a.firstVisible=function(){for(var b=
null,c=0;c<a.items.length;c++)if("none"!=a.items[c].element.style.display){b=c;break}if(null==b)return!1;a.updateCursor(b)};a.first=function(){for(var b=null,c=a.currentIndex-1;0<=c;c--)"none"!=a.items[c].element.style.display&&(b=c);if(null==b)return!1;a.updateCursor(b)};a.last=function(){for(var b=null,c=a.currentIndex+1;c<a.items.length;c++)"none"!=a.items[c].element.style.display&&(b=c);if(null==b)return!1;a.updateCursor(b)};a.next=function(){for(var b=null,c=a.currentIndex+1;c<a.items.length;c++)if("none"!=
a.items[c].element.style.display){b=c;break}if(null==b)return!1;a.updateCursor(b)};a.prev=function(){for(var b=null,c=a.currentIndex-1;0<=c;c--)if("none"!=a.items[c].element.style.display){b=c;break}if(null==b)return!1;a.updateCursor(b)};f.dropdown.hasEvents||(!0==="ontouchsend"in document.documentElement?document.addEventListener("touchsend",f.dropdown.mouseup):document.addEventListener("mouseup",f.dropdown.mouseup),document.addEventListener("keydown",f.dropdown.onkeydown),f.dropdown.hasEvents=!0);
a.init();return c.dropdown=a};f.dropdown.hasEvents=!1;f.dropdown.mouseup=function(c){var d=f.getElement(c.target,"jdropdown");if(d){var a=d.dropdown;if(c.target.classList.contains("jdropdown-header"))d.classList.contains("jdropdown-focus")&&d.classList.contains("jdropdown-default")?a.close():a.open();else if(c.target.classList.contains("jdropdown-group-name")){if(d=c.target.nextSibling.children,"none"!=c.target.nextSibling.style.display)for(var e=0;e<d.length;e++)"none"!=d[e].style.display&&a.selectItem(d[e])}else c.target.classList.contains("jdropdown-group-arrow")?
c.target.classList.contains("jdropdown-group-arrow-down")?(c.target.classList.remove("jdropdown-group-arrow-down"),c.target.classList.add("jdropdown-group-arrow-up"),c.target.parentNode.nextSibling.style.display="none"):(c.target.classList.remove("jdropdown-group-arrow-up"),c.target.classList.add("jdropdown-group-arrow-down"),c.target.parentNode.nextSibling.style.display=""):c.target.classList.contains("jdropdown-item")?a.selectItem(c.target):c.target.classList.contains("jdropdown-image")?a.selectIndex(c.target.parentNode.getAttribute("data-index")):
c.target.classList.contains("jdropdown-description")?a.selectIndex(c.target.parentNode.getAttribute("data-index")):c.target.classList.contains("jdropdown-title")?a.selectIndex(c.target.parentNode.parentNode.getAttribute("data-index")):(c.target.classList.contains("jdropdown-close")||c.target.classList.contains("jdropdown-backdrop"))&&a.close();c.stopPropagation();c.preventDefault()}else f.dropdown.current&&f.dropdown.current.dropdown.close()};f.dropdown.onkeydown=function(c){if(f.dropdown.current){var d=
f.dropdown.current.dropdown,a=d.currentIndex;c.shiftKey||13!=c.which&&27!=c.which&&35!=c.which&&36!=c.which&&38!=c.which&&40!=c.which||(13==c.which?d.selectIndex(a):38==c.which?null==a?d.firstVisible():0<a&&d.prev():40==c.which?null==a?d.firstVisible():a+1<d.options.data.length&&d.next():36==c.which?d.first():35==c.which?d.last():27==c.which&&d.close(),c.stopPropagation(),c.preventDefault())}};f.dropdown.extractFromDom=function(c,d){d||(d={});!c.getAttribute("multiple")||d&&void 0!=d.multiple||(d.multiple=
!0);!c.getAttribute("placeholder")||d&&void 0!=d.placeholder||(d.placeholder=c.getAttribute("placeholder"));!c.getAttribute("data-autocomplete")||d&&void 0!=d.autocomplete||(d.autocomplete=!0);d&&void 0!=d.width||(d.width=c.offsetWidth);!c.value||d&&void 0!=d.value||(d.value=c.value);if(!d||void 0==d.data){d.data=[];for(var a=0;a<c.children.length;a++)if("OPTGROUP"==c.children[a].tagName)for(var e=0;e<c.children[a].children.length;e++)d.data.push({id:c.children[a].children[e].value,name:c.children[a].children[e].innerHTML,
group:c.children[a].getAttribute("label")});else d.data.push({id:c.children[a].value,name:c.children[a].innerHTML})}d&&void 0!=d.onchange||(d.onchange=function(a,e,f,m){1==d.multiple?obj.items[e].classList.contains("jdropdown-selected")?c.options[e].setAttribute("selected","selected"):c.options[e].removeAttribute("selected"):c.value=m});a=document.createElement("div");c.parentNode.insertBefore(a,c);c.style.display="none";return{el:a,options:d}};f.image=function(c,d){var a={options:{}},e={minWidth:!1,
onchange:null,singleFile:!0,remoteParser:null,text:{extensionNotAllowed:"The extension is not allowed",imageTooSmall:"The resolution is too low, try a image with a better resolution. width > 800px"}},b;for(b in e)d&&d.hasOwnProperty(b)?a.options[b]=d[b]:a.options[b]=e[b];c.classList.add("jupload");a.addImage=function(a){a.date||(a.date="");var b=document.createElement("img");b.setAttribute("data-date",a.lastmodified?a.lastmodified:a.date);b.setAttribute("data-name",a.name);b.setAttribute("data-size",
a.size);b.setAttribute("data-small",a.small?a.small:"");b.setAttribute("data-cover",a.cover?1:0);b.setAttribute("data-extension",a.extension);b.setAttribute("src",a.file);b.className="jfile";b.style.width="100%";return b};a.addImages=function(b){1==a.options.singleFile&&(c.innerHTML="");for(var d=0;d<b.length;d++)c.appendChild(a.addImage(b[d]))};a.addFromFile=function(b){if("image"==b.type.split("/")[0]){1==a.options.singleFile&&(c.innerHTML="");var d=new FileReader;d.addEventListener("load",function(d){var e=
new Image;e.onload=function(){var d=document.createElement("canvas");d.width=e.width;d.height=e.height;d.getContext("2d").drawImage(e,0,0,d.width,d.height);d={file:d.toDataURL(),extension:b.name.substr(b.name.lastIndexOf(".")+1),name:b.name,size:b.size,lastmodified:b.lastModified};d=a.addImage(d);c.appendChild(d);if("function"==typeof a.options.onchange)a.options.onchange(d)};e.src=d.srcElement.result});d.readAsDataURL(b)}else alert(text.extentionNotAllowed)};a.addFromUrl=function(b){if("data"==b.substr(0,
4)||a.options.remoteParser){if("data"==b.substr(0,4)){var d=b.split(";");d=d[0].split("/");d=d[1]}else d=b.substr(b.lastIndexOf(".")+1),b=a.options.remoteParser+b;var e=new Image;e.onload=function(){var b=document.createElement("canvas");b.width=e.width;b.height=e.height;b.getContext("2d").drawImage(e,0,0,b.width,b.height);b.toBlob(function(e){e={file:window.URL.createObjectURL(e),extension:d};var g=a.addImage(e);c.appendChild(g);var l=b.toDataURL();f.files[e.file]=l.substr(l.indexOf(",")+1);if("function"==
typeof a.options.onchange)a.options.onchange(g)})};e.src=b}else console.error("remoteParser not defined in your initialization")};var g=document.createElement("input");g.type="file";g.setAttribute("accept","image/*");g.onchange=function(){for(var b=0;b<this.files.length;b++)a.addFromFile(this.files[b])};c.addEventListener("dblclick",function(a){f.click(g)});c.addEventListener("dragenter",function(a){c.style.border="1px dashed #000"});c.addEventListener("dragleave",function(a){c.style.border="1px solid #eee"});
c.addEventListener("dragstop",function(a){c.style.border="1px solid #eee"});c.addEventListener("dragover",function(a){a.preventDefault()});c.addEventListener("drop",function(b){b.preventDefault();b.stopPropagation();var d=(b.originalEvent||b).dataTransfer.getData("text/html");if((b.originalEvent||b).dataTransfer.files.length)for(d=0;d<b.dataTransfer.files.length;d++)a.addFromFile(b.dataTransfer.files[d]);else if(d&&(1==a.options.singleFile&&(c.innerHTML=""),b=document.createElement("div"),b.innerHTML=
d,b=b.querySelectorAll("img"),b.length))for(d=0;d<b.length;d++)a.addFromUrl(b[d].src);c.style.border="1px solid #eee";return!1});return c.image=a};f.loading=function(){var c={},d=document.createElement("div");d.className="jloading";c.show=function(){document.body.appendChild(d)};c.hide=function(){document.body.removeChild(d)};return c}();f.mask=function(){var c={},d=0,a=[],e=[];c.run=function(b,e,f){if(b&&e){f||(f=".");if(b==Number(b)){var g=(""+b).split(".");b=g[0];g=g[1]}else b=""+b;d=0;a=[];c.prepare(e);
if(b)for(e=0;e<b.length;e++)null!=b[e]&&c.process(b[e]);if(g&&(c.process(f),b=g))for(e=0;e<b.length;e++)null!=b[e]&&c.process(b[e]);return a.join("")}return""};c.apply=function(b){var g=b.target.getAttribute("data-mask");if(g&&46<b.keyCode){d=0;a=[];c.prepare(g);if(g=b.target.selectionStart<b.target.selectionEnd?b.target.value.substring(0,b.target.selectionStart):b.target.value)for(var f=0;f<g.length;f++)null!=g[f]&&c.process(g[f]);c.process(c.fromKeyCode(b));b.target.value=a.join("");e.length==a.length&&
e[e.length-1].length==a[a.length-1].length?b.target.setAttribute("data-completed","true"):b.target.setAttribute("data-completed","false");b.preventDefault()}};c.process=function(b){do{if("mm"==e[d])return null==a[d]||""==a[d]?1<parseInt(b)&&10>parseInt(b)?(a[d]="0"+b,d++,!0):10>parseInt(b)?(a[d]=b,!0):!1:1==a[d]&&2>a[d]&&3>parseInt(b)||0==a[d]&&10>a[d]?(a[d]+=b,d++,!0):!1;if("dd"==e[d])return null==a[d]||""==a[d]?3<parseInt(b)&&10>parseInt(b)?(a[d]="0"+b,d++,!0):10>parseInt(b)?(a[d]=b,!0):!1:3==a[d]&&
2>parseInt(b)||3>a[d]&&10>parseInt(b)?(a[d]+=b,d++,!0):!1;if("hh24"==e[d])return null==a[d]||""==a[d]?2<parseInt(b)&&10>parseInt(b)?(a[d]="0"+b,d++,!0):10>parseInt(b)?(a[d]=b,!0):!1:2==a[d]&&4>parseInt(b)||2>a[d]&&10>parseInt(b)?(a[d]+=b,d++,!0):!1;if("hh"==e[d])return null==a[d]||""==a[d]?1<parseInt(b)&&10>parseInt(b)?(a[d]="0"+b,d++,!0):10>parseInt(b)?(a[d]=b,!0):!1:1==a[d]&&3>parseInt(b)||1>a[d]&&10>parseInt(b)?(a[d]+=b,d++,!0):!1;if("mi"==e[d]||"ss"==e[d])return null==a[d]||""==a[d]?5<parseInt(b)&&
10>parseInt(b)?(a[d]="0"+b,d++,!0):10>parseInt(b)?(a[d]=b,!0):!1:10>parseInt(b)?(a[d]+=b,d++,!0):!1;if("yy"==e[d]||"yyyy"==e[d])return 10>parseInt(b)?(a[d]=null==a[d]||""==a[d]?b:a[d]+b,a[d].length==e[d].length&&d++,!0):!1;if("#"==e[d]||"#.##"==e[d]||"#,##"==e[d]||"# ##"==e[d]){if(b.match(/[0-9]/g)){var c="#.##"==e[d]?".":"#,##"==e[d]?",":"# ##"==e[d]?" ":"";if(null==a[d]||""==a[d])a[d]=b;else if(a[d]+=b,c){a[d]=a[d].match(/[0-9]/g).join("");b=[];for(var f=0,m=a[d].length-1;0<=m;m--)b.push(a[d][m]),
f++,f%3||b.push(c);b=b.reverse();a[d]=b.join("");a[d].substr(0,1)==c&&(a[d]=a[d].substr(1))}return!0}if(!("#.##"==e[d]&&"."==b||"#,##"==e[d]&&","==b||"# ##"==e[d]&&" "==b)&&a[d]&&(d++,e[d])){if(e[d]==b)return a[d]=b,!0;if("0"==e[d]&&e[d+1]==b)return d++,a[d]=b,!0}return!1}if("0"==e[d])return b.match(/[0-9]/g)?(a[d]=b,d++,!0):!1;if("a"==e[d])return b.match(/[a-zA-Z]/g)?(a[d]=b,d++,!0):!1;if(null!=e[d]&&(c="\\a"==e[d]?"a":"\\0"==e[d]?"0":"[-]"==e[d]?"-"==b||"+"==b?b:" ":e[d],a[d]=c,b==c))return d++,
!0;d++}while(e[d])};c.prepare=function(a){e=[];for(var b=0;b<a.length;b++)a[b].match(/[0-9]|[a-z]|\\/g)?"y"==a[b]&&"y"==a[b+1]&&"y"==a[b+2]&&"y"==a[b+3]?(e.push("yyyy"),b+=3):"y"==a[b]&&"y"==a[b+1]?(e.push("yy"),b++):"m"==a[b]&&"m"==a[b+1]&&"m"==a[b+2]&&"m"==a[b+3]?(e.push("mmmm"),b+=3):"m"==a[b]&&"m"==a[b+1]&&"m"==a[b+2]?(e.push("mmm"),b+=2):"m"==a[b]&&"m"==a[b+1]?(e.push("mm"),b++):"d"==a[b]&&"d"==a[b+1]?(e.push("dd"),b++):"h"==a[b]&&"h"==a[b+1]&&"2"==a[b+2]&&"4"==a[b+3]?(e.push("hh24"),b+=3):"h"==
a[b]&&"h"==a[b+1]?(e.push("hh"),b++):"m"==a[b]&&"i"==a[b+1]?(e.push("mi"),b++):"s"==a[b]&&"s"==a[b+1]?(e.push("ss"),b++):"a"==a[b]&&"m"==a[b+1]?(e.push("am"),b++):"p"==a[b]&&"m"==a[b+1]?(e.push("pm"),b++):"\\"==a[b]&&"0"==a[b+1]?(e.push("\\0"),b++):"\\"==a[b]&&"a"==a[b+1]?(e.push("\\a"),b++):e.push(a[b]):"#"==a[b]&&"."==a[b+1]&&"#"==a[b+2]&&"#"==a[b+3]?(e.push("#.##"),b+=3):"#"==a[b]&&","==a[b+1]&&"#"==a[b+2]&&"#"==a[b+3]?(e.push("#,##"),b+=3):"#"==a[b]&&" "==a[b+1]&&"#"==a[b+2]&&"#"==a[b+3]?(e.push("# ##"),
b+=3):"["==a[b]&&"-"==a[b+1]&&"]"==a[b+2]?(e.push("[-]"),b+=2):e.push(a[b])};c.fromKeyCode=function(a){var b={188:"44",109:"45",190:"46",191:"47",192:"96",220:"92",222:"39",221:"93",219:"91",173:"45",187:"61",186:"59",189:"45"},c={96:"~",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",45:"_",61:"+",91:"{",93:"}",92:"|",59:":",39:'"',44:"<",46:">",47:"?"},d=a.which;b.hasOwnProperty(d)&&(d=b[d]);return d=!a.shiftKey&&65<=d&&90>=d?String.fromCharCode(d+32):a.shiftKey&&c.hasOwnProperty(d)?
c[d]:96<=d&&105>=d?String.fromCharCode(d-48):String.fromCharCode(d)};return c}();f.modal=function(c,d){var a={options:{}},e={url:null,onopen:null,onclose:null,closed:!1,width:null,height:null,title:null},b;for(b in e)d&&d.hasOwnProperty(b)?a.options[b]=d[b]:a.options[b]=e[b];!a.options.title&&c.getAttribute("title")&&(a.options.title=c.getAttribute("title"));e=document.createElement("div");for(b=0;b<c.children.length;b++)e.appendChild(c.children[b]);a.content=document.createElement("div");a.content.className=
"jmodal_content";a.content.innerHTML=c.innerHTML;for(b=0;b<e.children.length;b++)a.content.appendChild(e.children[b]);a.container=document.createElement("div");a.container.className="jmodal";a.container.appendChild(a.content);a.options.width&&(a.container.style.width=a.options.width);a.options.height&&(a.container.style.height=a.options.height);a.options.title?a.container.setAttribute("title",a.options.title):a.container.classList.add("no-title");c.innerHTML="";c.style.display="none";c.appendChild(a.container);
var g=document.createElement("div");g.className="jmodal_backdrop";c.appendChild(g);a.open=function(){c.style.display="block";var b=a.container.getBoundingClientRect();f.getWindowWidth()<b.width?(a.container.style.top="",a.container.style.left="",a.container.classList.add("jmodal_fullscreen"),f.slideBottom(a.container,1)):g.style.display="block";f.modal.current=a;if("function"==typeof a.options.onopen)a.options.onopen(c,a)};a.resetPosition=function(){a.container.style.top="";a.container.style.left=
""};a.isOpen=function(){return"none"!=c.style.display?!0:!1};a.close=function(){c.style.display="none";g.style.display="";f.modal.current=null;a.container.classList.remove("jmodal_fullscreen");if("function"==typeof a.options.onclose)a.options.onclose(c,a)};f.modal.hasEvents||(f.modal.current=a,!0==="ontouchstart"in document.documentElement?document.addEventListener("touchstart",f.modal.mouseDownControls):(document.addEventListener("mousedown",f.modal.mouseDownControls),document.addEventListener("mousemove",
f.modal.mouseMoveControls),document.addEventListener("mouseup",f.modal.mouseUpControls)),document.addEventListener("keydown",f.modal.keyDownControls),f.modal.hasEvents=!0);a.options.url?f.ajax({url:a.options.url,method:"GET",success:function(b){a.content.innerHTML=b;a.options.closed||a.open()}}):a.options.closed||a.open();return c.modal=a};f.modal.current=null;f.modal.position=null;f.modal.keyDownControls=function(c){27==c.which&&f.modal.current&&f.modal.current.close()};f.modal.mouseUpControls=function(c){f.modal.current&&
(f.modal.current.container.style.cursor="auto");f.modal.position=null};f.modal.mouseMoveControls=function(c){if(f.modal.current&&f.modal.position)if(1==c.which||3==c.which){var d=f.modal.position;f.modal.current.container.style.top=d[1]+(c.clientY-d[3])+d[5]/2+"px";f.modal.current.container.style.left=d[0]+(c.clientX-d[2])+d[4]/2+"px";f.modal.current.container.style.cursor="move"}else f.modal.current.container.style.cursor="auto"};f.modal.mouseDownControls=function(c){f.modal.position=[];c.target.classList.contains("jmodal")&&
setTimeout(function(){var d=c.target.getBoundingClientRect();if(c.changedTouches&&c.changedTouches[0])var a=c.changedTouches[0].clientX,e=c.changedTouches[0].clientY;else a=c.clientX,e=c.clientY;50>d.width-(a-d.left)&&50>e-d.top?setTimeout(function(){f.modal.current.close()},100):c.target.getAttribute("title")&&50>e-d.top&&(document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),f.modal.position=[d.left,d.top,c.clientX,c.clientY,d.width,d.height])},
100)};return f});
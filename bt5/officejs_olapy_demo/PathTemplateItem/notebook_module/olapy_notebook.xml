<?xml version="1.0"?>
<ZopeData>
  <record id="1" aka="AAAAAAAAAAE=">
    <pickle>
      <global name="Notebook" module="erp5.portal_type"/>
    </pickle>
    <pickle>
      <dictionary>
        <item>
            <key> <string>_Access_contents_information_Permission</string> </key>
            <value>
              <tuple>
                <string>Anonymous</string>
                <string>Assignee</string>
                <string>Assignor</string>
                <string>Associate</string>
                <string>Auditor</string>
                <string>Manager</string>
              </tuple>
            </value>
        </item>
        <item>
            <key> <string>_Add_portal_content_Permission</string> </key>
            <value>
              <tuple>
                <string>Assignee</string>
                <string>Assignor</string>
                <string>Manager</string>
              </tuple>
            </value>
        </item>
        <item>
            <key> <string>_Change_local_roles_Permission</string> </key>
            <value>
              <tuple>
                <string>Assignor</string>
                <string>Manager</string>
              </tuple>
            </value>
        </item>
        <item>
            <key> <string>_Modify_portal_content_Permission</string> </key>
            <value>
              <tuple>
                <string>Assignee</string>
                <string>Assignor</string>
                <string>Manager</string>
              </tuple>
            </value>
        </item>
        <item>
            <key> <string>_View_Permission</string> </key>
            <value>
              <tuple>
                <string>Anonymous</string>
                <string>Assignee</string>
                <string>Assignor</string>
                <string>Associate</string>
                <string>Auditor</string>
                <string>Manager</string>
              </tuple>
            </value>
        </item>
        <item>
            <key> <string>content_md5</string> </key>
            <value>
              <none/>
            </value>
        </item>
        <item>
            <key> <string>default_reference</string> </key>
            <value> <string>olapy_notebook.jsmd</string> </value>
        </item>
        <item>
            <key> <string>description</string> </key>
            <value>
              <none/>
            </value>
        </item>
        <item>
            <key> <string>id</string> </key>
            <value> <string>olapy_notebook</string> </value>
        </item>
        <item>
            <key> <string>language</string> </key>
            <value>
              <none/>
            </value>
        </item>
        <item>
            <key> <string>portal_type</string> </key>
            <value> <string>Notebook</string> </value>
        </item>
        <item>
            <key> <string>text_content</string> </key>
            <value> <string>%% meta\n
{\n
  "title": "Python",\n
  "languages": {\n
    "js": {\n
      "pluginType": "language",\n
      "languageId": "js",\n
      "displayName": "Javascript",\n
      "codeMirrorMode": "javascript",\n
      "module": "window",\n
      "evaluator": "eval",\n
      "keybinding": "j",\n
      "url": ""\n
    },\n
    "py": {\n
      "languageId": "py",\n
      "displayName": "python",\n
      "codeMirrorMode": "python",\n
      "keybinding": "p",\n
      "url": "/pyodide_dev.js",\n
      "module": "pyodide",\n
      "evaluator": "runPython",\n
      "pluginType": "language"\n
    }\n
  },\n
  "lastExport": "2019-02-15T13:36:12.843Z"\n
}\n
\n
%% plugin\n
{\n
  "languageId": "py",\n
  "displayName": "python",\n
  "codeMirrorMode": "python",\n
  "keybinding": "p",\n
  "url": "/pyodide_dev.js",\n
  "module": "pyodide",\n
  "evaluator": "runPython",\n
  "pluginType": "language"\n
}\n
\n
%% js\n
pyodide.loadPackage(\'olapy\')\n
\n
%% code {"language":"py"}\n
# ******************************** CUBEMEMBER **************************** \n
import os\n
\n
import pandas as pd\n
import pyodide\n
from olapy.core.services.xmla_lib import get_response\n
\n
def olapy_response(dataframes_paths, mdx_query):\n
    dataframes = {}\n
    for df_path in dataframes_paths:\n
        dataframes[os.path.splitext(os.path.basename(df_path))[0]] = pd.read_csv(pyodide.open_url(df_path), sep=\';\',\n
                                                                                 encoding=\'utf8\')\n
    #    xmla_request_params = {\'cube\': \'sales\',\n
    #                           \'properties\': {\'AxisFormat\': \'TupleFormat\', \'Format\': \'Multidimensional\',\n
    #                                          \'Content\': \'SchemaData\',\n
    #                                          \'Catalog\': \'sales\',\n
    #                                          \'LocaleIdentifier\': \'1033\', \'Timeout\': \'0\'},\n
    #                           \'mdx_query\': mdx_query}\n
\n
    xmla_request_params = {\'cube\': \'sales\',\n
                           \'request_type\': \'MDSCHEMA_MEMBERS\',\n
\'properties\': {\'Catalog\': \'sales\'},\n
                           \'restrictions\': {\'CUBE_NAME\': \'sales\',\n
                                            \'MEMBER_UNIQUE_NAME\': \'[Geography].[Geography].[America]\',\n
                                            \'TREE_OP\': \'3\',\n
                                            \'mdx_query\': mdx_query}\n
                           }\n
\n
    return get_response(xmla_request_params=xmla_request_params, dataframes=dataframes,\n
                        output=\'xmla\')  # or output=\'dict\'\n
\n
%% js\n
function get_olapy_response(dataframes_paths, mdx_query) {\n
  var reponse = pyodide.pyimport("olapy_response")\n
  return reponse(dataframes_paths, mdx_query)\n
}\n
\n
%% code {"language":"py"}\n
# ********************************* CUBEVALUE ********************************** \n
import os\n
\n
import pandas as pd\n
import pyodide\n
from olapy.core.services.xmla_lib import get_response\n
\n
\n
def olapy_response2(dataframes_paths, mdx_query):\n
    dataframes = {}\n
    for df_path in dataframes_paths:\n
        dataframes[os.path.splitext(os.path.basename(df_path))[0]] = pd.read_csv(pyodide.open_url(df_path), sep=\';\',\n
                                                                                 encoding=\'utf8\')\n
\n
    xmla_request_params = {\'cube\': \'sales\',\n
                           \'properties\': {\'Catalog\': \'sales\',\n
                                          \'Content\': \'SchemaData\',\n
                                          \'Format\': \'Multidimensional\'},\n
                           \'mdx_query\': mdx_query\n
                           }\n
\n
    return get_response(xmla_request_params=xmla_request_params, dataframes=dataframes,\n
                        output=\'xmla\')  # or output=\'dict\'\n
\n
%% js\n
function get_olapy_response2(dataframes_paths, mdx_query) {\n
  var reponse = pyodide.pyimport("olapy_response2")\n
  return reponse(dataframes_paths, mdx_query)\n
}</string> </value>
        </item>
        <item>
            <key> <string>title</string> </key>
            <value> <string>olapy_notebook.jsmd</string> </value>
        </item>
        <item>
            <key> <string>workflow_history</string> </key>
            <value>
              <persistent> <string encoding="base64">AAAAAAAAAAI=</string> </persistent>
            </value>
        </item>
      </dictionary>
    </pickle>
  </record>
  <record id="2" aka="AAAAAAAAAAI=">
    <pickle>
      <global name="PersistentMapping" module="Persistence.mapping"/>
    </pickle>
    <pickle>
      <dictionary>
        <item>
            <key> <string>data</string> </key>
            <value>
              <dictionary>
                <item>
                    <key> <string>document_publication_workflow</string> </key>
                    <value>
                      <persistent> <string encoding="base64">AAAAAAAAAAM=</string> </persistent>
                    </value>
                </item>
                <item>
                    <key> <string>edit_workflow</string> </key>
                    <value>
                      <persistent> <string encoding="base64">AAAAAAAAAAQ=</string> </persistent>
                    </value>
                </item>
                <item>
                    <key> <string>processing_status_workflow</string> </key>
                    <value>
                      <persistent> <string encoding="base64">AAAAAAAAAAU=</string> </persistent>
                    </value>
                </item>
              </dictionary>
            </value>
        </item>
      </dictionary>
    </pickle>
  </record>
  <record id="3" aka="AAAAAAAAAAM=">
    <pickle>
      <global name="WorkflowHistoryList" module="Products.ERP5Type.patches.WorkflowTool"/>
    </pickle>
    <pickle>
      <tuple>
        <none/>
        <list>
          <dictionary>
            <item>
                <key> <string>action</string> </key>
                <value> <string>publish_alive</string> </value>
            </item>
            <item>
                <key> <string>actor</string> </key>
                <value> <string>zope</string> </value>
            </item>
            <item>
                <key> <string>comment</string> </key>
                <value> <string></string> </value>
            </item>
            <item>
                <key> <string>error_message</string> </key>
                <value> <string></string> </value>
            </item>
            <item>
                <key> <string>time</string> </key>
                <value>
                  <object>
                    <klass>
                      <global name="DateTime" module="DateTime.DateTime"/>
                    </klass>
                    <tuple>
                      <none/>
                    </tuple>
                    <state>
                      <tuple>
                        <float>1550239539.64</float>
                        <string>UTC</string>
                      </tuple>
                    </state>
                  </object>
                </value>
            </item>
            <item>
                <key> <string>validation_state</string> </key>
                <value> <string>published_alive</string> </value>
            </item>
          </dictionary>
        </list>
      </tuple>
    </pickle>
  </record>
  <record id="4" aka="AAAAAAAAAAQ=">
    <pickle>
      <global name="WorkflowHistoryList" module="Products.ERP5Type.patches.WorkflowTool"/>
    </pickle>
    <pickle>
      <tuple>
        <none/>
        <list>
          <dictionary>
            <item>
                <key> <string>action</string> </key>
                <value> <string>edit</string> </value>
            </item>
            <item>
                <key> <string>actor</string> </key>
                <value> <string>zope</string> </value>
            </item>
            <item>
                <key> <string>comment</string> </key>
                <value>
                  <none/>
                </value>
            </item>
            <item>
                <key> <string>error_message</string> </key>
                <value> <string></string> </value>
            </item>
            <item>
                <key> <string>serial</string> </key>
                <value> <string>973.45027.41918.43724</string> </value>
            </item>
            <item>
                <key> <string>state</string> </key>
                <value> <string>current</string> </value>
            </item>
            <item>
                <key> <string>time</string> </key>
                <value>
                  <object>
                    <klass>
                      <global name="DateTime" module="DateTime.DateTime"/>
                    </klass>
                    <tuple>
                      <none/>
                    </tuple>
                    <state>
                      <tuple>
                        <float>1550239530.12</float>
                        <string>UTC</string>
                      </tuple>
                    </state>
                  </object>
                </value>
            </item>
          </dictionary>
        </list>
      </tuple>
    </pickle>
  </record>
  <record id="5" aka="AAAAAAAAAAU=">
    <pickle>
      <global name="WorkflowHistoryList" module="Products.ERP5Type.patches.WorkflowTool"/>
    </pickle>
    <pickle>
      <tuple>
        <none/>
        <list>
          <dictionary>
            <item>
                <key> <string>action</string> </key>
                <value>
                  <none/>
                </value>
            </item>
            <item>
                <key> <string>actor</string> </key>
                <value> <string>zope</string> </value>
            </item>
            <item>
                <key> <string>comment</string> </key>
                <value> <string></string> </value>
            </item>
            <item>
                <key> <string>error_message</string> </key>
                <value> <string></string> </value>
            </item>
            <item>
                <key> <string>external_processing_state</string> </key>
                <value> <string>empty</string> </value>
            </item>
            <item>
                <key> <string>serial</string> </key>
                <value> <string>0.0.0.0</string> </value>
            </item>
            <item>
                <key> <string>time</string> </key>
                <value>
                  <object>
                    <klass>
                      <global name="DateTime" module="DateTime.DateTime"/>
                    </klass>
                    <tuple>
                      <none/>
                    </tuple>
                    <state>
                      <tuple>
                        <float>1550238889.45</float>
                        <string>UTC</string>
                      </tuple>
                    </state>
                  </object>
                </value>
            </item>
          </dictionary>
        </list>
      </tuple>
    </pickle>
  </record>
</ZopeData>

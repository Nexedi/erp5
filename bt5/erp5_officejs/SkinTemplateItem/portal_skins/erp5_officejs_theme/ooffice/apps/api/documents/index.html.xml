<?xml version="1.0"?>
<ZopeData>
  <record id="1" aka="AAAAAAAAAAE=">
    <pickle>
      <global name="File" module="OFS.Image"/>
    </pickle>
    <pickle>
      <dictionary>
        <item>
            <key> <string>_EtagSupport__etag</string> </key>
            <value> <string>ts44308795.64</string> </value>
        </item>
        <item>
            <key> <string>__name__</string> </key>
            <value> <string>index.html</string> </value>
        </item>
        <item>
            <key> <string>content_type</string> </key>
            <value> <string>text/html</string> </value>
        </item>
        <item>
            <key> <string>data</string> </key>
            <value> <string encoding="cdata"><![CDATA[

<!DOCTYPE html>\r\n
<html>\r\n
<head>\r\n
    <title>ONLYOFFICE Documents</title>\r\n
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\r\n
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=IE8"/>\r\n
    <meta name="description" content="" />\r\n
    <meta name="keywords" content="" />\r\n
\r\n
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">\r\n
    <meta name="apple-mobile-web-app-capable" content="yes">\r\n
    <meta name="apple-touch-fullscreen" content="yes">\r\n
\r\n
    <style type="text/css">\r\n
        html {\r\n
            height: 100%;\r\n
        }\r\n
\r\n
        body {\r\n
            height: 100%;\r\n
            margin: 0;\r\n
            padding: 0;\r\n
            overflow: hidden;\r\n
        }\r\n
\r\n
        #wrap {\r\n
            position:absolute;\r\n
            left:0;\r\n
            top:0;\r\n
            right:0;\r\n
            bottom:0;\r\n
        }\r\n
    </style>\r\n
</head>\r\n
<body>\r\n
    <div id="wrap">\r\n
        <div id="placeholder"></div>\r\n
    </div>\r\n
    <!--<script type="text/javascript" src="../../../sdk/Common/Native/native.js"></script>-->\r\n
    <!--<script type="text/javascript" src="../../../sdk/Common/AllFonts.js"></script>-->\r\n
    <script type="text/javascript" src="api.js"></script>\r\n
    <script>\r\n
        (function() {\r\n
\r\n
            // Url parameters\r\n
\r\n
            var urlParams = getUrlParams(),\r\n
                cfg = getEditorConfig(urlParams),\r\n
                doc = getDocumentData(urlParams);\r\n
\r\n
\r\n
            // Document Editor         \r\n
\r\n
            var docEditor = new DocsAPI.DocEditor(\'placeholder\', {\r\n
                type: urlParams[\'type\'],\r\n
                width: \'100%\',\r\n
                height: \'100%\',\r\n
                documentType: urlParams[\'doctype\'],\r\n
                document: doc,\r\n
                editorConfig: cfg,\r\n
                events: {\r\n
                    \'onReady\': onDocEditorReady,\r\n
                    \'onBack\': onBack,\r\n
                    \'onDocumentStateChange\': onDocumentStateChange,\r\n
                    \'onRequestEditRights\': onRequestEditRights,\r\n
//                    \'onRequestHistory\': onRequestHistory,\r\n
//                    \'onRequestHistoryData\': onRequestHistoryData,\r\n
//                    \'onRequestHistoryClose\': onRequestHistoryClose,\r\n
                    \'onSave\': onDocumentSave,\r\n
                    \'onError\': onError\r\n
                }\r\n
            });\r\n
\r\n
            // Document Editor event handlers\r\n
            function onRequestHistory() {\r\n
                docEditor.refreshHistory({\r\n
                    \'currentVersion\': 3,\r\n
                    \'history\': [\r\n
                    {\r\n
                        \'user\': {\r\n
                            id: \'8952d4ee-e8a5-42bf-86f0-6cd77801ec15\',\r\n
                            name: \'РўР°С‚СЊСЏРЅР° Р©РµСЂР±Р°РєРѕРІР°\'\r\n
                        },\r\n
                        \'changes\': null,\r\n
                        \'created\': \'1/18/2015 6:38 PM\',\r\n
                        \'version\': 1,\r\n
                        \'version_group\': 1,\r\n
                        \'key\': \'wyX9AwRq_677SWKjhfk=\'\r\n
                    },\r\n
                    {\r\n
                        \'user\': {\r\n
                            id: \'8952d4ee-e8a5-42bf-86f0-6cd77801ec15\',\r\n
                            name: \'РўР°С‚СЊСЏРЅР° Р©РµСЂР±Р°РєРѕРІР°\'\r\n
                        },\r\n
                        \'changes\': [\r\n
                            {\r\n
                                \'user\': {\r\n
                                    id: \'8952d4ee-e8a5-42bf-86f0-6cd77801ec15\',\r\n
                                    name: \'РўР°С‚СЊСЏРЅР° Р©РµСЂР±Р°РєРѕРІР°\'\r\n
                                },\r\n
                                \'created\': \'1/19/2015 6:30 PM\'\r\n
                            },\r\n
                            {\r\n
                                \'user\': {\r\n
                                    \'userid\': \'8952d4ee-e8a5-42bf-11f0-6cd77801ec15\',\r\n
                                    \'username\': \'РђР»РµРєСЃР°РЅРґСЂ РўСЂРѕС„РёРјРѕРІ\'\r\n
                                },\r\n
                                \'created\': \'1/19/2015 6:32 PM\'\r\n
                            },\r\n
                            {\r\n
                                \'user\': {\r\n
                                    id: \'8952d4ee-e8a5-42bf-86f0-6cd77801ec15\',\r\n
                                    name: \'РўР°С‚СЊСЏРЅР° Р©РµСЂР±Р°РєРѕРІР°\'\r\n
                                },\r\n
                                \'created\': \'1/19/2015 6:38 PM\'\r\n
                            }\r\n
                        ],\r\n
                        \'created\': \'2/19/2015 6:38 PM\',\r\n
                        \'version\': 2,\r\n
                        \'version_group\': 1,\r\n
                        \'key\': \'wyX9AwRq_677SWKjhfk=\'\r\n
                    },\r\n
                    {\r\n
                        \'user\': {\r\n
                            id: \'895255ee-e8a5-42bf-86f0-6cd77801ec15\',\r\n
                            name: \'Me\'\r\n
                        },\r\n
                        \'changes\': null,\r\n
                        \'created\': \'2/21/2015 6:38 PM\',\r\n
                        \'version\': 3,\r\n
                        \'version_group\': 2,\r\n
                        \'key\': \'wyX9AwRq_677SWKjhfk=\'\r\n
                    },\r\n
                    {\r\n
                        \'user\': {\r\n
                            id: \'8952d4ee-e8a5-42bf-11f0-6cd77801ec15\',\r\n
                            name: \'РђР»РµРєСЃР°РЅРґСЂ РўСЂРѕС„РёРјРѕРІ\'\r\n
                        },\r\n
                        \'changes\': null,\r\n
                        \'created\': \'2/22/2015 6:37 PM\',\r\n
                        \'version\': 4,\r\n
                        \'version_group\': 3,\r\n
                        \'key\': \'wyX9AwRq_677SWKjhfk=\'\r\n
                    },\r\n
                    {\r\n
                        \'user\': {\r\n
                            id: \'8952d4ee-e8a5-42bf-11f0-6cd33801ec15\',\r\n
                            name: \'Р›РµРѕРЅРёРґ РћСЂР»РѕРІ\'\r\n
                        },\r\n
                        \'changes\': null,\r\n
                        \'created\': \'2/24/2015 6:29 PM\',\r\n
                        \'version\': 5,\r\n
                        \'version_group\': 3,\r\n
                        \'key\': \'wyX9AwRq_677SWKjhfk=\'\r\n
                    }]\r\n
                });\r\n
            }\r\n
\r\n
            function onRequestHistoryData(revision) {\r\n
                docEditor.setHistoryData(\r\n
                    {\r\n
                        \'version\': revision.data,\r\n
                        \'url\': \'http://isa2\',\r\n
                        \'urlDiff\': \'http://isa2\'\r\n
                    }\r\n
                );\r\n
            }\r\n
\r\n
            function onRequestHistoryClose() {\r\n
                // reload page\r\n
            }\r\n
\r\n
            function onDocEditorReady(event) {\r\n
                if (event.target) {\r\n
                    //console.log(\'Ready! Editor: \', event.target);\r\n
                }\r\n
            }\r\n
\r\n
            function onBack(event) {\r\n
                //console.log(\'Go back!\');\r\n
            }\r\n
\r\n
            function onDocumentStateChange(event) {\r\n
                var isModified = event.data;\r\n
                //console.log(isModified);\r\n
            }\r\n
\r\n
            function onRequestEditRights(event) {\r\n
                // occurs whenever the user tryes to enter edit mode\r\n
                docEditor.applyEditRights(true, "Someone is editing this document right now. Please try again later.");\r\n
            }\r\n
\r\n
            function onDocumentSave(event) {\r\n
                var url = event.data;                \r\n
                // if you want to async save process return false\r\n
                // and call api.processSaveResult when ready\r\n
            }\r\n
\r\n
            function onError(event) {\r\n
                // critical error happened\r\n
                // examine event.data.errorCode and event.data.errorDescription for details\r\n
            }\r\n
\r\n
\r\n
            // helpers\r\n
\r\n
            function getUrlParams() {\r\n
                var e,\r\n
                    a = /\\+/g,  // Regex for replacing addition symbol with a space\r\n
                    r = /([^&=]+)=?([^&]*)/g,\r\n
                    d = function (s) { return decodeURIComponent(s.replace(a, " ")); },\r\n
                    q = window.location.search.substring(1),\r\n
                    urlParams = {};\r\n
\r\n
                while (e = r.exec(q))\r\n
                    urlParams[d(e[1])] = d(e[2]);\r\n
\r\n
                return urlParams;\r\n
            }\r\n
\r\n
            function getDocumentData(urlParams) {\r\n
                return {\r\n
                    key: urlParams["key"],\r\n
                    url: urlParams["url"],\r\n
                    title: urlParams["title"],\r\n
                    fileType: urlParams["filetype"],\r\n
                    vkey: urlParams["vkey"],\r\n
                    permissions: {\r\n
                        edit: true,\r\n
                        download: true,\r\n
                        reader: true\r\n
                    }\r\n
                };\r\n
            }\r\n
\r\n
            function getEditorConfig(urlParams) {\r\n
                return {\r\n
                    mode            : urlParams["mode"] || \'edit\',\r\n
                    lang            : urlParams["lang"] || \'en\',\r\n
                    canCoAuthoring  : false,\r\n
                    canBackToFolder : true,\r\n
                    canCreateNew    : true,\r\n
                    createUrl       : \'http://www.example.com/create\',\r\n
\r\n
                    user: {\r\n
                        id: urlParams["userid"] || \'uid-901\', name: urlParams["username"] || \'Hamish Mitchell\'\r\n
                    },\r\n
                    recent          : [\r\n
                        {title: \'Memory.docx\',          url: \'http://onlyoffice.com\',  folder: \'Document Editor\'},\r\n
                        {title: \'Description.doc\',      url: \'http://onlyoffice.com\',  folder: \'Document Editor\'},\r\n
                        {title: \'DocEditor_right.xsl\',  url: \'http://onlyoffice.com\',  folder: \'Spreadsheet Editor\'},\r\n
                        {title: \'api.rtf\',              url: \'http://onlyoffice.com\',  folder: \'Unnamed folder\'}\r\n
                    ],\r\n
                    templates       : [\r\n
                        {name: \'Contracts\', icon: \'../../api/documents/resources/templates/contracts.png\'},\r\n
                        {name: \'Letter\',    icon: \'../../api/documents/resources/templates/letter.png\'},\r\n
                        {name: \'List\',      icon: \'../../api/documents/resources/templates/list.png\'},\r\n
                        {name: \'Plan\',      icon: \'../../api/documents/resources/templates/plan.png\'}\r\n
                    ],\r\n
                    embedded        : {\r\n
                        embedUrl        : \'http://onlyoffice.com/embed\',\r\n
                        fullscreenUrl   : \'http://onlyoffice.com/fullscreen\',\r\n
                        saveUrl         : \'http://onlyoffice.com/download\',\r\n
                        shareUrl        : \'http://tl.com/72b4la97\',\r\n
                        toolbarDocked   : \'top\'\r\n
                    }\r\n
                    ,customization: {\r\n
//                        logoUrl: \'header logo url\', // default size 88 x 30\r\n
//                        logoUrlEmbedded: \'header logo url\', // default size 88 x 30\r\n
//                        backgroundColor: \'#ffffff\',\r\n
//                        textColor: \'#ff0000\',\r\n
//                        customer: {\r\n
//                            name: \'SuperPuper\',\r\n
//                            address: \'New-York, 125f-25\',\r\n
//                            mail: \'support@gmail.com\',\r\n
//                            www: \'www.superpuper.com\',\r\n
//                            info: \'Some info\',\r\n
//                            logo: \'https://img.imgsmail.ru/r/default/portal/0.1.29/logo.png\'\r\n
//                        },\r\n
//                        goback: {text: \'Go To London\'}\r\n
                        about: true,\r\n
                        feedback: true\r\n
                    }\r\n
                };\r\n
            }\r\n
\r\n
            // Mobile version\r\n
\r\n
            function isMobile(){\r\n
                var prefixes = {\r\n
                        ios: \'i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS \',\r\n
                        android: \'(Android |HTC_|Silk/)\',\r\n
                        blackberry: \'BlackBerry(?:.*)Version\\/\',\r\n
                        rimTablet: \'RIM Tablet OS \',\r\n
                        webos: \'(?:webOS|hpwOS)\\/\',\r\n
                        bada: \'Bada\\/\'\r\n
                    },\r\n
                    i, prefix, match;\r\n
\r\n
                for (i in prefixes){\r\n
                    if (prefixes.hasOwnProperty(i)) {\r\n
                        prefix = prefixes[i];\r\n
\r\n
                        if (navigator.userAgent.match(new RegExp(\'(?:\'+prefix+\')([^\\\\s;]+)\')))\r\n
                            return true;\r\n
                    }\r\n
                }\r\n
\r\n
                return false;\r\n
            }\r\n
\r\n
            var fixSize = function() {\r\n
                var wrapEl = document.getElementById(\'wrap\');\r\n
                if (wrapEl){\r\n
                    wrapEl.style.height = screen.availHeight + \'px\';\r\n
                    window.scrollTo(0, -1);\r\n
                    wrapEl.style.height = window.innerHeight + \'px\';\r\n
                }\r\n
            };\r\n
\r\n
            var fixIpadLandscapeIos7 = function() {\r\n
                if (navigator.userAgent.match(/iPad;.*CPU.*OS 7_\\d/i)) {\r\n
                    var wrapEl = document.getElementById(\'wrap\');\r\n
                    if (wrapEl){\r\n
                        wrapEl.style.position = "fixed";\r\n
                        wrapEl.style.bottom = 0;\r\n
                        wrapEl.style.width = "100%";\r\n
                    }\r\n
                }\r\n
            };\r\n
\r\n
            if (isMobile()){\r\n
                window.addEventListener(\'load\', fixSize);\r\n
                window.addEventListener(\'resize\', fixSize);\r\n
\r\n
                fixIpadLandscapeIos7();\r\n
            }\r\n
\r\n
        })();\r\n
    </script>\r\n
</body>\r\n
</html>\r\n


]]></string> </value>
        </item>
        <item>
            <key> <string>precondition</string> </key>
            <value> <string></string> </value>
        </item>
        <item>
            <key> <string>size</string> </key>
            <value> <int>14010</int> </value>
        </item>
        <item>
            <key> <string>title</string> </key>
            <value> <string></string> </value>
        </item>
      </dictionary>
    </pickle>
  </record>
</ZopeData>

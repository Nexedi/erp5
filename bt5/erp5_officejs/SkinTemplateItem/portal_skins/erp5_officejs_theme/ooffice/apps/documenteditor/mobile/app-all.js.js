/*
 * Copyright (c) Ascensio System SIA 2015. All rights reserved
 *
 * http://www.onlyoffice.com
 *
 * Version: 3.0.0 (build:963)
 */
if(void 0===Common)var Common={};if(Common.Gateway=new function(){var a=this,b=$(a),c={init:function(a){b.trigger("init",a)},openDocument:function(a){b.trigger("opendocument",a)},showMessage:function(a){b.trigger("showmessage",a)},applyEditRights:function(a){b.trigger("applyeditrights",a)},processSaveResult:function(a){b.trigger("processsaveresult",a)},processRightsChange:function(a){b.trigger("processrightschange",a)},refreshHistory:function(a){b.trigger("refreshhistory",a)},setHistoryData:function(a){b.trigger("sethistorydata",a)},processMouse:function(a){b.trigger("processmouse",a)},internalCommand:function(a){b.trigger("internalcommand",a)},resetFocus:function(a){b.trigger("resetfocus",a)}},d=function(a){window.parent&&window.JSON&&window.parent.postMessage(window.JSON.stringify(a),"*")},e=function(a){var b=a.data;if("[object String]"===Object.prototype.toString.apply(b)&&window.JSON){var d,e;try{d=window.JSON.parse(b)}catch(f){d=""}d&&(e=c[d.command],e&&e.call(this,d.data))}},f=function(a){e(a)};return window.attachEvent?window.attachEvent("onmessage",f):window.addEventListener("message",f,!1),{ready:function(){d({event:"onReady"})},goBack:function(a){d({event:"onBack",data:1==a})},save:function(a){d({event:"onSave",data:a})},requestEditRights:function(){d({event:"onRequestEditRights"})},requestHistory:function(){d({event:"onRequestHistory"})},requestHistoryData:function(a){d({event:"onRequestHistoryData",data:a})},requestHistoryClose:function(){d({event:"onRequestHistoryClose"})},reportError:function(a,b){d({event:"onError",data:{errorCode:a,errorDescription:b}})},setDocumentModified:function(a){d({event:"onDocumentStateChange",data:a})},internalMessage:function(a,b){d({event:"onInternalMessage",data:{type:a,data:b}})},updateVersion:function(){d({event:"onOutdatedVersion"})},on:function(c,d){var e=function(b,c){d.call(a,c)};b.on(c,e)}}},void 0===Common)var Common={};if(Common.component=Common.component||{},Common.Analytics=Common.component.Analytics=new function(){var a;return{initialize:function(b,c){if("undefined"==typeof b)throw"Analytics: invalid id.";if("undefined"==typeof c||"[object String]"!==Object.prototype.toString.apply(c))throw"Analytics: invalid category type.";a=c,$("head").append('<script type="text/javascript">var _gaq = _gaq || [];_gaq.push(["_setAccount", "'+b+'"]);_gaq.push(["_trackPageview"]);(function() {var ga = document.createElement("script"); ga.type = "text/javascript"; ga.async = true;ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(ga, s);})();</script>')},trackEvent:function(b,c,d){if("undefined"!=typeof b&&"[object String]"!==Object.prototype.toString.apply(b))throw"Analytics: invalid action type.";if("undefined"!=typeof c&&"[object String]"!==Object.prototype.toString.apply(c))throw"Analytics: invalid label type.";if("undefined"!=typeof d&&("[object Number]"!==Object.prototype.toString.apply(d)||!isFinite(d)))throw"Analytics: invalid value type.";if("undefined"!=typeof _gaq){if("undefined"===a)throw"Analytics is not initialized.";_gaq.push(["_trackEvent",a,b,c,d])}}}},Ext.Loader.setConfig({enabled:!0,disableCaching:!1,paths:{Common:"../../common/mobile/lib"}}),Ext.define("Common.component.PlanarSpinner",{extend:"Ext.field.Spinner",xtype:"planarspinnerfield",config:{},constructor:function(){var a=this;a.callParent(arguments),a.addCls("planar-spinner")},updateComponent:function(a){this.callParent(arguments);var b=(this.innerElement,this.getCls());a&&(this.spinDownButton=Ext.widget("button",{cls:"x-button x-button-base "+b+"-button "+b+"-button-down",iconCls:"spinner-down"}),this.spinUpButton=Ext.widget("button",{cls:"x-button x-button-base "+b+"-button "+b+"-button-up",iconCls:"spinner-up"}),this.downRepeater=this.createRepeater(this.spinDownButton.element,this.onSpinDown),this.upRepeater=this.createRepeater(this.spinUpButton.element,this.onSpinUp))},updateGroupButtons:function(a,b){var c=this,d=c.innerElement,e=c.getBaseCls()+"-grouped-buttons";c.getComponent(),a!=b&&(a?(this.addCls(e),d.insertFirst(c.spinDownButton.element),d.appendChild(c.spinUpButton.element)):(this.removeCls(e),d.insertFirst(c.spinDownButton.element),d.appendChild(c.spinUpButton.element)))}}),Ext.define("Common.component.RepeatableButton",{extend:"Ext.Button",xtype:"repeatablebutton",requires:["Ext.util.TapRepeater"],initialize:function(){this.callParent(arguments),this.repeater=this.createRepeater(this.element,this.onRepeatTap)},destroy:function(){var a=this;Ext.destroy(a.repeater),a.callParent(arguments)},createRepeater:function(a,b){var c=this,d=Ext.create("Ext.util.TapRepeater",{el:a,accelerate:!0,delay:500});return d.on({tap:b,touchstart:"onTouchStart",touchend:"onTouchEnd",scope:c}),d},onRepeatTap:function(a){this.fireAction("tap",[this,a,!0],"doTap")},doTap:function(a,b,c){return Ext.isBoolean(c)&&c?void this.callParent(arguments):!1},onTouchStart:function(){this.getDisabled()||this.element.addCls(Ext.baseCSSPrefix+"button-pressing")},onTouchEnd:function(){this.element.removeCls(Ext.baseCSSPrefix+"button-pressing")}}),Ext.define("Common.component.SettingsList",{extend:"Ext.List",alias:"widget.settingslist",config:{disableSelection:!0,pinHeaders:!1,grouped:!0,cls:"settings",ui:"round",itemTpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<tpl if="this.hasIcon(icon)">','<span class="list-icon {icon}"></span>',"</tpl>",'<tpl if="this.hasIcon(icon)">','<strong class="icon-offset">{setting}</strong>',"<tpl else>","<strong>{setting}</strong>","</tpl>",'<tpl if="this.hasChild(child)">','<span class="list-icon disclosure"></span>',"</tpl>","</tpl>",{hasIcon:function(a){return!Ext.isEmpty(a)},hasChild:function(a){return!Ext.isEmpty(a)}})},findGroupHeaderIndices:function(){var a,b,c,d,e=this,f=e.getStore(),g=f.getCount(),h=f.getGroups(),i=h.length,j=e.headerIndices={},k=e.footerIndices={};for(e.groups=h,a=0;i>a;a++)c=h[a].children[0],d=f.indexOf(c),j[d]=!0,b=d-1,b>=0&&(k[b]=!0);return k[g-1]=!0,j}}),Ext.define("Common.model.SettingItem",{extend:"Ext.data.Model",config:{fields:["id","setting","icon","child","group"]}}),Ext.define("Common.store.SettingsList",{extend:"Ext.data.Store",config:{model:"Common.model.SettingItem",grouper:{groupFn:function(a){return a.get("group")},sorterFn:function(){return 0}}}}),Ext.define("Common.view.PopoverPanel",{extend:"Ext.Panel",alias:"widget.commonpopoverpanel",config:{showAnimation:{type:"fadeIn",duration:100},hideAnimation:{type:"fadeOut",duration:100},modal:{cls:"transparent"}}}),Ext.define("Common.view.PopClip",{extend:"Ext.Container",alias:"widget.popclip",requires:["Ext.Panel","Ext.SegmentedButton"],config:{style:"position: absolute; z-index: 9090; background-color: transparent; width: 2px; height: 2px;"},initialize:function(){var a=this;a.popClipCmp=a.add({xtype:"panel",layout:"fit",ui:"settings",style:"padding: 1px;",hidden:!0,items:[{xtype:"container",items:[{xtype:"segmentedbutton",style:"margin: 0",ui:"base",allowToggle:!1,items:[{id:"id-btn-popclip-cut",ui:"base",style:"font-size: 0.7em; border: 0; box-shadow: none;",cls:"text-offset-12",text:this.cutButtonText},{id:"id-btn-popclip-copy",ui:"base",style:"font-size: 0.7em; border: 0; box-shadow: none;",cls:"text-offset-12",text:this.copyButtonText},{id:"id-btn-popclip-paste",ui:"base",style:"font-size: 0.7em; border: 0; box-shadow: none;",cls:"text-offset-12",text:this.pasteButtonText}]}]}]}),this.callParent(arguments)},show:function(){if(!Ext.isDefined(this.isAnim)){this.callParent(arguments);var a=this.popClipCmp;a.showBy(this,"bc-tc?"),a.hide(),a.show(),a.alignTo(this,"bc-tc?"),this.isAnim=!0,Ext.Anim.run(a,"pop",{out:!1,duration:250,easing:"ease-out",autoClear:!1}),a.element.on("transitionend",function(){Ext.isDefined(this.isAnim)&&delete this.isAnim},this,{single:!0})}},hide:function(){var a=this,b=function(c){Ext.isDefined(a.isAnim)?Ext.defer(b,50,a,c):(Ext.bind(a.callParent,a,c),a.popClipCmp.hide())};b(arguments)},cutButtonText:"Cut",copyButtonText:"Copy",pasteButtonText:"Paste"}),Ext.define("Common.controller.PopClip",{extend:"Ext.app.Controller",config:{refs:{popClip:"popclip",cutButton:"#id-btn-popclip-cut",copyButton:"#id-btn-popclip-copy",pasteButton:"#id-btn-popclip-paste"},control:{cutButton:{tap:"onTapCutButton"},copyButton:{tap:"onTapCopyButton"},pasteButton:{tap:"onTapPasteButton"}}},init:function(){},launch:function(){},setApi:function(a){this.api=a},setMode:function(a){var b=this.getCutButton(),c=(this.getCopyButton(),this.getPasteButton()),d=this.getPopClip();"view"===a?(b&&b.hide(),c&&c.hide(),d&&d.hide()):(b&&b.show(),c&&c.show(),d&&d.hide())},onTapCutButton:function(){this.api&&this.api.Cut();var a=this.getPopClip();a&&a.hide()},onTapCopyButton:function(){this.api&&this.api.Copy();var a=this.getPopClip();a&&a.hide()},onTapPasteButton:function(){this.api&&this.api.Paste();var a=this.getPopClip();a&&a.hide()}}),Ext.define("DE.plugin.Pinchemu",{extend:"Ext.Component",alias:"plugin.pinchemu",config:{helpers:!0},init:function(a){var b=this;b.touchHelpers=[],b.touchHelpers[0]=Ext.create("Ext.Button",{top:0,left:0,style:"opacity: 0.6;",iconMask:!0,round:!0,hidden:!0}),b.touchHelpers[1]=Ext.create("Ext.Button",{top:0,left:0,style:"opacity: 0.6;",iconMask:!0,round:!0,hidden:!0}),Ext.Viewport.add(b.touchHelpers[0]),Ext.Viewport.add(b.touchHelpers[1]),b.cmp=a,b.cmp.on({scope:b,painted:b.initPinchsim})},initPinchsim:function(){var a=this;this.pinchStarted=!1;var b=a.cmp;b.pinchSimEnabled||(b.rendered?a.initHandlers(b):b.on({painted:a.initHandlers}))},initHandlers:function(a){var b=this;a.element.on({scope:b,touchstart:function(c){(c.event.ctrlKey||c.event.shiftKey)&&b.pinchStarted===!1&&(b.pinchStarted=!0,c.event.ctrlKey?(b.zoomStart=100,b.zoomDirection=1):c.event.shiftKey&&(b.zoomStart=340,b.zoomDirection=-1),b.zoomFactor=1,b.onTouchStart(a,c))},touchend:function(c){b.pinchStarted&&(b.pinchStarted=!1,b.onTouchEnd(a,c))},touchcancel:function(c){b.pinchStarted&&(b.pinchStarted=!1,b.onTouchEnd(a,c))},touchmove:function(c){(c.event.ctrlKey||c.event.shiftKey)&&this.pinchStarted===!0?b.onTouchMove(a,c):b.pinchStarted&&(b.pinchStarted=!1,b.onTouchEnd(a,c))}}),a.pinchSimEnabled=!0},showHelpers:function(a){var b=a.touches;"object"==typeof b&&this.getHelpers()&&(this.moveHelpers(b),this.setHelpersArrows(a),this.touchHelpers[0].show(),this.touchHelpers[1].show())},setHelpersArrows:function(a){a.event.ctrlKey?(this.touchHelpers[0].setIconCls("arrow_right"),this.touchHelpers[1].setIconCls("arrow_left")):(this.touchHelpers[0].setIconCls("arrow_left"),this.touchHelpers[1].setIconCls("arrow_right"))},moveHelpers:function(a){this.touchHelpers[0].setTop(a[0].point.y),this.touchHelpers[0].setLeft(a[0].point.x),this.touchHelpers[1].setTop(a[1].point.y),this.touchHelpers[1].setLeft(a[1].point.x)},hideHelpers:function(){this.touchHelpers[0].hide(),this.touchHelpers[1].hide()},convertEvent:function(a){var b=this,c=Array.prototype.slice.call(a.touches);if(c||(c=b.lastTouches),a.touches=c,c.length>0){if(b.touchStartPoint)c[0].point=b.lastTouches[0].point.clone(),c[0].point.x=Ext.Number.constrain(b.lastTouches[0].point.x+b.zoomFactor*b.zoomDirection,b.touchStartPoint.x+b.zoomFactor),c[0].pageX=Ext.Number.constrain(b.lastTouches[0].pageX+b.zoomFactor*b.zoomDirection,b.touchStartPoint.x+b.zoomFactor),c[1]={},c[1].point=b.lastTouches[1].point.clone(),c[1].point.x=Ext.Number.constrain(b.lastTouches[1].point.x-b.zoomFactor*b.zoomDirection,b.touchStartPoint.x+b.zoomFactor),c[1].pageX=Ext.Number.constrain(b.lastTouches[1].pageX-b.zoomFactor*b.zoomDirection,b.touchStartPoint.x+b.zoomFactor),c[1].pageY=b.lastTouches[1].pageY,c[1].target=c[0].target,c[1].targets=c[0].targets,c[1].timeStamp=c[0].timeStamp;else{var d=c[0].point.x,e=c[0].point.y,f=c[0].pageX,g=c[0].pageY;c[0].point.x=c[0].point.x+b.zoomStart/2,c[0].pageX=c[0].pageX+b.zoomStart/2,c[1]={},c[1].identifier=2,c[1].pageX=f-b.zoomStart/2,c[1].pageY=g,c[1].point=c[0].point.clone(),c[1].point.x=d-b.zoomStart/2,c[1].point.y=c[0].point.y,c[1].target=c[0].target,c[1].targets=c[0].targets,c[1].timeStamp=c[0].timeStamp,this.touchStartPoint={x:d,y:e,pageX:f,pageY:g,distance:c[0].point.getDistanceTo(c[1].point)}}b.lastTouches=c}return a.scale=b.getNewScale(a),a},getNewScale:function(a){var b=this;if(a.touches.length>0){var c=a.touches[0].point.getDistanceTo(a.touches[1].point);return b.lastScale=c/b.touchStartPoint.distance,b.lastScale}return b.lastScale},onTouchStart:function(){this.lastScale=1;var a=this.convertEvent(arguments[1]);this.showHelpers(a)},onTouchMove:function(){var a=this.convertEvent(arguments[1]);this.lastTouches=Array.prototype.slice.call(a.touches),this.moveHelpers(a.touches)},onTouchEnd:function(){this.convertEvent(arguments[1]);this.hideHelpers(),this.touchStartPoint=null,this.lastTouches=null,this.lastScale=null}}),Ext.define("DE.view.Main",{extend:"Ext.Container",initialize:function(){this.callParent(arguments)}}),Ext.define("DE.view.phone.toolbar.Search",{extend:"Ext.Toolbar",xtype:"searchtoolbar",requires:["Ext.field.Search"],config:{docked:"top",zIndex:10,minHeight:52,ui:"search"},initialize:function(){this.add([{xtype:"searchfield",id:"id-field-search",placeHolder:this.searchText,flex:1},{xtype:"segmentedbutton",allowToggle:!1,ui:"base",items:[{id:"id-btn-search-up",ui:"base",iconCls:"spinner-prev",disabled:!0},{id:"id-btn-search-down",ui:"base",iconCls:"spinner-next",disabled:!0}]}]),this.callParent(arguments)},searchText:"Search"}),Ext.define("DE.view.phone.toolbar.View",{extend:"Ext.Toolbar",xtype:"viewtoolbar",config:{docked:"top",zIndex:10,minHeight:44,ui:"edit"},initialize:function(){this.add([{id:"id-tb-btn-view-done",ui:"base-blue",cls:"text-offset-12",hidden:!0,text:this.doneText},{xtype:"spacer"},{id:"id-tb-btn-incfontsize",ui:"base",iconCls:"textbigger",hidden:!0},{id:"id-tb-btn-decfontsize",ui:"base",iconCls:"textless",hidden:!0},{id:"id-tb-btn-search",ui:"base",iconCls:"search"},{id:"id-tb-btn-fullscreen",ui:"base",iconCls:"fullscreen"},{xtype:"spacer"},{id:"id-tb-btn-view-share",ui:"base",iconCls:"share"}]),this.callParent(arguments)},doneText:"Done",readerText:"Reader"}),Ext.define("DE.view.phone.Main",{extend:"DE.view.Main",alias:"widget.dephonemain",requires:["DE.view.phone.toolbar.Search","DE.view.phone.toolbar.View"],config:{cls:"de-phone-main",fullscreen:!0,layout:{type:"vbox",pack:"center"}},initialize:function(){this.add(Ext.create("DE.view.phone.toolbar.View",{hidden:!0})),this.add(Ext.create("DE.view.phone.toolbar.Search",{hidden:!0})),this.add({xtype:"container",layout:"vbox",id:"id-conteiner-document",flex:1,items:[{xtype:"container",flex:1,id:"id-sdkeditor",style:"z-index: 1"}]}),this.callParent(arguments)}}),Ext.define("DE.view.tablet.panel.Font",{extend:"Common.view.PopoverPanel",alias:"widget.fontpanel",requires:["Ext.NavigationView","Common.component.PlanarSpinner"],initialize:function(){var a=this;a.add({xtype:"navigationview",id:"id-font-navigate",autoDestroy:!1,cls:"plain",defaultBackButtonText:this.backText,navigationBar:{height:44,minHeight:44,hidden:!0,ui:"edit"},layout:{type:"card",animation:null},items:[{xtype:"container",layout:"hbox",height:31,id:"id-font-root",style:"background: transparent;",items:[{xtype:"button",id:"id-btn-fontname",ui:"base",style:"font-size: .7em;",text:this.fontNameText,width:185},{xtype:"spacer",width:7},{xtype:"planarspinnerfield",width:135,minValue:6,maxValue:100,stepValue:1,cycle:!1,component:{disabled:!1}},{xtype:"spacer",width:7},{xtype:"segmentedbutton",id:"id-toggle-baseline",ui:"base",cls:"divided",allowDepress:!0,items:[{id:"id-btn-baseline-up",ui:"base",iconCls:"superscript"},{id:"id-btn-baseline-down",ui:"base",iconCls:"subscript"}]}]}]}),a.add({xtype:"settingslist",hidden:!0,title:this.fontNameText,id:"id-font-name",disableSelection:!1,variableHeights:!1,store:Ext.create("Common.store.SettingsList",{})}),this.callParent(arguments)},fontNameText:"Font Name",backText:"Back"}),Ext.define("DE.view.tablet.panel.FontStyle",{extend:"Common.view.PopoverPanel",alias:"widget.fontstylepanel",requires:["Ext.SegmentedButton"],initialize:function(){var a=this;a.add({xtype:"container",layout:"hbox",items:[{xtype:"segmentedbutton",id:"id-toggle-fontstyles",ui:"base",cls:"divided",allowMultiple:!0,items:[{id:"id-btn-fontstyle-bold",ui:"base",iconCls:"bold"},{id:"id-btn-fontstyle-italic",ui:"base",iconCls:"italic"},{id:"id-btn-fontstyle-underline",ui:"base",iconCls:"underline"}]}]}),this.callParent(arguments)}}),Ext.define("DE.view.tablet.panel.Insert",{extend:"Common.view.PopoverPanel",alias:"widget.insertpanel",requires:["Ext.NavigationView","Common.component.PlanarSpinner"],initialize:function(){var a=this;a.add({xtype:"navigationview",id:"id-insert-navigate",autoDestroy:!1,defaultBackButtonText:this.backText,navigationBar:{height:44,minHeight:44,ui:"edit"},items:[{xtype:"settingslist",title:this.insertText,id:"id-insert-root",scrollable:{disabled:!0},store:Ext.create("Common.store.SettingsList",{data:[{setting:this.insertTableText,icon:"table",group:"table",child:"id-insert-table-container"},{setting:this.insertRowText,icon:"insert-row",group:"table",id:"id-insert-table-row"},{setting:this.insertColumnText,icon:"insert-column",group:"table",id:"id-insert-table-column"},{setting:this.insertPicture,icon:"picture",group:"image",child:"id-insert-picture-container"}]})}]}),a.add({xtype:"container",hidden:!0,title:this.tableText,id:"id-insert-table-container",padding:10,cls:"round",items:[{xtype:"planarspinnerfield",id:"id-spinner-table-columns",margin:"9",label:this.columnsText,labelWidth:"55%",minValue:2,maxValue:20,stepValue:1,cycle:!1},{xtype:"spacer",height:2},{xtype:"planarspinnerfield",id:"id-spinner-table-rows",margin:"9",label:this.rowsText,labelWidth:"55%",minValue:2,maxValue:20,stepValue:1,cycle:!1},{xtype:"container",padding:"5 5",items:[{xtype:"button",id:"id-btn-insert-table",ui:"light",cls:"border-radius-10",height:44,text:this.insertTableText}]}]}),a.add({xtype:"settingslist",title:this.pictureText,hidden:!0,id:"id-insert-picture-container",ui:"round",scrollable:{disabled:!0},store:Ext.create("Common.store.SettingsList",{data:[{setting:'<div class="btn-input-image" style="display: inline-block;" id="id-insert-picture-inline">'+this.pictureUploadInline+'<input style="height: 44px;" type="file" accept="image/*" capture="camera"></div>',group:"wrap"},{setting:'<div class="btn-input-image" style="display: inline-block;" id="id-insert-picture-float">'+this.pictureUploadFloat+'<input style="height: 44px;" type="file" accept="image/*" capture="camera"></div>',group:"wrap"}]})}),this.callParent(arguments)},backText:"Back",insertText:"Insert",insertTableText:"Insert Table",insertRowText:"Insert Row",insertColumnText:"Insert Column",insertPicture:"Insert Picture",tableText:"Table",columnsText:"Columns",rowsText:"Rows",pictureText:"Picture",pictureUploadInline:"Insert Inline",pictureUploadFloat:"Insert Float"}),Ext.define("DE.view.tablet.panel.ListStyle",{extend:"Common.view.PopoverPanel",alias:"widget.liststylepanel",requires:["Ext.NavigationView","Common.component.SettingsList"],initialize:function(){var a=this;a.add({xtype:"navigationview",id:"id-liststyle-navigate",autoDestroy:!1,defaultBackButtonText:this.backText,navigationBar:{height:44,minHeight:44,ui:"edit"},items:[{xtype:"settingslist",title:this.listStyleText,id:"id-liststyle-root",ui:"round",scrollable:{disabled:!0},store:Ext.create("Common.store.SettingsList",{data:[{setting:this.bulletsText,icon:"bullets",group:"markers",child:"id-liststyle-bullets"},{setting:this.numberingText,icon:"numbering",group:"markers",child:"id-liststyle-numbering"},{setting:this.outlineText,icon:"outline",group:"markers",child:"id-liststyle-outline"},{setting:this.incIndentText,icon:"indent-inc",group:"indent",id:"id-list-indent-increment"},{setting:this.decIndentText,icon:"indent-dec",group:"indent",id:"id-list-indent-decrement"}]})}]}),a.add({title:this.bulletsText,hidden:!0,id:"id-liststyle-bullets",xtype:"container",layout:"vbox",cls:"round",items:[{xtype:"dataview",flex:1,cls:"icon-view bullets",action:"style",style:"display: inline-block;",disableSelection:!0,scrollable:{disabled:!0},store:{field:["bullet","cls","type","subtype"],data:[{bullet:"none",type:0,subtype:-1,cls:"top-left"},{bullet:"bullet-0",type:0,subtype:1,cls:""},{bullet:"bullet-1",type:0,subtype:2,cls:""},{bullet:"bullet-2",type:0,subtype:3,cls:"top-right"},{bullet:"bullet-3",type:0,subtype:4,cls:"bottom-left"},{bullet:"bullet-4",type:0,subtype:5,cls:""},{bullet:"bullet-5",type:0,subtype:6,cls:""},{bullet:"bullet-6",type:0,subtype:7,cls:"bottom-right"}]},itemTpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="item-inner {cls}">',"<tpl if=\"bullet == 'none'\">",'<div class="text">'+a.noneText+"</div>","<tpl else>",'<div class="icon {bullet}">&nbsp;</div>',"</tpl>","</div>","</tpl>")}]}),a.add({title:this.numberingText,hidden:!0,id:"id-liststyle-numbering",xtype:"container",layout:"vbox",cls:"round",items:[{xtype:"dataview",flex:1,cls:"icon-view numbering",action:"style",style:"display: inline-block;",disableSelection:!0,scrollable:{disabled:!0},store:{field:["numbering","cls","type","subtype"],data:[{numbering:"none",type:1,subtype:-1,cls:"top-left"},{numbering:"numbering-0",type:1,subtype:4,cls:""},{numbering:"numbering-1",type:1,subtype:5,cls:""},{numbering:"numbering-2",type:1,subtype:6,cls:"top-right"},{numbering:"numbering-3",type:1,subtype:1,cls:"bottom-left"},{numbering:"numbering-4",type:1,subtype:2,cls:""},{numbering:"numbering-5",type:1,subtype:3,cls:""},{numbering:"numbering-6",type:1,subtype:7,cls:"bottom-right"}]},itemTpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="item-inner {cls}">',"<tpl if=\"numbering == 'none'\">",'<div class="text">'+a.noneText+"</div>","<tpl else>",'<div class="icon {numbering}">&nbsp;</div>',"</tpl>","</div>","</tpl>")}]}),a.add({title:this.outlineText,hidden:!0,id:"id-liststyle-outline",xtype:"container",layout:"vbox",cls:"round",items:[{xtype:"dataview",flex:1,cls:"icon-view outline",action:"style",style:"display: inline-block;",disableSelection:!0,scrollable:{disabled:!0},store:{field:["outline","cls","type","subtype"],data:[{outline:"none",type:2,subtype:-1,cls:"top-left bottom-left"},{outline:"outline-0",type:2,subtype:1,cls:""},{outline:"outline-1",type:2,subtype:2,cls:""},{outline:"outline-2",type:2,subtype:3,cls:"top-right bottom-right"}]},itemTpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="item-inner {cls}">',"<tpl if=\"outline == 'none'\">",'<div class="text">'+a.noneText+"</div>","<tpl else>",'<div class="icon {outline}">&nbsp;</div>',"</tpl>","</div>","</tpl>")}]}),this.callParent(arguments)},backText:"Back",listStyleText:"List Style",bulletsText:"Bullets",numberingText:"Numbering",outlineText:"Outline",incIndentText:"Increment indent",decIndentText:"Decrement Indent",noneText:"none"}),Ext.define("DE.view.tablet.panel.ParagraphAlignment",{extend:"Common.view.PopoverPanel",alias:"widget.paragraphalignmentpanel",initialize:function(){var a=this;a.add({xtype:"container",layout:"hbox",items:[{xtype:"segmentedbutton",id:"id-toggle-paragraphalignment",ui:"base",cls:"divided",items:[{id:"id-btn-paragraphalignment-left",ui:"base",iconCls:"align-left"},{id:"id-btn-paragraphalignment-center",ui:"base",iconCls:"align-center"},{id:"id-btn-paragraphalignment-right",ui:"base",iconCls:"align-right"},{id:"id-btn-paragraphalignment-fill",ui:"base",iconCls:"align-fill"}]}]}),this.callParent(arguments)}}),Ext.define("DE.view.tablet.panel.Spacing",{extend:"Common.view.PopoverPanel",alias:"widget.spacingpanel",requires:["Ext.NavigationView","Common.component.SettingsList"],initialize:function(){var a=this;a.add({xtype:"navigationview",id:"id-spacing-navigate",autoDestroy:!1,defaultBackButtonText:this.backText,navigationBar:{height:44,minHeight:44,ui:"edit"},items:[{xtype:"settingslist",title:this.spacingText,id:"id-spacing-root",ui:"round",scrollable:{disabled:!0},store:Ext.create("Common.store.SettingsList",{data:[{setting:this.lineSpacingText,icon:"spacing",group:"line",child:"id-spacing-linespacing"},{setting:this.incIndentText,icon:"indent-inc",group:"indent",id:"id-linespacing-increaseindent"},{setting:this.decIndentText,icon:"indent-dec",group:"indent",id:"id-linespacing-decrementindent"}]})}]}),a.add({title:this.spacingText,hidden:!0,id:"id-spacing-linespacing",xtype:"settingslist",disableSelection:!1,allowDeselect:!0,store:Ext.create("Common.store.SettingsList",{data:[{setting:"1.0",group:"spacing"},{setting:"1.15",group:"spacing"},{setting:"1.5",group:"spacing"},{setting:"2",group:"spacing"},{setting:"2.5",group:"spacing"},{setting:"3.0",group:"spacing"}]})}),this.callParent(arguments)},backText:"Back",spacingText:"Spacing",lineSpacingText:"Paragraph Line Spacing",incIndentText:"Increase Indent",decIndentText:"Decrement Indent"}),Ext.define("DE.view.tablet.panel.TextColor",{extend:"Common.view.PopoverPanel",alias:"widget.textcolorsettingspanel",requires:["Ext.NavigationView","Common.component.SettingsList"],initialize:function(){var a=this;a.add({xtype:"navigationview",id:"id-textcolor-navigate",autoDestroy:!1,defaultBackButtonText:this.backText,navigationBar:{height:44,minHeight:44,ui:"edit"},items:[{xtype:"settingslist",title:this.colorText,id:"id-textcolor-root",scrollable:{disabled:!0},store:Ext.create("Common.store.SettingsList",{data:[{setting:this.highlightColorText,icon:"highlightcolor",group:"color",child:"id-textcolor-highlight"},{setting:this.textColorText,icon:"textcolor",group:"color",child:"id-textcolor-text"}]})}]}),a.add({title:this.highlightColorText,hidden:!0,id:"id-textcolor-highlight",xtype:"container",layout:"vbox",cls:"round",items:[{xtype:"dataview",flex:1,cls:"color",style:"display: inline-block;",store:{field:["color"],data:[{color:"FFFF00"},{color:"00FF00"},{color:"00FFFF"},{color:"FF00FF"},{color:"0000FF"},{color:"FF0000"},{color:"00008B"},{color:"008B8B"},{color:"006400"},{color:"800080"},{color:"8B0000"},{color:"808000"},{color:"FFFFFF"},{color:"D3D3D3"},{color:"A9A9A9"},{color:"000000"}]},itemTpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="item-inner" style="background-color: #{color};"></div>',"</tpl>")},{xtype:"container",padding:"12 18",items:[{xtype:"button",id:"id-btn-highlight-none",ui:"light",cls:"border-radius-10",height:44,text:this.noFillText}]}]}),a.add({title:this.textColorText,hidden:!0,id:"id-textcolor-text",xtype:"container",layout:"vbox",cls:"round",items:[{xtype:"dataview",flex:1,cls:"color",style:"display: inline-block;",store:{field:["color"],data:[{color:"FFFFFF"},{color:"EBEBEB"},{color:"D6D6D6"},{color:"C0C0C0"},{color:"AAAAAA"},{color:"929292"},{color:"7A7A7A"},{color:"606060"},{color:"444444"},{color:"232323"},{color:"000000"},{color:"0C3649"},{color:"0E1957"},{color:"14003B"},{color:"2E013E"},{color:"3A051C"},{color:"580504"},{color:"561C04"},{color:"553403"},{color:"523E02"},{color:"646302"},{color:"4E5703"},{color:"263F0E"},{color:"144C64"},{color:"18297A"},{color:"1F0052"},{color:"440259"},{color:"530D2A"},{color:"7D0C08"},{color:"772907"},{color:"764A05"},{color:"745904"},{color:"8A8803"},{color:"6D780A"},{color:"395919"},{color:"216C8E"},{color:"253AA9"},{color:"310076"},{color:"60047C"},{color:"74153F"},{color:"AE1610"},{color:"A63D0E"},{color:"A3690B"},{color:"A27D09"},{color:"C0BF06"},{color:"98A811"},{color:"507C27"},{color:"2C8BB3"},{color:"314DD5"},{color:"3E0094"},{color:"7A069F"},{color:"941E51"},{color:"DA1E17"},{color:"D15014"},{color:"CE8611"},{color:"CC9F0E"},{color:"F0EF0A"},{color:"C0D41B"},{color:"689F34"},{color:"36A1D7"},{color:"3D55FE"},{color:"5301B3"},{color:"980ABD"},{color:"B2275F"},{color:"F83D26"},{color:"F86A1D"},{color:"F7AC16"},{color:"F7CA12"},{color:"FAFF44"},{color:"D6EF39"},{color:"79BE40"},{color:"41C5FB"},{color:"5581FD"},{color:"6800EB"},{color:"BD10F3"},{color:"DE337D"},{color:"F86056"},{color:"F8864D"},{color:"F8B544"},{color:"F8CD44"},{color:"FBFA6D"},{color:"E1F266"},{color:"97D65F"},{color:"6CD4FC"},{color:"81A3FE"},{color:"8D3BFD"},{color:"D145FE"},{color:"E76DA0"},{color:"FA8B84"},{color:"F9A67F"},{color:"F9C879"},{color:"FADA79"},{color:"FBFB96"},{color:"E8F590"},{color:"B2E08B"},{color:"9FE3FD"},{color:"AEC3FE"},{color:"B385FD"},{color:"E18BFF"},{color:"EFA2C1"},{color:"FBB4B0"},{color:"FBC5AC"},{color:"FBDAA9"},{color:"FBE6A9"},{color:"FCFDBA"},{color:"F0F9B8"},{color:"CDEAB5"},{color:"CFF0FE"},{color:"D6E2FE"},{color:"DAC7FE"},{color:"F0C7FE"},{color:"F6D2E1"},{color:"FCDAD9"},{color:"FDE2D7"},{color:"FDEDD5"},{color:"FDF2D5"},{color:"FDFDDD"},{color:"F7FBDB"},{color:"E0EED4"}]},itemTpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="item-inner" style="background-color: #{color};"></div>',"</tpl>")}]}),this.callParent(arguments)},backText:"Back",colorText:"Color",highlightColorText:"Highlight color",textColorText:"Text color",noFillText:"No Fill"}),Ext.define("DE.view.tablet.toolbar.Edit",{extend:"Ext.Toolbar",xtype:"edittoolbar",requires:["Common.component.RepeatableButton"],config:{docked:"top",zIndex:5,minHeight:44,ui:"edit"},initialize:function(){this.add([{xtype:"toolbar",minHeight:40,flex:1,style:"margin: 0; padding: 0;",items:[{id:"id-tb-btn-done",ui:"base-blue",cls:"text-offset-12",text:this.doneText},{id:"id-tb-btn-save",ui:"base",iconCls:"save"}]},{xtype:"repeatablebutton",id:"id-tb-btn-undo",disabled:!0,ui:"base",iconCls:"undo"},{xtype:"spacer",width:30},{id:"id-tb-btn-font",ui:"base",cls:"text-offset-30",text:this.fontText},{id:"id-tb-btn-style",ui:"base",iconCls:"font-style"},{id:"id-tb-btn-color",ui:"base",iconCls:"font-color"},{xtype:"spacer",width:30},{id:"id-tb-btn-align",ui:"base",iconCls:"align-left"},{id:"id-tb-btn-liststyle",ui:"base",iconCls:"bullets"},{id:"id-tb-btn-paragraph",ui:"base",iconCls:"spacing"},{xtype:"spacer",width:30},{id:"id-tb-btn-table",ui:"base",iconCls:"insert"},{xtype:"toolbar",minHeight:40,flex:1,style:"margin: 0; padding: 0;",layout:{type:"hbox",pack:"end"},items:[{id:"id-tb-btn-share",ui:"base",iconCls:"share"}]}]),this.add({xtype:"fontpanel",layout:"fit",ui:"settings",width:440,height:46,id:"id-panel-font",top:0,left:0,hidden:!0,hideOnMaskTap:!0}),this.add({xtype:"fontstylepanel",layout:"fit",ui:"settings",width:154,height:45,id:"id-panel-font-style",top:0,left:0,hidden:!0,hideOnMaskTap:!0}),this.add({xtype:"textcolorsettingspanel",layout:"fit",ui:"settings",width:350,height:172,id:"id-panel-text-color",top:0,left:0,hidden:!0,hideOnMaskTap:!0}),this.add({xtype:"paragraphalignmentpanel",layout:"fit",ui:"settings",width:205,height:45,id:"id-panel-paragraph-alignment",top:0,left:0,hidden:!0,hideOnMaskTap:!0}),this.add({xtype:"liststylepanel",layout:"fit",ui:"settings",width:337,height:328,id:"id-panel-liststyle",top:0,left:0,hidden:!0,hideOnMaskTap:!0}),this.add({xtype:"spacingpanel",layout:"fit",ui:"settings",width:350,height:235,id:"id-panel-spacing",top:0,left:0,hidden:!0,hideOnMaskTap:!0}),this.add({xtype:"insertpanel",layout:"fit",ui:"settings",width:350,height:283,id:"id-panel-insert",top:0,left:0,hidden:!0,hideOnMaskTap:!0}),this.callParent(arguments)},doneText:"Done",fontText:"Font"}),Ext.define("DE.view.tablet.toolbar.Search",{extend:"Ext.Toolbar",xtype:"searchtoolbar",requires:["Ext.Label","Ext.field.Search"],config:{docked:"top",zIndex:10,minHeight:52,ui:"search"},initialize:function(){this.add([{xtype:"searchfield",id:"id-field-search",placeHolder:this.searchText,flex:1},{xtype:"segmentedbutton",allowToggle:!1,ui:"base",items:[{id:"id-btn-search-up",ui:"base",iconCls:"spinner-prev",disabled:!0},{id:"id-btn-search-down",ui:"base",iconCls:"spinner-next",disabled:!0}]}]),this.callParent(arguments)},searchText:"Search"}),Ext.define("DE.view.tablet.toolbar.View",{extend:"Ext.Toolbar",xtype:"viewtoolbar",config:{docked:"top",zIndex:10,minHeight:44,ui:"edit"},initialize:function(){this.add([{xtype:"toolbar",minHeight:40,flex:1,style:"margin: 0; padding: 0;",items:[{id:"id-tb-btn-view-done",ui:"base-blue",cls:"text-offset-12",hidden:!0,text:this.doneText},{id:"id-tb-btn-editmode",ui:"base",
cls:"text-offset-12",text:this.editText},{id:"id-tb-btn-readable",ui:"base",cls:"text-offset-12",text:this.readerText}]},{id:"id-tb-btn-search",ui:"base",iconCls:"search"},{id:"id-tb-btn-incfontsize",ui:"base",iconCls:"textbigger",hidden:!0},{id:"id-tb-btn-decfontsize",ui:"base",iconCls:"textless",hidden:!0},{id:"id-tb-btn-fullscreen",ui:"base",iconCls:"fullscreen"},{xtype:"toolbar",minHeight:40,style:"margin: 0; padding: 0;",layout:{type:"hbox",pack:"end"},flex:1,items:[{id:"id-tb-btn-view-share",ui:"base",iconCls:"share"}]}]),this.callParent(arguments)},doneText:"Done",editText:"Edit",readerText:"Reader"}),Ext.define("DE.view.tablet.Main",{extend:"DE.view.Main",alias:"widget.detabletmain",requires:["Common.view.PopClip","DE.view.tablet.panel.FontStyle","DE.view.tablet.panel.Insert","DE.view.tablet.panel.ListStyle","DE.view.tablet.panel.ParagraphAlignment","DE.view.tablet.panel.Spacing","DE.view.tablet.panel.TextColor","DE.view.tablet.toolbar.Edit","DE.view.tablet.toolbar.Search","DE.view.tablet.toolbar.View"],config:{cls:"de-tablet-main",fullscreen:!0,layout:{type:"vbox",pack:"center"}},initialize:function(){this.add(Ext.create("DE.view.tablet.toolbar.Edit",{hidden:!0})),this.add(Ext.create("DE.view.tablet.toolbar.View",{hidden:!0})),this.add(Ext.create("DE.view.tablet.toolbar.Search",{hidden:!0})),this.add({xtype:"container",layout:"vbox",id:"id-conteiner-document",flex:1,items:[{xtype:"container",flex:1,id:"id-sdkeditor"}]}),this.add({xtype:"popclip",hidden:!0}),this.callParent(arguments)}}),Ext.define("DE.controller.Main",{extend:"Ext.app.Controller",editMode:!1,requires:["Ext.Anim","Ext.LoadMask","Ext.MessageBox"],launch:function(){if(!this._isSupport())return void Common.Gateway.reportError(void 0,this.unsupportedBrowserErrorText);this.initControl(),Common.component.Analytics.initialize("UA-12442749-13","Document Editor Mobile");var a=this.api,b=this.getApplication();a=new asc_docs_api("id-sdkeditor"),a.SetMobileVersion(!0),a.CreateComponents(),a.SetFontsPath("../../../sdk/Fonts/"),a.Init(),a.initEvents2MobileAdvances(),a.asc_registerCallback("asc_onStartAction",Ext.bind(this.onLongActionBegin,this)),a.asc_registerCallback("asc_onError",Ext.bind(this.onError,this)),a.asc_registerCallback("asc_onEndAction",Ext.bind(this.onLongActionEnd,this)),a.asc_registerCallback("asc_onDocumentContentReady",Ext.bind(this.onDocumentContentReady,this)),a.asc_registerCallback("asc_onOpenDocumentProgress2",Ext.bind(this.onOpenDocument,this)),a.asc_registerCallback("asc_onSaveUrl",Ext.bind(this.onSaveUrl,this)),a.asc_registerCallback("asc_onGetEditorPermissions",Ext.bind(this.onEditorPermissions,this)),Ext.each(b.getControllers(),function(b){var c=this.getApplication().getController(b);c&&Ext.isFunction(c.setApi)&&c.setApi(a)},this),this.initApi(),this.editorConfig={},Common.Gateway.on("init",Ext.bind(this.loadConfig,this)),Common.Gateway.on("opendocument",Ext.bind(this.loadDocument,this)),Common.Gateway.on("showmessage",Ext.bind(this.onExternalMessage,this)),Common.Gateway.on("resetfocus",Ext.bind(this.onResetFocus,this)),Common.Gateway.on("processsaveresult",Ext.bind(this.onProcessSaveResult,this)),Common.Gateway.on("processrightschange",Ext.bind(this.onProcessRightsChange,this)),Common.Gateway.ready()},initControl:function(){},initApi:function(){},loadConfig:function(a){if(this.editorConfig=Ext.merge(this.editorConfig,a.config),(void 0===this.editorConfig.user||null===this.editorConfig.user)&&(this.editorConfig.user={},this.editorConfig.users)){this.editorConfig.userId=this.editorConfig.userId||0;for(var b=0;b<this.editorConfig.users.length;b++)if(this.editorConfig.users[b].id===this.editorConfig.userId){this.editorConfig.user={id:this.editorConfig.users[b].id,name:this.editorConfig.users[b].username};break}}this.editorConfig.user.id=this.editorConfig.user.id||"uid-"+Ext.Date.now(),this.editorConfig.user.name=this.editorConfig.user.name||this.textAnonymous},loadDocument:function(a){if(a.doc){this.permissions=a.doc.permissions;var b=new CDocInfo;b.put_Id(a.doc.key),b.put_Url(a.doc.url),b.put_Title(a.doc.title),b.put_Format(a.doc.fileType),b.put_VKey(a.doc.vkey),b.put_Options(a.doc.options),b.put_UserId(this.editorConfig.user.id),b.put_UserName(this.editorConfig.user.name),this.api.asc_setDocInfo(b),this.api.asc_getEditorPermissions(),Common.component.Analytics.trackEvent("Load","Start")}},onEditorPermissions:function(a){this.permissions.edit!==!1&&(this.permissions.edit=a.asc_getCanEdit()),this.permissions.reader!==!1&&(this.permissions.reader=a.asc_getCanReaderMode());var b=this.getApplication().getCurrentProfile(),c=this.getApplication().getController("Main",b?b.getNamespace():null),d=this.permissions.edit===!0&&"view"!==this.editorConfig.mode,e=this.permissions.reader===!0;c&&(Ext.os.is.Phone&&e&&(this.api.SetReaderModeOnly(),d=!1),Ext.isFunction(c.setMode)&&c.setMode(d?"edit":"view"),Ext.isFunction(c.setReadableMode)&&c.setReadableMode(e)),this.api.SetViewMode(!d),this.api.LoadDocument(),this.api.Resize()},goBack:function(){Common.Gateway.goBack()},onDocumentContentReady:function(){this.api&&(this.api.Resize(),this.api.zoomFitToWidth()),this._hideLoadSplash(),Common.component.Analytics.trackEvent("Load","Complete")},onOpenDocument:function(a){var b=document.getElementById("loadmask-text");b&&(b.innerHTML=this.loadingDocText+": "+Math.round(a)+"%")},onSaveUrl:function(a){Common.Gateway.save(a)},onLongActionBegin:function(a,b){var c="";switch(b){case c_oAscAsyncAction.Save:c=this.saveText;break;case c_oAscAsyncAction.Print:c=this.printText}a==c_oAscAsyncActionType.BlockInteraction&&Ext.Viewport.setMasked({xtype:"loadmask",message:c})},onLongActionEnd:function(){Ext.Viewport.unmask()},onError:function(a,b,c){this._hideLoadSplash();var d={closable:!1};switch(a){case c_oAscError.ID.Unknown:d.message=this.unknownErrorText;break;case c_oAscError.ID.ConvertationTimeout:d.message=this.convertationTimeoutText;break;case c_oAscError.ID.ConvertationError:d.message=this.convertationErrorText;break;case c_oAscError.ID.DownloadError:d.message=this.downloadErrorText;break;case c_oAscError.ID.UplImageSize:d.message=this.uploadImageSizeMessage;break;case c_oAscError.ID.UplImageExt:d.message=this.uploadImageExtMessage;break;case c_oAscError.ID.UplImageFileCount:d.message=this.uploadImageFileCountMessage;break;case c_oAscError.ID.SplitCellMaxRows:d.message=this.splitMaxRowsErrorText.replace("%1",c.get_Value());break;case c_oAscError.ID.SplitCellMaxCols:d.message=this.splitMaxColsErrorText.replace("%1",c.get_Value());break;case c_oAscError.ID.SplitCellRowsDivider:d.message=this.splitDividerErrorText.replace("%1",c.get_Value());break;case c_oAscError.ID.VKeyEncrypt:d.message=this.errorKeyEncrypt;break;case c_oAscError.ID.KeyExpire:d.message=this.errorKeyExpire;break;case c_oAscError.ID.UserCountExceed:d.message=this.errorUsersExceed;break;case c_oAscError.ID.CoAuthoringDisconnect:d.message=this.errorCoAuthoringDisconnect;break;case c_oAscError.ID.MobileUnexpectedCharCount:d.message=this.errorDocTooBig,d.out=!0;break;default:d.message=this.errorDefaultMessage.replace("%1",a)}b==c_oAscError.Level.Critical?(Common.Gateway.reportError(a,d.message),d.title=this.criticalErrorTitle,d.message+="<br/>"+this.criticalErrorExtText,d.buttons=Ext.Msg.OK,d.fn=function(a){"ok"==a&&(d.out===!0?Common.Gateway.goBack():window.location.reload())}):(d.title=this.notcriticalErrorTitle,d.buttons=Ext.Msg.OK,d.fn=Ext.emptyFn),Ext.Msg.show(d),Common.component.Analytics.trackEvent("Internal Error",a.toString())},onExternalMessage:function(a){a&&(this._hideLoadSplash(),Ext.Msg.show({title:a.title,msg:"<br/>"+a.msg,icon:Ext.Msg[a.severity.toUpperCase()],buttons:Ext.Msg.OK}),Common.component.Analytics.trackEvent("External Error",a.title))},onResetFocus:function(){var a=document.activeElement;a.focus()},onProcessSaveResult:function(a){this.api&&this.api.asc_OnSaveEnd(a.result)},onProcessRightsChange:function(a){this.api&&a&&a.enabled===!1&&this.api.asc_coAuthoringDisconnect()},_hideLoadSplash:function(){var a=Ext.get("loading-mask");a&&Ext.Anim.run(a,"fade",{out:!0,duration:250,after:function(){a.destroy()}})},_isSupport:function(){return Ext.browser.is.WebKit&&(Ext.os.is.iOS||Ext.os.is.Android||Ext.os.is.Desktop)},loadingDocText:"LOADING DOCUMENT",saveText:"Saving...",printText:"Printing...",criticalErrorTitle:"Error",notcriticalErrorTitle:"Warning",errorDefaultMessage:"Error code: %1",criticalErrorExtText:'Press "Ok" to reload view page.',uploadImageSizeMessage:"Maximium image size limit exceeded.",uploadImageExtMessage:"Unknown image format.",uploadImageFileCountMessage:"No images uploaded.",reloadButtonText:"Reload Page",unknownErrorText:"Unknown error.",convertationTimeoutText:"Convertation timeout exceeded.",convertationErrorText:"Convertation failed.",downloadErrorText:"Download failed.",unsupportedBrowserErrorText:"Your browser is not supported.",splitMaxRowsErrorText:"The number of rows must be less than %1",splitMaxColsErrorText:"The number of columns must be less than %1",splitDividerErrorText:"The number of rows must be a divisor of %1",requestEditRightsText:"Requesting editing rights...",requestEditFailedTitleText:"Access denied",requestEditFailedMessageText:"Someone is editing this document right now. Please try again later.",errorKeyEncrypt:"Unknown key descriptor",errorKeyExpire:"Key descriptor expired",errorUsersExceed:"Count of users was exceed",errorCoAuthoringDisconnect:"Server connection lost. You can't edit anymore.",errorDocTooBig:"The document you are trying to open has more than 30000 characters or 1000 paragraphs in it and cannot by opened on your mobile device. Please try open it using a desktop PC.",textAnonymous:"Anonymous"}),Ext.define("DE.controller.Document",{extend:"Ext.app.Controller",init:function(){},launch:function(){Ext.getCmp("id-conteiner-document").on("resize",this.onEditorResize,this)},setApi:function(a){this.api=a,this.api&&(this.api.asc_registerCallback("asc_onShowPopMenu",Ext.bind(this.onApiShowPopMenu,this)),this.api.asc_registerCallback("asc_onHidePopMenu",Ext.bind(this.onApiHidePopMenu,this)))},onEditorResize:function(){this.api&&(this.api.Resize(),this.onApiHidePopMenu())},onApiShowPopMenu:function(a,b){var c=Ext.ComponentQuery.query("popclip");c.length>0&&(c[0].setLeft(a),c[0].setTop(b),c[0].show())},onApiHidePopMenu:function(){var a=Ext.ComponentQuery.query("popclip");a.length>0&&a[0].hide()}}),Ext.define("DE.controller.Search",function(){return{extend:"Ext.app.Controller",config:{refs:{searchToolbar:"searchtoolbar",nextResultButton:"#id-btn-search-down",previousResultButton:"#id-btn-search-up",searchField:"#id-field-search"},control:{searchToolbar:{hide:"onSearchToolbarHide"},previousResultButton:{tap:"onPreviousResultButtonTap"},nextResultButton:{tap:"onNextResultButtonTap"},searchField:{keyup:"onSearchKeyUp",change:"onSearchChange",clearicontap:"onClearSearch"}}},init:function(){},setApi:function(a){this.api=a},updateNavigation:function(){var a=this.getSearchField().getValue();this.getNextResultButton().setDisabled(!(a.length>0)),this.getPreviousResultButton().setDisabled(!(a.length>0))},clearSearchResults:function(){this.getSearchField()&&(this.getSearchField().setValue(""),this.updateNavigation()),window.focus(),document.activeElement.blur()},onSearchToolbarHide:function(){this.clearSearchResults()},onNextResultButtonTap:function(){this.api.asc_findText(this.getSearchField().getValue(),!0)},onPreviousResultButtonTap:function(){this.api.asc_findText(this.getSearchField().getValue(),!1)},onSearchKeyUp:function(a,b){13==b.event.keyCode&&a.getValue().length>0&&this.api.asc_findText(a.getValue(),!0),this.updateNavigation()},onSearchChange:function(){this.updateNavigation()},onClearSearch:function(){this.clearSearchResults()}}}()),Ext.define("DE.controller.phone.Main",{extend:"DE.controller.Main",requires:["Ext.Anim"],config:{refs:{viewToolbar:"viewtoolbar",searchToolbar:"searchtoolbar",readableBtn:"#id-tb-btn-readable",searchButton:"#id-tb-btn-search",incFontSizeButton:"#id-tb-btn-incfontsize",decFontSizeButton:"#id-tb-btn-decfontsize",shareButton:"#id-tb-btn-view-share"}},launch:function(){this.callParent(arguments)},initControl:function(){this.callParent(arguments)},initApi:function(){this.callParent(arguments)},setApi:function(a){this.api=a;var b=this.getViewToolbar();b&&b.show(),this.api&&this.api.asc_enableKeyEvents(!1)},setReadableMode:function(a){var b=this.getReadableBtn(),c=this.getSearchButton(),d=this.getIncFontSizeButton(),e=this.getDecFontSizeButton(),f=this.getShareButton();a?(b&&b.show(),c&&c.hide(),d&&d.show(),e&&e.show(),f&&f.hide()):(b&&b.hide(),c&&c.show(),d&&d.hide(),e&&e.hide(),f&&f.show())}}),Ext.define("DE.controller.tablet.Main",{extend:"DE.controller.Main",requires:["Ext.Anim"],config:{refs:{editToolbar:"edittoolbar",viewToolbar:"viewtoolbar",searchToolbar:"searchtoolbar",readableBtn:"#id-tb-btn-readable"},control:{}},launch:function(){this.callParent(arguments)},initControl:function(){this.callParent(arguments)},initApi:function(){this.callParent(arguments)},setApi:function(a){this.api=a},setMode:function(a){var b=this.getEditToolbar(),c=this.getViewToolbar(),d=this.getSearchToolbar(),e=this.getApplication().getController("Common.controller.PopClip");"edit"==a?(c&&c.hide(),d&&d.hide(),b&&b.show(),this.api&&this.api.asc_enableKeyEvents(!0),this.api&&this.api.SetViewMode(!1)):(b&&b.hide(),c&&c.show(),this.api&&this.api.asc_enableKeyEvents(!1),this.api&&this.api.SetViewMode(!0)),e&&e.setMode(a)},setReadableMode:function(a){var b=this.getReadableBtn();b&&(a?b.show():b.hide())}}),Ext.define("DE.controller.tablet.panel.Font",{extend:"Ext.app.Controller",config:{refs:{fontPanel:"fontpanel",navigateView:"#id-font-navigate",fontSizeSpinner:"fontpanel planarspinnerfield",fontView:"#id-font-root",fontNameView:"#id-font-name",fontNameButton:"#id-btn-fontname",fontButton:"#id-tb-btn-font",fontBaseToggle:"#id-toggle-baseline",fontBaseUp:"#id-btn-baseline-up",fontBaseDown:"#id-btn-baseline-down"},control:{fontPanel:{show:"onFontPanelShow",hide:"onFontPanelHide"},navigateView:{push:"onNavigateViewPush",pop:"onNavigateViewPop",back:"onNavigateViewBack"},fontNameButton:{tap:"onFontNameButtonTap"},fontSizeSpinner:{blur:"onFontSizeSpinnerBlur",focus:"onFontSizeSpinnerFocus",keyup:"onFontSizeSpinnerKeyUp",spin:"onFontSizeSpinnerSpin"},fontNameView:{select:"onFontNameSelect",itemtap:"onFontNameItemTap"},fontBaseUp:{tap:"onFontBaseUpTap"},fontBaseDown:{tap:"onFontBaseDownTap"}},handleApiEvent:!1},init:function(){},launch:function(){},setApi:function(a){this.api=a,this.api&&(this.api.asc_registerCallback("asc_onFontFamily",Ext.bind(this.onApiFontChange,this)),this.api.asc_registerCallback("asc_onInitEditorFonts",Ext.bind(this.onApiLoadFonts,this)),this.api.asc_registerCallback("asc_onFontSize",Ext.bind(this.onApiFontSize,this)),this.api.asc_registerCallback("asc_onVerticalAlign",Ext.bind(this.onApiVerticalAlign,this)),this.api.asc_registerCallback("asc_onDocumentContentReady",Ext.bind(this.onDocumentContentReady,this)))},onFontPanelShow:function(){this.setHandleApiEvent(!0),this.api&&this.api.UpdateInterfaceState()},onFontPanelHide:function(a){this.setHandleApiEvent(!1);var b=this.getNavigateView(),c=this.getFontSizeSpinner();if(c&&Ext.defer(function(){c.blur()},200),b){b.reset(),b.addCls("plain"),b.getNavigationBar().hide();var d=b.getActiveItem(),e=this.getSizeById(d&&d.id);a.setSize(e.width,e.height)}},onFontNameButtonTap:function(){var a=this.getNavigateView(),b=this.getFontNameView();if(a){var c=a.getNavigationBar();c&&c.show(),a.push(b)}},onFontSizeSpinnerFocus:function(){this.api&&this.api.asc_enableKeyEvents(!1)},onFontSizeSpinnerBlur:function(a){this.api&&this.api.asc_enableKeyEvents(!0),this.getFontSizeSpinner().setValue(a.getValue()),this.api&&(this.api.put_TextPrFontSize(a.getValue()),Common.component.Analytics.trackEvent("ToolBar","Font Size"))},onFontSizeSpinnerKeyUp:function(a,b){(13==b.browserEvent.keyCode||10==b.browserEvent.keyCode)&&(b.stopEvent(),a.element.dom.blur(),this.api&&(this.api.put_TextPrFontSize(a.getValue()),Common.component.Analytics.trackEvent("ToolBar","Font Size")))},onFontSizeSpinnerSpin:function(a,b){this.api&&(this.api.put_TextPrFontSize(b),Common.component.Analytics.trackEvent("ToolBar","Font Size"))},getSizeById:function(a){switch(a){case"id-font-name":return{width:350,height:300};default:case"id-font-root":return{width:440,height:46}}},toggleSegmentedButton:function(a){var b=this.getFontBaseToggle();if(b){var c=[];a&&c.push(a),b.setPressedButtons(c)}},onNavigateViewPush:function(a,b){var c=a.getParent(),d=this.getSizeById(b&&b.id);if(c){c.setSize(d.width,d.height);var e=this.getNavigateView();e&&(e.removeCls("plain"),e.getNavigationBar().show());var f=this.getFontButton();f&&c.alignTo(f)}},onNavigateViewPop:function(){},onNavigateViewBack:function(a){var b=a.getParent(),c=a.getActiveItem(),d=this.getSizeById(c&&c.id);if(c&&"id-font-root"==c.id){var e=this.getNavigateView();e&&(e.addCls("plain"),e.getNavigationBar().hide())}if(b){b.setSize(d.width,d.height);var f=this.getFontButton();f&&b.alignTo(f)}},onFontNameSelect:function(a,b){var c=this.getFontNameButton();c&&c.setText(b.get("setting"))},onFontNameItemTap:function(a,b,c,d){this.api&&(this.api.put_TextPrFontName(d.get("setting")),Common.component.Analytics.trackEvent("ToolBar","Font Name"))},onFontBaseUpTap:function(a){if(this.api){var b=this.getFontBaseToggle();b&&(this.api.put_TextPrBaseline(b.isPressed(a)?1:0),Common.component.Analytics.trackEvent("ToolBar","Superscript"))}},onFontBaseDownTap:function(a){if(this.api){var b=this.getFontBaseToggle();b&&(this.api.put_TextPrBaseline(b.isPressed(a)?2:0),Common.component.Analytics.trackEvent("ToolBar","Subscript"))}},onDocumentContentReady:function(){if(this.api){var a=this.api.get_PropertyEditorFonts();a&&this.onApiLoadFonts(a)}},onApiFontChange:function(a){if(this.getHandleApiEvent()){var b=this.getFontNameView();if(b){var c=a.get_Name(),d=b.getStore().findRecord("setting",c);d&&b.select(d)}}},onApiLoadFonts:function(a){var b=this.getFontNameView();if(b){var c=[];Ext.each(a,function(a){c.push({setting:a.asc_getFontName(),group:"font"})}),b.getStore().setData(c)}},onApiFontSize:function(a){if(this.getHandleApiEvent()){var b=this.getFontSizeSpinner();b&&b.setValue(a)}},onApiVerticalAlign:function(a){if(this.getHandleApiEvent())switch(a){case 1:this.toggleSegmentedButton(this.getFontBaseUp());break;case 2:this.toggleSegmentedButton(this.getFontBaseDown());break;default:this.toggleSegmentedButton()}}}),Ext.define("DE.controller.tablet.panel.FontStyle",{extend:"Ext.app.Controller",config:{refs:{fontStylePanel:"fontstylepanel",fontStylesToggle:"#id-toggle-fontstyles",fontStyleBold:"#id-btn-fontstyle-bold",fontStyleItalic:"#id-btn-fontstyle-italic",fontStyleUnderline:"#id-btn-fontstyle-underline"},control:{fontStylePanel:{show:"onFontStyleShow",hide:"onFontStyleHide"},fontStyleBold:{tap:"onBoldButtonTap"},fontStyleItalic:{tap:"onItalicButtonTap"},fontStyleUnderline:{tap:"onUnderlineButtonTap"}},handleApiEvent:!1},init:function(){},launch:function(){},setApi:function(a){this.api=a,this.api&&(this.api.asc_registerCallback("asc_onBold",Ext.bind(this.onApiBold,this)),this.api.asc_registerCallback("asc_onItalic",Ext.bind(this.onApiItalic,this)),this.api.asc_registerCallback("asc_onUnderline",Ext.bind(this.onApiUnderline,this)))},onFontStyleShow:function(){this.setHandleApiEvent(!0),this.api&&this.api.UpdateInterfaceState()},onFontStyleHide:function(){this.setHandleApiEvent(!1)},_toggleSegmentedButton:function(a,b){var c=this.getFontStylesToggle();if(c&&a){var d=c.getPressedButtons().slice(),e=c.getPressedButtons(),f=e.indexOf(a);b?0>f&&e.push(a):f>-1&&e.splice(f,1),c.updatePressedButtons(e,d)}},onApiBold:function(a){this.getHandleApiEvent()&&this._toggleSegmentedButton(this.getFontStyleBold(),a)},onApiItalic:function(a){this.getHandleApiEvent()&&this._toggleSegmentedButton(this.getFontStyleItalic(),a)},onApiUnderline:function(a){this.getHandleApiEvent()&&this._toggleSegmentedButton(this.getFontStyleUnderline(),a)},onBoldButtonTap:function(a){var b=this.getFontStylesToggle();b&&this.api&&(this.api.put_TextPrBold(b.isPressed(a)),Common.component.Analytics.trackEvent("ToolBar","Bold"))},onItalicButtonTap:function(a){var b=this.getFontStylesToggle();b&&this.api&&(this.api.put_TextPrItalic(b.isPressed(a)),Common.component.Analytics.trackEvent("ToolBar","Italic"))},onUnderlineButtonTap:function(a){var b=this.getFontStylesToggle();b&&this.api&&(this.api.put_TextPrUnderline(b.isPressed(a)),Common.component.Analytics.trackEvent("ToolBar","Underline"))}}),Ext.define("DE.controller.tablet.panel.Insert",{extend:"Ext.app.Controller",config:{refs:{insertPanel:"insertpanel",navigateView:"#id-insert-navigate",insertListView:"#id-insert-root",insertTableView:"#id-insert-table-container",insertPictureView:"#id-insert-picture-container",insertTableButton:"#id-btn-insert-table",tableColumnsSpinner:"#id-spinner-table-columns",tableRowsSpinner:"#id-spinner-table-rows",insertImageList:"#id-insert-picture-container"},control:{insertPanel:{hide:"onInsertPanelHide"},navigateView:{push:"onNavigateViewPush",pop:"onNavigateViewPop",back:"onNavigateViewBack"},insertListView:{itemsingletap:"onInsertListItemTap"},insertTableButton:{tap:"onInsertTableButtonTap"},insertImageList:{itemtap:"onInsertImageItemTap"}}},init:function(){},onInsertImageListShow:function(){var a=this,b=document.querySelector("#id-insert-picture-inline input[type=file]"),c=document.querySelector("#id-insert-picture-float input[type=file]"),d=function(c){if(Ext.isDefined(c)){var d=c.files[0];if(Ext.isDefined(d)){var e=a.getInsertPanel(),f=new MegaPixImage(d);f.imageLoadListeners.push(function(){var d=document.createElement("canvas"),e=new CImgProperty;f.render(d,{maxWidth:1024,maxHeight:1024}),e.put_WrappingStyle(c==b?c_oAscWrapStyle2.Inline:c_oAscWrapStyle2.Square),a.api.AddImageUrl(d.toDataURL(),e),Ext.Viewport.unmask()}),c.value="",e&&e.hide(),Ext.Viewport.setMasked({xtype:"loadmask",message:a.uploadingText+"..."})}}};b&&(b.onchange=Ext.bind(d,a,[b])),c&&(c.onchange=Ext.bind(d,a,[c]))},launch:function(){var a=this.getInsertImageList();a&&a.on("show",Ext.bind(this.onInsertImageListShow,this),this,{delay:1e3,single:!0})},setApi:function(a){this.api=a},onInsertPanelHide:function(a){var b=this.getNavigateView(),c=this.getTableColumnsSpinner(),d=this.getTableRowsSpinner();if(b){Ext.isDefined(b.getLayout().getAnimation().getInAnimation)&&b.getLayout().getAnimation().getInAnimation().stop(),Ext.isDefined(b.getLayout().getAnimation().getOutAnimation)&&b.getLayout().getAnimation().getOutAnimation().stop(),b.reset();var e=b.getActiveItem(),f=this.getHeightById(e&&e.id);a.setHeight(f)}c&&c.setValue(c.getMinValue()),d&&d.setValue(d.getMinValue())},onInsertListItemTap:function(a,b,c,d){var e=this.getNavigateView(),f=d.get("id");if(Ext.isEmpty(f)||("id-insert-table-row"==f?(this.insertTableObject("row"),Common.component.Analytics.trackEvent("ToolBar","Insert Row")):"id-insert-table-column"==f&&(this.insertTableObject("column"),Common.component.Analytics.trackEvent("ToolBar","Insert Column"))),e){var g=d.get("child");if(!Ext.isEmpty(g)){var h=Ext.getCmp(g);h&&e.push(h)}}},getHeightById:function(a){switch(a){case"id-insert-table-container":return 225;case"id-insert-picture-container":return 174;default:case"id-insert-root":return 283}},onNavigateViewPush:function(a,b){var c=a.getParent();c&&c.setHeight(this.getHeightById(b&&b.id))},onNavigateViewPop:function(){},onNavigateViewBack:function(a){var b=a.getParent(),c=a.getActiveItem();b&&c&&b.setHeight(this.getHeightById(c&&c.id))},onInsertTableButtonTap:function(){var a=this.getInsertPanel(),b=this.getTableColumnsSpinner(),c=this.getTableRowsSpinner();this.api&&b&&c&&this.api.put_Table(b.getValue(),c.getValue()),a&&a.hide(),Common.component.Analytics.trackEvent("ToolBar","Table")},onInsertImageItemTap:function(){(Ext.os.is.iOS&&Ext.os.version.lt("6.0")||Ext.os.is.Android&&Ext.os.version.lt("3.0"))&&Ext.Msg.show({message:this.unsupportUploadText,promptConfig:!1,buttons:[{text:"OK",itemId:"ok",ui:"base"}]})},insertTableObject:function(a){if(this.api){var b=this.api.getSelectedElements();if(b&&b.length>0){var c=b[0].get_ObjectType();c_oAscTypeSelectElement.Table==c?"row"===a?this.api.addRowBelow():"column"===a?this.api.addColumnRight():this.api.put_Table(1,1):this.api.put_Table(1,1)}}},uploadingText:"Uploading",unsupportUploadText:"Feature is not supported on this device."}),Ext.define("DE.controller.tablet.panel.ParagraphAlignment",{extend:"Ext.app.Controller",config:{refs:{paraAlignPanel:"paragraphalignmentpanel",paraAlignsToggle:"#id-toggle-paragraphalignment",paragraphAlignmentButton:"#id-tb-btn-align",paraAlignLeft:"#id-btn-paragraphalignment-left",paraAlignCenter:"#id-btn-paragraphalignment-center",paraAlignRight:"#id-btn-paragraphalignment-right",paraAlignFill:"#id-btn-paragraphalignment-fill"},control:{paraAlignPanel:{show:"onParaAlignPanelShow",hide:"onParaAlignPanelHide"},paraAlignLeft:{tap:"onParaAlignLeftTap"},paraAlignCenter:{tap:"onParaAlignCenterTap"},paraAlignRight:{tap:"onParaAlignRightTap"},paraAlignFill:{tap:"onParaAlignFillTap"}},handleApiEvent:!1},init:function(){},launch:function(){},onParaAlignPanelShow:function(){this.setHandleApiEvent(!0),this.api&&this.api.UpdateInterfaceState()},onParaAlignPanelHide:function(){this.setHandleApiEvent(!1)},setApi:function(a){this.api=a,this.api&&this.api.asc_registerCallback("asc_onPrAlign",Ext.bind(this.onApiParagraphAlign,this))},onParaAlignLeftTap:function(){this.api&&(this.api.put_PrAlign(1),Common.component.Analytics.trackEvent("ToolBar","Align"))},onParaAlignCenterTap:function(){this.api&&(this.api.put_PrAlign(2),Common.component.Analytics.trackEvent("ToolBar","Align"))},onParaAlignRightTap:function(){this.api&&(this.api.put_PrAlign(0),Common.component.Analytics.trackEvent("ToolBar","Align"))},onParaAlignFillTap:function(){this.api&&(this.api.put_PrAlign(3),Common.component.Analytics.trackEvent("ToolBar","Align"))},toggleSegmentedButton:function(a){var b=this.getParaAlignsToggle();if(b){var c=[];a&&c.push(a),b.setPressedButtons(c)}},onApiParagraphAlign:function(a){var b=this.getParagraphAlignmentButton();if(b&&Ext.isDefined(a))switch(a){case 0:b.setIconCls("align-right");break;case 1:b.setIconCls("align-left");break;case 2:b.setIconCls("align-center");break;default:case 3:b.setIconCls("align-fill")}if(this.getHandleApiEvent()){if(!Ext.isDefined(a))return void this.toggleSegmentedButton();switch(a){case 0:this.toggleSegmentedButton(this.getParaAlignRight());break;case 1:this.toggleSegmentedButton(this.getParaAlignLeft());break;case 2:this.toggleSegmentedButton(this.getParaAlignCenter());break;default:case 3:this.toggleSegmentedButton(this.getParaAlignFill())}}}}),Ext.define("DE.controller.tablet.panel.Spacing",{extend:"Ext.app.Controller",config:{refs:{spacingPanel:"spacingpanel",navigateView:"#id-spacing-navigate",spacingListView:"#id-spacing-root",spacingValueListView:"#id-spacing-linespacing"},control:{spacingPanel:{show:"onSpacingPanelShow",hide:"onSpacingPanelHide"},navigateView:{push:"onSpacingListViewPush",pop:"onSpacingListViewPop",back:"onSpacingListViewBack"},spacingListView:{itemsingletap:"onSpacingListItemTap"},spacingValueListView:{itemsingletap:"onSpacingValueListItemTap"}},handleApiEvent:!1},init:function(){},launch:function(){},setApi:function(a){this.api=a,this.api&&this.api.asc_registerCallback("asc_onParaSpacingLine",Ext.bind(this.onApiLineSpacing,this))},onSpacingPanelShow:function(){this.setHandleApiEvent(!0),this.api&&this.api.UpdateInterfaceState()},onSpacingPanelHide:function(a){this.setHandleApiEvent(!1);var b=this.getNavigateView();if(b){Ext.isDefined(b.getLayout().getAnimation().getInAnimation)&&b.getLayout().getAnimation().getInAnimation().stop(),Ext.isDefined(b.getLayout().getAnimation().getOutAnimation)&&b.getLayout().getAnimation().getOutAnimation().stop(),b.reset();var c=b.getActiveItem(),d=this.getHeightById(c&&c.id);a.setHeight(d)}},onSpacingListItemTap:function(a,b,c,d){var e=this.getNavigateView(),f=d.get("id");if(Ext.isEmpty(f)||("id-linespacing-increaseindent"==f?(this.api&&this.api.IncreaseIndent(),Common.component.Analytics.trackEvent("ToolBar","Indent")):"id-linespacing-decrementindent"==f&&(this.api&&this.api.DecreaseIndent(),Common.component.Analytics.trackEvent("ToolBar","Indent"))),e){var g=d.get("child");if(!Ext.isEmpty(g)){var h=Ext.getCmp(g);h&&e.push(h)}}},onSpacingValueListItemTap:function(a,b,c,d){var e=parseFloat(d.get("setting")),f=1;this.api&&this.api.put_PrLineSpacing(f,e),Common.component.Analytics.trackEvent("ToolBar","Line Spacing")},getHeightById:function(a){switch(a){case"id-spacing-linespacing":return 360;default:case"id-spacing-root":return 235}},onSpacingListViewPush:function(a,b){var c=a.getParent();c&&c.setHeight(this.getHeightById(b.id))},onSpacingListViewPop:function(){},onSpacingListViewBack:function(a){var b=a.getParent(),c=a.getActiveItem();b&&c&&b.setHeight(this.getHeightById(c&&c.id))},onApiLineSpacing:function(a){if(this.getHandleApiEvent()&&Ext.isDefined(a)){var b=this.getSpacingValueListView();if(b){if(null===a.get_Line()||null===a.get_LineRule()||1!=a.get_LineRule())return void b.deselectAll();var c=a.get_Line();Math.abs(c-1)<1e-4?b.select(0):Math.abs(c-1.15)<1e-4?b.select(1):Math.abs(c-1.5)<1e-4?b.select(2):Math.abs(c-2)<1e-4?b.select(3):Math.abs(c-2.5)<1e-4?b.select(4):Math.abs(c-3)<1e-4?b.select(5):b.deselectAll()}}}}),Ext.define("DE.controller.tablet.panel.Style",{extend:"Ext.app.Controller",config:{refs:{listStylePanel:"liststylepanel",navigateView:"#id-liststyle-navigate",listStyleView:"#id-liststyle-root",bulletsListView:"#id-liststyle-bullets",numberingListView:"#id-liststyle-numbering",outlineListView:"#id-liststyle-outline",bulletsList:"#id-liststyle-bullets dataview",numberingList:"#id-liststyle-numbering dataview",outlineList:"#id-liststyle-outline dataview"},control:{listStylePanel:{show:"onListStylePanelShow",hide:"onListStylePanelHide"},navigateView:{push:"onListStyleViewPush",pop:"onListStyleViewPop",back:"onListStyleViewBack"},listStyleView:{itemsingletap:"onListStyleItemTap"},bulletsList:{itemsingletap:"onCommonListItemTap"},numberingList:{itemsingletap:"onCommonListItemTap"},outlineList:{itemsingletap:"onCommonListItemTap"}},handleApiEvent:!1},init:function(){},launch:function(){},setApi:function(a){this.api=a},onListStylePanelShow:function(){this.setHandleApiEvent(!0),this.api&&this.api.UpdateInterfaceState()},onListStylePanelHide:function(a){this.setHandleApiEvent(!1);var b=this.getNavigateView();if(b){Ext.isDefined(b.getLayout().getAnimation().getInAnimation)&&b.getLayout().getAnimation().getInAnimation().stop(),Ext.isDefined(b.getLayout().getAnimation().getOutAnimation)&&b.getLayout().getAnimation().getOutAnimation().stop(),b.reset();var c=b.getActiveItem(),d=this.getHeightById(c&&c.id);a.setHeight(d)}},onListStyleItemTap:function(a,b,c,d){var e=this.getNavigateView(),f=d.get("id");if(Ext.isEmpty(f)||("id-list-indent-increment"==f?this.onIncrementIndentButton():"id-list-indent-decrement"==f&&this.onDecrementIndentButton()),e){var g=d.get("child");if(!Ext.isEmpty(g)){var h=Ext.getCmp(g);h&&e.push(h)}}},getHeightById:function(a){switch(a){case"id-liststyle-bullets":case"id-liststyle-numbering":return 225;case"id-liststyle-outline":return 150;default:case"id-liststyle-root":return 328}},onListStyleViewPush:function(a,b){var c=a.getParent();c&&c.setHeight(this.getHeightById(b.id))},onListStyleViewPop:function(){},onListStyleViewBack:function(a){var b=a.getParent(),c=a.getActiveItem();b&&c&&b.setHeight(this.getHeightById(c&&c.id))},onCommonListItemTap:function(a,b,c,d){this.api&&this.api.put_ListType(parseInt(d.get("type")),parseInt(d.get("subtype"))),Common.component.Analytics.trackEvent("ToolBar","List Type")},onIncrementIndentButton:function(){this.api&&this.api.IncreaseIndent(),Common.component.Analytics.trackEvent("ToolBar","Indent")},onDecrementIndentButton:function(){this.api&&this.api.DecreaseIndent(),Common.component.Analytics.trackEvent("ToolBar","Indent");

}}),Ext.define("DE.controller.tablet.panel.TextColor",{extend:"Ext.app.Controller",config:{refs:{textColorPanel:"textcolorsettingspanel",navigateView:"#id-textcolor-navigate",textColorView:"#id-textcolor-root",highlightColorList:"#id-textcolor-highlight dataview",textColorList:"#id-textcolor-text dataview",noFillColorButton:"#id-btn-highlight-none"},control:{textColorPanel:{show:"onTextColorPanelShow",hide:"onTextColorPanelHide"},navigateView:{push:"onNavigateViewPush",pop:"onNavigateViewPop",back:"onNavigateViewBack"},textColorView:{itemsingletap:"onTextColorItemTap"},highlightColorList:{itemsingletap:"onHighlightListItemTap"},noFillColorButton:{tap:"onNoFillColorTap"},textColorList:{itemsingletap:"onTextColorListItemTap"}},handleApiEvent:!1},init:function(){},launch:function(){},setApi:function(a){this.api=a,this.api&&(this.api.asc_registerCallback("asc_onTextColor",Ext.bind(this.onApiTextColor,this)),this.api.asc_registerCallback("asc_onTextHighLight",Ext.bind(this.onApiHighlightColor,this)))},onTextColorPanelShow:function(){this.setHandleApiEvent(!0),this.api&&this.api.UpdateInterfaceState()},onTextColorPanelHide:function(a){this.setHandleApiEvent(!1);var b=this.getNavigateView();if(b){Ext.isDefined(b.getLayout().getAnimation().getInAnimation)&&b.getLayout().getAnimation().getInAnimation().stop(),Ext.isDefined(b.getLayout().getAnimation().getOutAnimation)&&b.getLayout().getAnimation().getOutAnimation().stop(),b.reset();var c=b.getActiveItem(),d=this.getHeightById(c&&c.id);a.setHeight(d)}},onTextColorItemTap:function(a,b,c,d){var e=this.getNavigateView();if(e){var f=d.get("child");if(!Ext.isEmpty(f)){var g=Ext.getCmp(f);g&&e.push(g)}}},onHighlightListItemTap:function(a,b,c,d){var e=this.getNoFillColorButton(),f=this.getHighlightColorList();if(e&&f){e.removeCls("x-button-pressing pressed"),f.select(d);var g=d.get("color"),h=g[0]+g[1],i=g[2]+g[3],j=g[4]+g[5];this.api&&this.api.SetMarkerFormat(!0,!0,parseInt(h,16),parseInt(i,16),parseInt(j,16)),Common.component.Analytics.trackEvent("ToolBar","Highlight Color")}},onNoFillColorTap:function(a){var b=this.getNoFillColorButton(),c=this.getHighlightColorList();b&&c&&(a.element.hasCls("x-button-pressing pressed")||(c.deselectAll(),b.addCls("x-button-pressing pressed"),this.api&&this.api.SetMarkerFormat(!0,!1),Common.component.Analytics.trackEvent("ToolBar","Highlight Color")))},onTextColorListItemTap:function(a,b,c,d){var e=this.getTextColorList();if(e){e.select(d);var f=d.get("color"),g=new CAscColor;g.put_r(parseInt(f[0]+f[1],16)),g.put_g(parseInt(f[2]+f[3],16)),g.put_b(parseInt(f[4]+f[5],16)),this.api&&this.api.put_TextColor(g),Common.component.Analytics.trackEvent("ToolBar","Text Color")}},scrollToSelected:function(a){if(a&&a.isXType("dataview")){var b,c=a.element,d=a.getSelectedCls(),e=c.down("."+d);e&&(b=e.dom.offsetTop,Ext.defer(function(){var c=a.getScrollable().getScroller().getTranslatable()._element;c&&b>c.getHeight()-a.element.getHeight()&&(b=c.getHeight()-a.element.getHeight()),a.getScrollable().getScroller().scrollTo(0,b,!0)},500))}},animateSetHeight:function(a,b){Ext.isDefined(a)&&a.setHeight(b)},getHeightById:function(a){switch(a){case"id-textcolor-root":return 172;case"id-textcolor-highlight":return 326;default:case"id-textcolor-text":return 336}},onNavigateViewPush:function(a,b){this.animateSetHeight(a.getParent(),this.getHeightById(b.id)),"id-textcolor-highlight"==b.id?this.scrollToSelected(this.getHighlightColorList()):"id-textcolor-text"==b.id&&this.scrollToSelected(this.getTextColorList())},onNavigateViewPop:function(){},onNavigateViewBack:function(a){var b=a.getParent(),c=a.getActiveItem();b&&c&&this.animateSetHeight(b,this.getHeightById(c&&c.id))},onApiTextColor:function(a){if(this.getHandleApiEvent()&&Ext.isDefined(a)){var b=this.getTextColorList();if(b){var c=function(a,b,c){var a=a.toString(16),b=b.toString(16),c=c.toString(16);return 1==a.length&&(a="0"+a),1==b.length&&(b="0"+b),1==c.length&&(c="0"+c),(a+b+c).toUpperCase()},d=c(a.get_r(),a.get_g(),a.get_b()),e=b.getStore().findRecord("color",d);e?b.select(e):b.deselectAll()}}},onApiHighlightColor:function(a){if(this.getHandleApiEvent()&&Ext.isDefined(a)){var b=this.api.get_TextProps().get_TextPr(),c=this.getHighlightColorList(),d=this.getNoFillColorButton(),e=function(){c.deselectAll(),d.addCls("x-button-pressing pressed")};if(b)if(a=b.get_HighLight(),-1==a)e();else{var f=a.get_hex().toUpperCase();if(c){var g=c.getStore().findRecord("color",f);g?(d.removeCls("x-button-pressing pressed"),c.select(g)):e()}}}}}),Ext.define("DE.controller.toolbar.Edit",{extend:"Ext.app.Controller",requires:["Ext.MessageBox","Ext.util.Point","Ext.util.Region","DE.view.tablet.panel.Font","DE.view.tablet.panel.FontStyle","DE.view.tablet.panel.Insert","DE.view.tablet.panel.ListStyle","DE.view.tablet.panel.ParagraphAlignment","DE.view.tablet.panel.Spacing","DE.view.tablet.panel.TextColor"],config:{refs:{doneButton:"#id-tb-btn-done",saveButton:"#id-tb-btn-save",undoButton:"#id-tb-btn-undo",fontButton:"#id-tb-btn-font",fontStyleButton:"#id-tb-btn-style",textColorButton:"#id-tb-btn-color",paragraphAlignmentButton:"#id-tb-btn-align",listStyleButton:"#id-tb-btn-liststyle",paragraphButton:"#id-tb-btn-paragraph",tableButton:"#id-tb-btn-table",shareButton:"#id-tb-btn-share",textColorPanel:"#id-panel-text-color",paragraphPanel:"#id-panel-spacing",paragraphAlignmentPanel:"#id-panel-paragraph-alignment",fontStylePanel:"#id-panel-font-style",listStylePanel:"#id-panel-liststyle",insertPanel:"#id-panel-insert",fontPanel:"#id-panel-font"},control:{doneButton:{tap:"onTapDone"},saveButton:{tap:"onTapSave"},undoButton:{tap:"onTapUndo"},fontButton:{tap:"onTapFont"},fontStyleButton:{tap:"onTapFontStyle"},textColorButton:{tap:"onTapTextColor"},paragraphAlignmentButton:{tap:"onTabParagraphAlignment"},listStyleButton:{tap:"onTapListStyle"},paragraphButton:{tap:"onTapParagraphButton"},tableButton:{tap:"onTapTable"},shareButton:{tap:"onTapShare"}}},launch:function(){this.callParent(arguments),Ext.getCmp("id-conteiner-document").on("resize",this.onEditorResize,this);var a=Ext.ComponentQuery.query("edittoolbar > button, edittoolbar > toolbar > button");Ext.each(Ext.ComponentQuery.query("commonpopoverpanel"),function(b){var c=b.getModal();c&&c.on("tap",function(c,d){Ext.each(a,function(a){if(a!==b.alignByCmp){var c=Ext.util.Point.fromEvent(d),e=Ext.util.Region.from(a.element.getPageBox());e.isOutOfBound(c)||a.fireEvent("tap",a,d)}},this)},this)},this),Common.Gateway.on("init",Ext.bind(this.loadConfig,this))},initControl:function(){this.callParent(arguments)},initApi:function(){},setApi:function(a){this.api=a,this.api&&(this.api.asc_registerCallback("asc_onCanUndo",Ext.bind(this.onApiCanUndo,this)),this.api.asc_registerCallback("asc_onoAuthoringDisconnect",Ext.bind(this.onCoAuthoringDisconnect,this)),this.api.asc_registerCallback("asc_onDocumentModifiedChanged",Ext.bind(this.onApiDocumentModified,this)))},loadConfig:function(a){var b=this.getDoneButton();b&&a&&a.config&&a.config.canBackToFolder===!0&&b.show()},onApiCanUndo:function(a){var b=this.getUndoButton();b&&b.setDisabled(!a)},onCoAuthoringDisconnect:function(){Ext.each(Ext.ComponentQuery.query("commonpopoverpanel"),function(a){a.hide()}),Ext.each(Ext.ComponentQuery.query("edittoolbar > button, edittoolbar > toolbar > button"),function(a){a.removeCls("x-button-pressing"),a.disable()});var a=this.getShareButton();a&&a.enable()},onApiDocumentModified:function(){var a=this.api.isDocumentModified();this.isDocModified!==a&&(this.getSaveButton()&&this.getSaveButton().setDisabled(!a),Common.Gateway.setDocumentModified(a),this.isDocModified=a)},showToolbarPanel:function(a,b){a&&b&&(a.on("hide",Ext.bind(function(){b.removeCls("x-button-pressing")},this),this,{single:!0}),b.addCls("x-button-pressing"),Ext.each(Ext.ComponentQuery.query("popclip"),function(a){a.hide(!0)},this),a.alignByCmp=b,a.setLeft(0),a.setTop(0),a.showBy(b))},onTapDone:function(){this.api.isDocumentModified()?Ext.Msg.show({title:this.dlgLeaveTitleText,message:this.dlgLeaveMsgText,buttons:[{text:this.leaveButtonText,itemId:"cancel",ui:"base"},{text:this.stayButtonText,itemId:"ok",ui:"base-blue"}],promptConfig:!1,scope:this,fn:function(a){"cancel"==a&&Common.Gateway.goBack()}}):Common.Gateway.goBack()},onTapSave:function(){this.api&&this.api.asc_Save(),Common.component.Analytics.trackEvent("ToolBar","Save")},onTapUndo:function(){this.api&&this.api.Undo(),Common.component.Analytics.trackEvent("ToolBar","Undo")},onTapShare:function(){this.api&&this.api.asc_Print(),Common.component.Analytics.trackEvent("ToolBar","Share")},onTapFont:function(){this.showToolbarPanel(this.getFontPanel(),this.getFontButton())},onTapFontStyle:function(){this.showToolbarPanel(this.getFontStylePanel(),this.getFontStyleButton())},onTapTextColor:function(){this.showToolbarPanel(this.getTextColorPanel(),this.getTextColorButton())},onTabParagraphAlignment:function(){this.showToolbarPanel(this.getParagraphAlignmentPanel(),this.getParagraphAlignmentButton())},onTapListStyle:function(){this.showToolbarPanel(this.getListStylePanel(),this.getListStyleButton())},onTapParagraphButton:function(){this.showToolbarPanel(this.getParagraphPanel(),this.getParagraphButton())},onTapTable:function(){this.showToolbarPanel(this.getInsertPanel(),this.getTableButton())},onEditorResize:function(){var a=Ext.ComponentQuery.query("commonpopoverpanel");Ext.each(a,function(a){a.hide()})},dlgLeaveTitleText:"You leave the application",dlgLeaveMsgText:"You have unsaved changes in this document. Click 'Stay on this Page' then 'Save' to save them. Click 'Leave this Page' to discard all the unsaved changes.",leaveButtonText:"Leave this Page",stayButtonText:"Stay on this Page"}),Ext.define("DE.controller.toolbar.View",{extend:"Ext.app.Controller",config:{refs:{viewToolbar:"viewtoolbar",searchToolbar:"searchtoolbar",doneButton:"#id-tb-btn-view-done",editModeButton:"#id-tb-btn-editmode",readModeButton:"#id-tb-btn-readable",searchButton:"#id-tb-btn-search",fullscreenButton:"#id-tb-btn-fullscreen",shareButton:"#id-tb-btn-view-share",incFontSizeButton:"#id-tb-btn-incfontsize",decFontSizeButton:"#id-tb-btn-decfontsize"},control:{doneButton:{tap:"onTapDoneButton"},editModeButton:{tap:"onTapEditModeButton"},searchButton:{tap:"onTapSearchButton"},readModeButton:{tap:"onTapReaderButton"},shareButton:{tap:"onTapShareButton"},incFontSizeButton:{tap:"onTapIncFontSizeButton"},decFontSizeButton:{tap:"onTapDecFontSizeButton"}},searchMode:!1,fullscreenMode:!1,readableMode:!1},init:function(){this.control({fullscreenButton:{tap:Ext.Function.createBuffered(this.onTapFullscreenButton,500,this)}})},launch:function(){this.callParent(arguments),Common.Gateway.on("init",Ext.bind(this.loadConfig,this)),Common.Gateway.on("opendocument",Ext.bind(this.loadDocument,this)),Common.Gateway.on("applyeditrights",Ext.bind(this.onApplyEditRights,this))},initControl:function(){this.callParent(arguments)},initApi:function(){},setApi:function(a){this.api=a,this.api&&(this.api.asc_registerCallback("asc_onTapEvent",Ext.bind(this.onSingleTapDocument,this)),this.api.asc_registerCallback("asc_onoAuthoringDisconnect",Ext.bind(this.onCoAuthoringDisconnect,this)))},loadConfig:function(a){var b=this.getDoneButton();b&&a&&a.config&&a.config.canBackToFolder===!0&&b.show()},loadDocument:function(a){var b={};if(a.doc){b=Ext.merge(b,a.doc.permissions);var c=this.getEditModeButton();c&&c.setHidden(b.edit!==!0)}},onApplyEditRights:function(a){if(Ext.Viewport.unmask(),a&&a.allowed){var b=this.getApplication().getController("tablet.Main");this.getReadableMode()&&this.setReadableMode(!1),this.getFullscreenMode()&&this.setFullscreenMode(!1),b&&b.setMode("edit")}else{var c=this.getEditModeButton();c&&c.hide(),Ext.Msg.show({title:this.requestEditFailedTitleText,message:a&&a.message||this.requestEditFailedMessageText,icon:Ext.Msg.INFO,buttons:Ext.Msg.OK})}},applySearchMode:function(a){if(Ext.isBoolean(a)){var b=this,c=b.getSearchToolbar(),d=b.getSearchButton();return c&&(a?(d&&d.addCls("x-button-pressing"),b.getFullscreenMode()?c.show({easing:"ease-out",preserveEndState:!0,autoClear:!1,from:{opacity:.3},to:{opacity:.9}}):c.show()):(d&&d.removeCls("x-button-pressing"),b.getFullscreenMode()?c.hide({easing:"ease-in",to:{opacity:.3}}):c.hide())),a}Ext.Logger.error("Invalid parameters.")},applyFullscreenMode:function(a){if(Ext.isBoolean(a)){var b=this.getViewToolbar(),c=this.getSearchToolbar(),d=this.getFullscreenButton(),e=Ext.ComponentQuery.query("popclip");return e.length>0&&e[0].hide(),b&&c&&(a?(d&&d.addCls("x-button-pressing"),b.setStyle({position:"absolute",left:0,top:0,right:0,opacity:.9,"z-index":17}),c.setStyle({position:"absolute",left:0,top:"44px",right:0,opacity:.9,"z-index":16}),this.setHiddenToolbars(!0)):(b.setStyle({position:"initial",opacity:1}),c.setStyle({position:"initial",opacity:1}),b.setDocked("top"),c.setDocked("top"))),a}Ext.Logger.error("Invalid parameters.")},applyReadableMode:function(a){if(Ext.isBoolean(a)){var b=this.getSearchButton(),c=this.getIncFontSizeButton(),d=this.getDecFontSizeButton(),e=this.getReadModeButton(),f=Ext.ComponentQuery.query("popclip"),g=this.getShareButton();return f.length>0&&f[0].hide(),a?(this.getSearchMode()&&this.setSearchMode(!1),a&&e&&e.addCls("x-button-pressing"),b&&b.hide(),c&&c.show(),d&&d.show(),g&&g.setDisabled(!0)):(c&&c.hide(),d&&d.hide(),b&&b.show(),g&&g.setDisabled(!1)),this.api&&this.api.ChangeReaderMode(),a}Ext.Logger.error("Invalid parameters.")},setHiddenToolbars:function(a){var b=this.getViewToolbar(),c=this.getSearchToolbar();b&&c&&(a?(b.hide({easing:"ease-out",from:{opacity:.9},to:{opacity:0}}),c.hide({easing:"ease-out",from:{opacity:.9},to:{opacity:0}})):(b.show({preserveEndState:!0,easing:"ease-in",from:{opacity:0},to:{opacity:.9}}),this.getSearchMode()&&c.show({preserveEndState:!0,easing:"ease-in",from:{opacity:0},to:{opacity:.9}})))},onTapDoneButton:function(){Common.Gateway.goBack()},onTapEditModeButton:function(){Ext.Viewport.mask(),Common.Gateway.requestEditRights()},onTapReaderButton:function(){this.setReadableMode(!this.getReadableMode())},onTapSearchButton:function(){this.setSearchMode(!this.getSearchMode())},onTapFullscreenButton:function(){this.setFullscreenMode(!this.getFullscreenMode())},onTapShareButton:function(){this.api&&this.api.asc_Print(),Common.component.Analytics.trackEvent("ToolBar View","Share")},onSingleTapDocument:function(){var a=this.getViewToolbar();a&&this.getFullscreenMode()&&this.setHiddenToolbars(!a.isHidden())},onCoAuthoringDisconnect:function(){var a=this.getEditModeButton();a&&a.setHidden(!0)},onTapIncFontSizeButton:function(){this.api&&this.api.IncreaseReaderFontSize()},onTapDecFontSizeButton:function(){this.api&&this.api.DecreaseReaderFontSize()},requestEditFailedTitleText:"Access denied",requestEditFailedMessageText:"You can't edit the document right now. Please try again later."}),Ext.define("DE.profile.Phone",{extend:"Ext.app.Profile",config:{name:"phone",namespace:"phone",controllers:["Main","DE.controller.Document","DE.controller.Search","DE.controller.toolbar.Edit","DE.controller.toolbar.View"],views:["Main"]},isActive:function(){return Ext.os.is.Phone&&(Ext.os.is.iOS||Ext.os.is.Android)},launch:function(){Ext.widget("dephonemain")}}),Ext.define("DE.profile.Tablet",{extend:"Ext.app.Profile",config:{name:"tablet",namespace:"tablet",controllers:["Main","Common.controller.PopClip","DE.controller.Document","DE.controller.Search","DE.controller.tablet.panel.Font","DE.controller.tablet.panel.FontStyle","DE.controller.tablet.panel.Insert","DE.controller.tablet.panel.Style","DE.controller.tablet.panel.ParagraphAlignment","DE.controller.tablet.panel.Spacing","DE.controller.tablet.panel.TextColor","DE.controller.toolbar.Edit","DE.controller.toolbar.View"],views:["Main"],models:["Common.model.SettingItem"],stores:["Common.store.SettingsList"]},isActive:function(){return Ext.browser.is.WebKit&&(Ext.os.is.Tablet&&(Ext.os.is.iOS||Ext.os.is.Android)||Ext.os.is.Desktop)},launch:function(){Ext.widget("detabletmain")}}),void 0===Common)var Common={};Common.Locale=new function(){var l10n={},_createXMLHTTPObject=function(){var a;try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(c){a=!1}}return a||"undefined"==typeof XMLHttpRequest||(a=new XMLHttpRequest),a},_applyLocalization=function(){try{for(var a in l10n){var b=a.split(".");if(b&&b.length>2){for(var c=window,d=0;d<b.length-1;++d)void 0===c[b[d]]&&(c[b[d]]=new Object),c=c[b[d]];c&&(c[b[b.length-1]]=l10n[a])}}}catch(e){}},_get=function(prop,scope){var res="";return scope&&scope.name&&(res=l10n[scope.name+"."+prop]),res||(scope?eval(scope.name).prototype[prop]:"")},_getUrlParameterByName=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null==c?"":decodeURIComponent(c[1].replace(/\+/g," "))};try{var langParam=_getUrlParameterByName("lang"),xhrObj=_createXMLHTTPObject();if(xhrObj&&langParam){var lang=langParam.split("-")[0];xhrObj.open("GET","locale/"+lang+".json",!1),xhrObj.send(""),l10n=eval("("+xhrObj.responseText+")")}}catch(e){}return{apply:_applyLocalization,get:_get}},Ext.application({name:"DE",icon:"resources/img/icon.png",tabletStartupScreen:"resources/img/tablet_startup.png",phoneStartupScreen:"resources/img/phone_startup.png",viewport:{autoMaximize:!1},profiles:["Tablet","Phone"]});
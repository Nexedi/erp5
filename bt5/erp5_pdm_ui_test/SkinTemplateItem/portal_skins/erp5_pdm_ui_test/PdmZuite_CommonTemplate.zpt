<tal:block xmlns:tal="http://xml.zope.org/namespaces/tal"
           xmlns:metal="http://xml.zope.org/namespaces/metal">
  <tal:block metal:define-macro="init"
             tal:define="set_node_category_preference set_node_category_preference | python: False">
    <tal:block metal:use-macro="here/Zuite_CommonTemplate/macros/init" />
    <tr>
      <td>setTimeout</td>
      <td>600000</td>
      <td></td>
    </tr>
    <tr>
      <td>open</td>
      <td>&#36;{base_url}/PdmZuite_deleteData</td>
      <td></td>
    </tr>
    <tr>
      <td>assertTextPresent</td>
      <td>Deleted Successfully.</td>
      <td></td>
    </tr>

    <tr>
      <td>open</td>
      <td>&#36;{base_url}/Zuite_waitForActivities</td>
      <td></td>
    </tr>
    <tr>
      <td>assertTextPresent</td>
      <td>Done.</td>
      <td></td>
    </tr>

    <tr>
      <td>open</td>
      <td tal:condition="not: set_node_category_preference">&#36;{base_url}/PdmZuite_reset</td>
      <td tal:condition="set_node_category_preference">&#36;{base_url}/PdmZuite_reset?set_node_category_preference:bool=True</td>
      <td></td>
    </tr>
    <tr>
      <td>assertTextPresent</td>
      <td>Reset Successfully.</td>
      <td></td>
    </tr>
    <tr>
      <td>open</td>
      <td tal:content="string:$&#36;{base_url}/internal_packing_list_module/$init_method" />
      <td></td>
    </tr>
    <tr>
      <td>assertTextPresent</td>
      <td>Delivery Created.</td>
      <td></td>
    </tr>

    <tr>
      <td>open</td>
      <td>&#36;{base_url}/Zuite_waitForActivities</td>
      <td></td>
    </tr>
    <tr>
      <td>assertTextPresent</td>
      <td>Done.</td>
      <td></td>
    </tr>
    <tr>
      <td>open</td>
      <td>&#36;{base_url}/product_module/erp5_pdm_ui_test_product/</td>
      <td></td>
    </tr>
  </tal:block>

  <tal:block metal:define-macro="toggleSaleSupplyLineBasePricePerSlice">
    <tr>
      <td>click</td>
      <td>//input[@name="field_my_sale_supply_line_base_price_per_slice"]</td>
      <td></td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>Base_edit:method</td>
      <td></td>
    </tr>
  </tal:block>
  <tal:block metal:define-macro="togglePurchaseSupplyLineBasePricePerSlice">
    <tr>
      <td>click</td>
      <td>//input[@name="field_my_purchase_supply_line_base_price_per_slice"]</td>
      <td></td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>Base_edit:method</td>
      <td></td>
    </tr>
  </tal:block>
  <tal:block metal:define-macro="toggleInternalSupplyLineBasePricePerSlice">
    <tr>
      <td>click</td>
      <td>//input[@name="field_my_internal_supply_line_base_price_per_slice"]</td>
      <td></td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>Base_edit:method</td>
      <td></td>
    </tr>
  </tal:block>
  <tal:block metal:define-macro="enterAndCheckPricePerSliceInSupplyLine">
    <tr>
      <td>type</td>
      <td>//input[@name="field_matrixbox_base_price_cell_0_0_0"]</td>
      <td>10</td>
    </tr>
    <tr>
      <td>type</td>
      <td>//input[@name="field_matrixbox_base_price_cell_1_0_0"]</td>
      <td>9</td>
    </tr>
    <tr>
      <td>type</td>
      <td>//input[@name="field_matrixbox_base_price_cell_2_0_0"]</td>
      <td>8</td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>Base_edit:method</td>
      <td></td>
    </tr>
    <tr>
      <td>assertFloatValue</td>
      <td>//input[@name="field_matrixbox_base_price_cell_0_0_0"]</td>
      <td>10</td>
    </tr>
    <tr>
      <td>assertFloatValue</td>
      <td>//input[@name="field_matrixbox_base_price_cell_1_0_0"]</td>
      <td>9</td>
    </tr>
    <tr>
      <td>assertFloatValue</td>
      <td>//input[@name="field_matrixbox_base_price_cell_2_0_0"]</td>
      <td>8</td>
    </tr>
    <tr>
      <td>open</td>
      <td>&#36;{base_url}/Zuite_waitForActivities</td>
      <td></td>
    </tr>
  </tal:block>
</tal:block>
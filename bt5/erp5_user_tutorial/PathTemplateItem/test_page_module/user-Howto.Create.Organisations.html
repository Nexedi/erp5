      <section class="master">
        <h1>How to Add Organisations</h1>
        <img alt="Photo of the building of Z Company" src="http://img.erp5.cn/user-Howto.Add.Organisations.Front.Page.Building.Zcompany?format=png" title="Add organisation: Z Company">
        <footer>
          by <a href="http://www.osoe-project.org/contact">OSOE Project</a>.
        </footer>
        <details open="open">
          <p>Now you know how to create the related organisation of a person when he/she is created. But we can also use the organisation creation function which is independent from the person creation function, but which is quite similar to the person creation process, to create and manage organisations in ERP5.</p><p>As we have seen from the previous tutorial, in ERP5, the creation of organisation is the premise to the creation of person. Organisations are really important because people are linked to them. For example, when you sell a product or a service to a person, you indirectly sell it to his/her organisation. The organisation creation function is also very practical because of the attributes you are going to define the different organisations with: sometimes you might be looking for specific types of organisations, for instance, press agencies when you have an announcement to make. Now this is really easy with ERP5, just search for the organisations you defined as press agencies. You can also go deeper into details: you might be looking for American press agencies if the product you want to communicate about is exclusively targeting the US market, then search in ERP5 for your American press agencies...</p><p>Now, let's see how you can create and define an organisation with the help of ERP5.</p>
        </details>
        <test>
          <table style="display: none;" class="test">
            <tbody>
              <tr class="" style="opacity: 1;">
                <td colspan="3">&lt;span metal:use-macro="container/Zuite_viewTestMacroLibrary/macros/init_test_environment"&gt;init&lt;/span&gt;</td>
              </tr>
              <tr class="" style="opacity: 1; z-index: 0;">
                <td>openAndWait</td>
                <td>${base_url}/Zuite_setUpOrganisationTest</td>
                <td></td>
              </tr>
              <tr>
                <td>verifyTextPresent</td>
                <td>Init Ok</td>
                <td></td>
              </tr>
              <tr class="" style="opacity: 1;">
                <td colspan="3">&lt;span metal:use-macro="container/Zuite_viewTestMacroLibrary/macros/wait_for_activities"&gt; Wait for activities &lt;/span&gt;</td>
              </tr>
              <tr class="" style="opacity: 1;">
                <td colspan="3">&lt;span metal:use-macro="container/Zuite_viewTestMacroLibrary/macros/login_as_functional_test_user"&gt;Login As Functional Test User&lt;/span&gt;</td>
              </tr>
            </tbody>
          </table>
        </test>
      </section><section>
        <h1>Agenda</h1>
        <ul>
          <li>How to create an organisation</li>
          <li>How to validate the organisation</li>
          <li>How to check the creation</li>
        </ul>
        <test>
          <table style="display: none;" class="test">
            <tbody></tbody>
          </table>
        </test>
      </section><section class="illustration">
        <h1>Example</h1>
        <img alt="Add organisation in ERP5 example: Z Company" src="http://img.erp5.cn/user-Howto.Add.Organisations.Example.Zcompany?format=png" title="Add organisation in ERP5 example: Z Company">
        <details open="open">
          <p>This tutorial continues with the example of the organisation "Z Company", which is our client.</p>
        </details>
        <test>
          <table style="display: none;" class="test">
            <tbody></tbody>
          </table>
        </test>
      </section><section class="screenshot">
        <h1>Click on the “New” tab</h1>
        <img src="http://img.erp5.cn/user-Howto.Add.Organisations.ERP5.Express.Menu.New.Screenshot?format=png" alt="Add organisation: Click on the 'New' tab" title="Add organisation: Click on the 'New' tab">
        <details open="open">
          <p>From the ERP5 home page you have reached after login, click on “New” in the tab menu, you will see the base area on the left. The base area gathers the person, organisation and currency creation functions. To create a new organisation, you would just click on the link called "Organisations". But since we already created the Z Company when adding the Person John Doe in the tutorial "How to create Persons", we will go to the "Browse" tab instead to find our existing client "Z Company" and fill the details.</p>
        </details>
        <test>
          <table style="display: none;" class="test">
            <tbody>
              <tr>
                <td>selectAndWait</td>
                <td>//select[@name="select_module"]</td>
                <td>Organisations</td>
              </tr>
              <tr>
                <td>verifyText</td>
                <td>//div[@id="breadcrumb"]/a[2]</td>
                <td>Organisations</td>
              </tr>
              <tr style="opacity: 1; z-index: 0;" class="">
                <td>clickAndWait</td>
                <td>//div[@class="listbox-title"]/a[1]</td>
                <td></td>
              </tr>
            </tbody>
          </table>
        </test>
      </section><section class="screenshot">
        <h1>Click on the "Browse" tab</h1>
        <img src="http://img.erp5.cn/user-Howto.Add.Organisations.Check.Creation.Browse.Organisations.Base.Screenshot?format=png" alt="Check organisation creation: Browse the 'Organisations' database" title="Check organisation creation: Browse the 'Organisations' database">
        <details open="open">
          <p>Click on the Browse Tab and then on "Organisations" to find our client Z Company.</p>
        </details>
      </section><section class="screenshot">
        <h1>Click on "Z Company"</h1>
        <img src="http://img.erp5.cn/user-Howto.Add.Organisations.Check.Creation.3.Organisationline.Screenshot?format=png" alt="Check organisation creation (3): Check the organisation's line" title="Check organisation creation (3): Check the organisation's line">
        <details open="open">
          <p>You will find our client Z Company in the Organisation Module. Click on the line to open the organisation.</p>
        </details>
        <test>
          <table style="display: none;" class="test">
            <tbody>
              <tr>
                <td>clickAndWait</td>
                <td>//td[@class='listbox-table-data-cell']//a[text()='Z Company']</td>
                <td></td>
              </tr>
            </tbody>
          </table>
        </test>
      </section><section class="screenshot">
        <h1>Fill the “view” tab and save</h1>
        <img alt="Add organisations: Fill the 'View' page and save" src="http://img.erp5.cn/user-Howto.Add.Organisations.View.Save?format=png" title="Add organisations: Fill the 'View' page and save">
        <details open="open">
          <p>You will now be led to the details page of the Z Company page which has existed. As you can see, there are many fields to fill, which allow you to be really precise about the different organisations stored in ERP5. You just have to enter its detail information and then save it.</p><p>Summary: we had created a person named John Doh, who is the marketing manager of Z Company, one of VIFIB clients. If you remember well, the rganisation Z Company had been created directly through the person creation module (cf “How to add people” tutorial) by "Add Organisation", but had not been taken care of.Now we are going to enter some details in "view" tab about the organisation Z Company: Z Company Ltd is an international electricity supplier, which has been using the services of VIFIB for quite a long time as a client. Here is the address of the Company: 12 Zorro Street, 93210 Beverly Hills.</p><p>After you have filled the “view” tab, save the data by clicking on the disk image on the right of the screen. </p>
<p>But please note that the organisations can also be created through the organisation creation module from the New tab in ERP5 home page, as you have seen in the previous tutorial “How to add people”.</p>
        </details>
        <test>
          <table style="display: none;" class="test">
            <tbody>
              <tr class="" style="opacity: 1; z-index: 0;">
                <td>type</td>
                <td>//input[@name="field_my_title"]</td>
                <td>Z Company</td>
              </tr>
              <tr>
                <td>type</td>
                <td>//input[@name="field_my_corporate_name"]</td>
                <td>Z Company</td>
              </tr>
              <tr>
                <td>select</td>
                <td>//select[@name="subfield_field_my_role_list_default:list"]</td>
                <td>Client</td>
              </tr>
              <tr>
                <td>select</td>
                <td>//select[@name="field_my_function"]</td>
                <td>Sales</td>
              </tr>
              <tr>
                <td>type</td>
                <td>//textarea[@name="field_my_default_address_street_address"]</td>
                <td>12 Zorro Street</td>
              </tr>
              <tr>
                <td>type</td>
                <td>//input[@name="field_my_default_address_city"]</td>
                <td>Beverly Hills</td>
              </tr>
              <tr>
                <td>type</td>
                <td>//input[@name="field_my_default_address_zip_code"]</td>
                <td>90210</td>
              </tr>
              <tr>
                <td>select</td>
                <td>//select[@name="field_my_default_address_region"]</td>
                <td>Brazil</td>
              </tr>
              <tr>
                <td>type</td>
                <td>//input[@name="field_my_default_email_coordinate_text"]</td>
                <td>info@zcompany.com</td>
              </tr>
              <tr>
                <td>type</td>
                <td>//input[@name="field_default_telephone_my_default_telephone_coordinate_text"]</td>
                <td>+55(0)22 2222 2222</td>
              </tr>
              <tr>
                <td>clickAndWait</td>
                <td>//button[@name="Base_edit:method"]</td>
                <td></td>
              </tr>
              <tr>
                <td>verifyTextNotPresent</td>
                <td>Input data has errors. Please look at the error messages below.</td>
                <td></td>
              </tr>
            </tbody>
          </table>
        </test>
      </section><section class="screenshot">
        <h1>Fill the "Details" tab</h1>
        <img title="Add organisations: Fill the 'Details' tab" src="http://img.erp5.cn/user-Howto.Add.Organisations.Details.Tab?format=png" alt="Add organisations: Fill the 'Details' tab">
        <details open="open">
          <p>In "Details" tab, you can fill in the details and save the changes.</p>
        </details>
        <test>
          <table style="display: none;" class="test">
            <tbody>
              <tr>
                <td>clickAndWait</td>
                <td>link=Details</td>
                <td></td>
              </tr>
              <tr>
                <td>type</td>
                <td>//input[@name="field_my_social_capital"]</td>
                <td>1000000</td>
              </tr>
              <tr>
                <td>type</td>
                <td>//input[@name="subfield_field_my_start_date_year"]</td>
                <td>2007</td>
              </tr>
              <tr>
                <td>type</td>
                <td>//input[@name="subfield_field_my_start_date_month"]</td>
                <td>01</td>
              </tr>
              <tr>
                <td>type</td>
                <td>//input[@name="subfield_field_my_start_date_day"]</td>
                <td>01</td>
              </tr>
            </tbody>
          </table>
        </test>
      </section><section class="screenshot">
        <h1>About the other tabs</h1>
        <img title="Add organisations: Other tabs in the 'Details' page" alt="Add organisations: Other tabs in the 'Details' page" src="http://img.erp5.cn/user-Howto.Add.Organisations.Details.Page.Other.Tabs.Screenshot?format=png">
        <details open="open">
          <p>Similar to creating people, there are some tabs that will automatically be updated by ERP5, such as “Transactions”, “Financial informations” and “Documents”. The application will update those tabs whenever necessary, for example, to trace a transaction that occurred between VIFIB and the client Z Company.</p><p>When you have entered all information of the created company and saved it, it is time to validate the organisation, which works exactly the same way as person's validation.</p>
        </details>
        <test>
          <table style="display: none;" class="test">
            <tbody></tbody>
          </table>
        </test>
      </section><section class="screenshot">
        <h1>How to Validate an Organisation (1)</h1>
        <img src="http://img.erp5.cn/user-Howto.Add.Organisations.Validate.1.Action.Screenshot?format=png" title="Validate new organisation (1): Click on the 'Action' tab" alt="Validate new organisation (1): Click on the 'Action' tab">
        <details open="open">
          <p>Click on the “Action” item list.</p>
        </details>
        <test>
          <table style="display: none;" class="test">
            <tbody>
              <tr>
                <td>selectAndWait</td>
                <td>//select[@name="select_action"]</td>
                <td>Validate</td>
              </tr>
            </tbody>
          </table>
        </test>
      </section><section class="screenshot">
        <h1>How to Validate an Organisation (2)</h1>
        <img src="http://img.erp5.cn/user-Howto.Add.Organisations.Validate.2.Validate.Screenshot?format=png" title="Validate new organisation (2): Click on 'Validate'" alt="Validate new organisation (2): Click on 'Validate'">
        <details open="open">
          <p>Click on “Validate”.</p>
        </details>
        <test>
          <table style="display: none;" class="test">
            <tbody>
              <tr>
                <td>clickAndWait</td>
                <td>//button[@id="dialog_submit_button"]</td>
                <td></td>
              </tr>
              <tr>
                <td>verifyText</td>
                <td>//li[@class="selected"]/a/span</td>
                <td>Details</td>
              </tr>
              <tr>
                <td>verifyText</td>
                <td>//div[@id="transition_message"]</td>
                <td>Status changed.</td>
              </tr>
            </tbody>
          </table>
        </test>
      </section><section class="screenshot">
        <h1>How to Validate an Organisation (3)</h1>
        <img src="http://img.erp5.cn/user-Howto.Add.Organisations.Validate.3.Update.Status.Screenshot?format=png" title="Validate new organisation (3): Check the update status" alt="Validate new organisation (3): Check the update status" type="image/svg+xml">
        <details open="open">
          <p>Check the update status.</p><p>When everything has been done correctly (i.e. you have entered the data, saved and validated the organisation you created), it is time to check that Z Company appears in the organisation list of ERP5. Once again, this works the same way as for creating a person.</p>
        </details>
        <test>
          <table style="display: none;" class="test">
            <tbody>
              <tr>
                <td>clickAndWait</td>
                <td>link=View</td>
                <td></td>
              </tr>
              <tr>
                <td>verifyText</td>
                <td>//div[@title="The current state of the document."]/div[1]</td>
                <td>Validated</td>
              </tr>
              <tr class="" style="opacity: 1;">
                <td colspan="3">&lt;span metal:use-macro="container/Zuite_viewTestMacroLibrary/macros/wait_for_activities"&gt; Wait for activities &lt;/span&gt;</td>
              </tr>
            </tbody>
          </table>
        </test>
      </section><section class="screenshot">
        <h1>How to Check the Creation (1)</h1>
        <img src="http://img.erp5.cn/user-Howto.Add.Organisations.Check.Creation.1.Modules.Screenshot?format=png" alt="Check organisation creation (1): Click on the 'Modules' tab" title="Check organisation creation (1): Click on the 'Modules' tab">
        <details open="open">
          <p>To check the new organisation, you will have to navigate to the list of existing organisations.</p><p>Click on the “ERP5 Modules” item list on top of the page and click on “organisations”, this will lead you to the organisations' list.</p>
        </details>
        <test>
          <table style="display: none;" class="test">
            <tbody>
              <tr>
                <td>openAndWait</td>
                <td>${base_url}/organisation_module/view</td>
                <td></td>
              </tr>
            </tbody>
          </table>
        </test>
      </section><section class="screenshot">
        <h1>How to Check the Creation (2)</h1>
        <img src="http://img.erp5.cn/user-Howto.Add.Organisations.Check.Creation.2.Organisations.Screenshot?format=png" type="image/svg+xml" alt="Check orgaisation creation (2): Click on 'Organisations'" title="Check orgaisation creation (2): Click on 'Organisations'">
        <details open="open">
          <p>Now using the bread crumb circled in black on the picture, check that you are in the organisations' list. If everything worked fine, the bread crumb should display: ERP5 / Organisations. This means that you are located in the organisation list.</p>
        </details>
        <test>
          <table style="display: none;" class="test">
            <tbody>
              <tr>
                <td>verifyText</td>
                <td>//div[@id="breadcrumb"]/a[1]</td>
                <td>ERP5</td>
              </tr>
              <tr>
                <td>verifyText</td>
                <td>//div[@id="breadcrumb"]/a[2]</td>
                <td>Organisations</td>
              </tr>
              <tr class="" style="opacity: 1;">
                <td colspan="3">&lt;tal:block tal:content="structure python: here.Zuite_generateListboxBrowsing(listbox_selection=(['title', here.Zuite_getHowToInfo()['organisation_howto_organisation_title']],), enter_object=True)"/&gt;</td>
              </tr>
            </tbody>
          </table>
        </test>
      </section><section class="screenshot">
        <h1>How to Check the Creation (3)</h1>
        <img src="http://img.erp5.cn/user-Howto.Add.Organisations.Check.Creation.3.Organisationline.Screenshot?format=png" alt="Check organisation creation (3): Check the organisation's line" title="Check organisation creation (3): Check the organisation's line">
        <details open="open">
          <p>The final step is to check that Z Company is on the list. We can see that the creation was successful because Z Company has been added to the list. If you want to see or modify the details of any organisation, just click on its line to open its dedicated page.</p>
        </details>
        <test>
          <table style="display: none;" class="test">
            <tbody>
              <tr>
                <td>verifyText</td>
                <td>//div[@id="breadcrumb"]/a[3]</td>
                <td>Z Company</td>
              </tr>
            </tbody>
          </table>
        </test>
      </section><section class="screenshot">
        <h1>Use "Browse" tab</h1>
        <img src="http://img.erp5.cn/user-Howto.Add.Organisations.Check.Creation.Browse.Organisations.Base.Screenshot?format=png" alt="Check organisation creation: Browse the 'Organisations' database" title="Check organisation creation: Browse the 'Organisations' database">
        <details open="open">
          <p>You can also use the "Browse" tab in the home page to check the organisations stored in your ERP5 database. Just click on “Organisations” in the “Base”module, which is the module that gathers “Currencies”, “Organisations” and“Persons”.</p>
        </details>
        <test>
          <table style="display: none;" class="test">
            <tbody>
              <tr class="" style="opacity: 1;">
                <td colspan="3">&lt;span metal:use-macro="container/Zuite_viewTestMacroLibrary/macros/login_as_manager"&gt;Login As Manager&lt;/span&gt;</td>
              </tr>
              <tr>
                <td>openAndWait</td>
                <td>${base_url}/Zuite_tearDownOrganisationTest</td>
                <td></td>
              </tr>
              <tr>
                <td>verifyTextPresent</td>
                <td>Clean Ok</td>
                <td></td>
              </tr>
              <tr class="" style="opacity: 1;">
                <td colspan="3">&lt;span metal:use-macro="container/Zuite_viewTestMacroLibrary/macros/wait_for_activities"&gt; Wait for activities &lt;/span&gt;</td>
              </tr>
            </tbody>
          </table>
        </test>
      </section>
    
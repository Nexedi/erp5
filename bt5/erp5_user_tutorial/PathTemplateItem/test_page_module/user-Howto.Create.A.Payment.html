<section class="illustration">
<h1>How to Create a Payment</h1>
<img alt="Payment Money" src="http://img.erp5.cn/user-Howto.Create.A.Payment.Money?format=png" title="Payment Money" type="image/svg+xml" />
<footer>by <a href="http://www.osoe-project.org/contact">OSOE Project</a>.</footer>
<test>
<table class="test" style="display: none;">
	<tbody>
		<tr>
			<td colspan="3">&lt;span metal:use-macro=&quot;container/Zuite_viewTestMacroLibrary/macros/init_test_environment&quot;&gt;init&lt;/span&gt;</td>
		</tr>
		<tr style="opacity: 1; z-index: 0;">
			<td>openAndWait</td>
			<td>${base_url}/Zuite_createFunctionalTestUser</td>
			<td>&nbsp;</td>
		</tr>
		<tr style="opacity: 1; z-index: 0;">
			<td>verifyTextPresent</td>
			<td>Done.</td>
			<td>&nbsp;</td>
		</tr>
		<tr style="opacity: 1; z-index: 0;">
			<td colspan="3">&lt;span metal:use-macro=&quot;container/Zuite_viewTestMacroLibrary/macros/wait_for_activities&quot;&gt; Wait for activities &lt;/span&gt;</td>
		</tr>
		<tr style="opacity: 1; z-index: 0;">
			<td>openAndWait</td>
			<td>${base_url}/Zuite_setUpSaleOrderTest</td>
			<td>&nbsp;</td>
		</tr>
		<tr style="opacity: 1; z-index: 0;">
			<td>verifyTextPresent</td>
			<td>Init Ok</td>
			<td>&nbsp;</td>
		</tr>
		<tr style="opacity: 1; z-index: 0;">
			<td colspan="3">&lt;span metal:use-macro=&quot;container/Zuite_viewTestMacroLibrary/macros/wait_for_activities&quot;&gt; Wait for activities &lt;/span&gt;</td>
		</tr>
	</tbody>
</table>
</test></section>

<section>
<h1>Agenda</h1>

<ul>
	<li>How to create a bank account for your company</li>
	<li>How to create a payment from a sale invoice</li>
	<li>How to confirm the payment transaction</li>
</ul>

<details open="open">
<p>In this tutorial, you will learn how to create a payment using ERP5.</p>

<p>The appropriate way to <strong>create a payment</strong> is to first locate the <strong>invoice</strong> which you want to create the payment transaction from, and then <strong>create the related payment</strong> directly from the invoice sheet.</p>

<p>The payment action works the same way as invoices:<br />
First you have to <strong>create one and edit</strong> the details.<br />
Once this is done properly, you will have to <strong>start the accounting process</strong> for it.</p>

<p>If you have some accounting experience, you know that accounting of invoices and of payments have different meanings.<br />
Both of them are mandatory, but the accounting done for invoices is related to your <strong>merchandise and client accounts</strong> , payment accounting relates to the notion of treasury, and to your <strong>bank account</strong> .</p>

<p>You should understand that <strong>ERP5 will not let you create a payment if it is not related to a bank account</strong> , which means that <strong>the first step of this tutorial will be to learn how to create a bank account for your company</strong> in order to be able to create treasury transactions such as payments, which are directly linked to your bank account.</p>
</details>
<test>
<table class="test" style="display: none;">
	<tbody>
		<tr style="opacity: 1; z-index: 0;">
			<td>openAndWait</td>
			<td>${base_url}/Zuite_setUpSalePackingListTest</td>
			<td>&nbsp;</td>
		</tr>
		<tr>
			<td>verifyTextPresent</td>
			<td>Init Ok</td>
			<td>&nbsp;</td>
		</tr>
		<tr style="opacity: 1; z-index: 0;">
			<td colspan="3">&lt;span metal:use-macro=&quot;container/Zuite_viewTestMacroLibrary/macros/invoke_simulation_alarms&quot;&gt; Invoke simulation alarms &lt;/span&gt;</td>
		</tr>
		<tr style="opacity: 1; z-index: 0;">
			<td>openAndWait</td>
			<td>${base_url}/Zuite_setUpSaleInvoiceTest</td>
			<td>&nbsp;</td>
		</tr>
		<tr>
			<td>verifyTextPresent</td>
			<td>Init Ok</td>
			<td>&nbsp;</td>
		</tr>
		<tr style="opacity: 1; z-index: 0;">
			<td colspan="3">&lt;span metal:use-macro=&quot;container/Zuite_viewTestMacroLibrary/macros/invoke_simulation_alarms&quot;&gt; Invoke simulation alarms &lt;/span&gt;</td>
		</tr>
		<tr style="opacity: 1; z-index: 0;">
			<td colspan="3">&lt;span metal:use-macro=&quot;container/Zuite_viewTestMacroLibrary/macros/login_as_functional_test_user&quot;&gt;Login As Functional Test User&lt;/span&gt;</td>
		</tr>
		<tr style="opacity: 1; z-index: 0;">
			<td>openAndWait</td>
			<td>${base_url}/Zuite_setUpPaymentTest?start_only=True</td>
			<td>&nbsp;</td>
		</tr>
		<tr>
			<td>verifyTextPresent</td>
			<td>Init Ok</td>
			<td>&nbsp;</td>
		</tr>
		<tr style="opacity: 1; z-index: 0;">
			<td colspan="3">&lt;span metal:use-macro=&quot;container/Zuite_viewTestMacroLibrary/macros/wait_for_activities&quot;&gt; Wait for activities &lt;/span&gt;</td>
		</tr>
		<tr style="opacity: 1; z-index: 0;">
			<td>openAndWait</td>
			<td>${base_url}/Zuite_setUpPaymentTest</td>
			<td>&nbsp;</td>
		</tr>
		<tr style="opacity: 1; z-index: 0;">
			<td>verifyTextPresent</td>
			<td>Init Ok</td>
			<td>&nbsp;</td>
		</tr>
		<tr style="opacity: 1; z-index: 0;">
			<td colspan="3">&lt;span metal:use-macro=&quot;container/Zuite_viewTestMacroLibrary/macros/invoke_simulation_alarms&quot;&gt; Invoke simulation alarms &lt;/span&gt;</td>
		</tr>
	</tbody>
</table>
</test></section>

<section class="screenshot">
<h1>Create a Bank Account for your company</h1>
<img alt="Check Bank Account" src="http://img.erp5.cn/user-Howto.Create.A.Payment.Create.Bank.Account?format=png" title="Check Bank Account" type="image/svg+xml" />
<details open="open">
<p>From the previous tutorial <a href="user-Howto.Create.Bank.Account/view">&quot;How to create Bank Accounts&quot;</a> and the example &quot;Invoice Sender and Payee-Bank Account&quot; in the tutorial <a href="user-Howto.Create.Trade.Conditions/view">&quot;How to create Trade Conditions&quot;</a>, you have learned how to create a bank account for your company.</p>

<p>In our example, please follow these tutorials and <strong>create a bank account &quot;LCL Paris sud&quot; for your company Hongzhao</strong> . Do not forget to replace &quot;Hongzhao&quot; with the company you created. Then please <strong>click on the Financial Information tab of the organisation document</strong> . This tab provides you with financial information about your company, such as Bank Accounts, Accounting Periods, etc. As you can see from the screenshot, the bank account you created appears in this tab, which means that the creation and validation were successful. If you want to see the details of this account, simply click on the line. This will lead you to the detail sheet of the bank account.</p>

<p>Now we can create transactions linked to this bank account.</p>
</details>
<test>
<table class="test" style="display: none;">
	<tbody>
		<tr>
			<td>open</td>
			<td>${base_url}</td>
			<td>&nbsp;</td>
		</tr>
		<tr>
			<td colspan="3">&lt;tal:block metal:use-macro=&quot;here/Zuite_CommonTemplateForRenderjsUi/macros/wait_for_app_loaded&quot;&gt; &lt;/tal:block&gt;</td>
		</tr>
		<tr>
			<td colspan="3">&lt;tal:block tal:define=&quot;click_configuration python: {&#39;text&#39;: &#39;Modules&#39;}&quot;&gt; &lt;tal:block metal:use-macro=&quot;here/Zuite_CommonTemplateForRenderjsUi/macros/click_on_panel_link&quot; /&gt; &lt;/tal:block&gt;</td>
		</tr>
		<tr>
			<td colspan="3">&lt;tal:block metal:use-macro=&quot;here/Zuite_CommonTemplateForRenderjsUi/macros/wait_for_content_loaded&quot;&gt; &lt;/tal:block&gt;</td>
		</tr>
		<tr>
			<td colspan="3">&lt;tal:block tal:define=&quot;click_configuration python: {&#39;text&#39;: &#39;Organisations&#39;}&quot;&gt; &lt;tal:block metal:use-macro=&quot;here/Zuite_CommonTemplateForRenderjsUi/macros/click_on_page_link&quot;&gt; &lt;/tal:block&gt; &lt;/tal:block&gt;</td>
		</tr>
		<tr>
			<td colspan="3">&lt;tal:block metal:use-macro=&quot;here/Zuite_CommonTemplateForRenderjsUi/macros/wait_for_content_loaded&quot;&gt;&lt;/tal:block&gt;</td>
		</tr>
		<tr>
			<td colspan="3">&lt;tal:block metal:use-macro=&quot;here/Zuite_CommonTemplateForRenderjsUi/macros/wait_for_listbox_loaded&quot; /&gt;</td>
		</tr>
		<tr>
			<td>waitForElementPresent</td>
			<td>//a[contains(text(), &quot;ZUITE-TEST-SALEORDER-ORGANISATION-001&quot;)]</td>
			<td>&nbsp;</td>
		</tr>
		<tr>
			<td>click</td>
			<td>//a[contains(text(), &quot;ZUITE-TEST-SALEORDER-ORGANISATION-001&quot;)]</td>
			<td>&nbsp;</td>
		</tr>
		<tr>
			<td colspan="3">&lt;tal:block metal:use-macro=&quot;here/Zuite_CommonTemplateForRenderjsUi/macros/wait_for_content_loaded&quot;&gt; &lt;/tal:block&gt;</td>
		</tr>
		<tr>
			<td colspan="3">&lt;tal:block tal:define=&quot;click_configuration python: {&#39;text&#39;: &#39;Financial Information&#39;}&quot;&gt; &lt;tal:block metal:use-macro=&quot;here/Zuite_CommonTemplateForRenderjsUi/macros/click_on_panel_link&quot;&gt; &lt;/tal:block&gt; &lt;/tal:block&gt;</td>
		</tr>
		<tr>
			<td colspan="3">&lt;tal:block metal:use-macro=&quot;here/Zuite_CommonTemplateForRenderjsUi/macros/wait_for_content_loaded&quot;&gt; &lt;/tal:block&gt;</td>
		</tr>
		<tr>
			<td>waitForElementPresent</td>
			<td>//a[contains(text(), &quot;Main account&quot;)]</td>
			<td>&nbsp;</td>
		</tr>
	</tbody>
</table>
</test></section>

<section class="screenshot">
<h1>Reach the Invoice</h1>
<img alt="Reach the Invoice" src="http://img.erp5.cn/user-Howto.Create.A.Payment.Related.Sale.Invoice?format=png" title="Reach the Invoice" type="image/svg+xml" />
<details open="open">
<p>Now we have to create the Payment from the Sale Invoice.</p>

<p>To reach the invoice we need, as you have learned in <a href="user-Howto.Manage.Invoices/view">&quot;How to manage Invoices&quot;</a>, to located the Sale Packing List &quot;Red LED&quot; and click on &quot;Related Sale Invoice Transaction&quot; in the &quot;Jump...&quot; menu. This will lead you to the related invoice, from which you will be able to create the related payment.</p>
</details>
<test>
<table class="test" style="display: none;">
	<tbody>
		<tr>
			<td colspan="3">&lt;tal:block tal:define=&quot;click_configuration python: {&#39;text&#39;: &#39;Modules&#39;}&quot;&gt; &lt;tal:block metal:use-macro=&quot;here/Zuite_CommonTemplateForRenderjsUi/macros/click_on_panel_link&quot; /&gt; &lt;/tal:block&gt;</td>
		</tr>
		<tr>
			<td colspan="3">&lt;tal:block metal:use-macro=&quot;here/Zuite_CommonTemplateForRenderjsUi/macros/wait_for_content_loaded&quot;&gt; &lt;/tal:block&gt;</td>
		</tr>
		<tr>
			<td colspan="3">&lt;tal:block tal:define=&quot;click_configuration python: {&#39;text&#39;: &#39;Sale Packing Lists&#39;}&quot;&gt; &lt;tal:block metal:use-macro=&quot;here/Zuite_CommonTemplateForRenderjsUi/macros/click_on_page_link&quot;&gt; &lt;/tal:block&gt; &lt;/tal:block&gt;</td>
		</tr>
		<tr>
			<td colspan="3">&lt;tal:block metal:use-macro=&quot;here/Zuite_CommonTemplateForRenderjsUi/macros/wait_for_content_loaded&quot;&gt;&lt;/tal:block&gt;</td>
		</tr>
		<tr>
			<td colspan="3">&lt;tal:block metal:use-macro=&quot;here/Zuite_CommonTemplateForRenderjsUi/macros/wait_for_listbox_loaded&quot; /&gt;</td>
		</tr>
		<tr>
			<td>waitForElementPresent</td>
			<td>//a[contains(text(), &quot;ZUITE-TEST-SALEORDER-PRODUCT-001&quot;)]</td>
			<td>&nbsp;</td>
		</tr>
		<tr>
			<td>click</td>
			<td>//a[contains(text(), &quot;ZUITE-TEST-SALEORDER-PRODUCT-001&quot;)]</td>
			<td>&nbsp;</td>
		</tr>
		<tr>
			<td colspan="3">&lt;tal:block metal:use-macro=&quot;here/Zuite_CommonTemplateForRenderjsUi/macros/wait_for_content_loaded&quot;&gt; &lt;/tal:block&gt;</td>
		</tr>
		<tr>
			<td colspan="3">&lt;tal:block tal:define=&quot;click_configuration python: {&#39;text&#39;: &#39;Related Sale Invoice Transaction&#39;}&quot;&gt; &lt;tal:block metal:use-macro=&quot;here/Zuite_CommonTemplateForRenderjsUi/macros/click_on_panel_link&quot;&gt; &lt;/tal:block&gt; &lt;/tal:block&gt;</td>
		</tr>
		<tr>
			<td colspan="3">&lt;tal:block metal:use-macro=&quot;here/Zuite_CommonTemplateForRenderjsUi/macros/wait_for_content_loaded&quot;&gt;&lt;/tal:block&gt;</td>
		</tr>
		<tr>
			<td>click</td>
			<td>//input[@name=&quot;editable&quot;]</td>
			<td>&nbsp;</td>
		</tr>
		<tr>
			<td colspan="3">&lt;tal:block metal:use-macro=&quot;here/Zuite_CommonTemplateForRenderjsUi/macros/wait_for_content_loaded&quot;&gt; &lt;/tal:block&gt;</td>
		</tr>
		<tr>
			<td>waitForElementPresent</td>
			<td>//select[@name=&quot;field_my_source_section&quot;]</td>
			<td>&nbsp;</td>
		</tr>
	</tbody>
</table>
</test></section>

<section class="screenshot">
<h1>Create Related Payment</h1>
<img alt="Create Related Payment" src="http://img.erp5.cn/user-Howto.Create.A.Payment.Create.Related.Payment?format=png" title="Create Related Payment" type="image/svg+xml" />
<details open="open">
<p>Now it is time to <strong>create the related payment</strong> . To do so, click on the Action item list and choose <strong>Create Related Payment</strong> .</p>

<p>This will create the payment and open its related sheet.</p>

<p>Note: you can <strong>create the related payment from an invoice after it is &quot;Journalised&quot;</strong> , not necessarily after you have &quot;Definitively Close Transaction&quot; and the invoice is &quot;Closed&quot;.</p>
</details>
<test>
<table class="test" style="display: none;">
	<tbody>
		<tr>
			<td colspan="3">&lt;tal:block tal:define=&quot;click_configuration python: {&#39;text&#39;: &#39;Create Related Payment&#39;}&quot;&gt; &lt;tal:block metal:use-macro=&quot;here/Zuite_CommonTemplateForRenderjsUi/macros/click_on_panel_link&quot;&gt; &lt;/tal:block&gt; &lt;/tal:block&gt;</td>
		</tr>
		<tr>
			<td colspan="3">&lt;tal:block metal:use-macro=&quot;here/Zuite_CommonTemplateForRenderjsUi/macros/wait_for_content_loaded&quot;&gt; &lt;/tal:block&gt;</td>
		</tr>
		<tr>
			<td>waitForElementPresent</td>
			<td>//select[@name=&quot;field_your_payment_mode&quot;]</td>
			<td>&nbsp;</td>
		</tr>
		<tr style="opacity: 1; z-index: 0;">
			<td colspan="3">&lt;span metal:use-macro=&quot;container/Zuite_viewTestMacroLibrary/macros/select_cash_account&quot;&gt;Select Cash Account&lt;/span&gt;</td>
		</tr>
		<tr>
			<td>select</td>
			<td>//select[@name=&quot;field_your_payment_mode&quot;]</td>
			<td>Credit Card</td>
		</tr>
		<tr>
			<td>select</td>
			<td>//select[@name=&quot;field_your_payment&quot;]</td>
			<td>0123456789 0123456789 - Main account</td>
		</tr>
		<tr>
			<td colspan="3">&lt;tal:block metal:use-macro=&quot;here/Zuite_CommonTemplateForRenderjsUi/macros/submit_dialog&quot;&gt; &lt;/tal:block&gt;</td>
		</tr>
		<tr>
			<td colspan="3">&lt;tal:block metal:use-macro=&quot;here/Zuite_CommonTemplateForRenderjsUi/macros/wait_for_content_loaded&quot;&gt; &lt;/tal:block&gt;</td>
		</tr>
		<tr>
			<td>waitForElementPresent</td>
			<td>//input[@name=&quot;field_my_title&quot;]</td>
			<td>&nbsp;</td>
		</tr>
		<tr>
			<td>type</td>
			<td>//input[@name=&quot;field_my_title&quot;]</td>
			<td>ZUITE-TEST-SALEORDER-PAYMENT-TRANSACTION-001</td>
		</tr>
		<tr>
			<td colspan="3">&lt;tal:block metal:use-macro=&quot;here/Zuite_CommonTemplateForRenderjsUi/macros/save&quot;&gt; &lt;tal:block metal:use-macro=&quot;here/Zuite_CommonTemplateForRenderjsUi/macros/wait_for_content_loaded&quot;&gt; &lt;/tal:block&gt; &lt;/tal:block&gt;</td>
		</tr>
	</tbody>
</table>
</test></section>

<section class="screenshot">
<h1>Choose basic payment information</h1>
<img alt="Choose basic payment information" src="http://img.erp5.cn/user-Howto.Create.A.Payment.Choose.Payment.Information?format=png" title="Choose basic payment information" type="image/svg+xml" />
<details open="open">
<p>Before creating the payment, ERP5 will ask you to <strong>fill out some basic payment information which is indispensable for the payment creation</strong> . As shown in the screenshot, choose the Account for Bank Line, Payment Mode and Bank Account to which you want the payment to be related (in our case, the bank account of our company Hongzhao), and also the Accounting Operation Date.</p>

<p>After you have finished, click on &quot;Create Related Payment&quot;.</p>
</details>
</section>

<section class="screenshot">
<h1>Edit Payment document</h1>
<img alt="Edit Payment document" src="http://img.erp5.cn/user-Howto.Create.A.Payment.Edit.Payment.Document?format=png" title="Edit Payment document" type="image/svg+xml" />
<details open="open">
<p>Now the new payment is created and you are led to its related document, and it is time to edit it.</p>

<p>As you can see in the screenshot, there is not much information missing. The main information needed (circled in blue) has been updated automatically according to the related invoice where the payment is created from, and the basic payment information you filled out in the previous step. The only thing you need to edit is the Title. But you can still modify the details if you need.</p>

<p>Fill in the missing details, and when you are done, save your data by clicking on the save button, and jump to the next page.</p>
</details>
</section>

<section class="screenshot">
<h1>Confirm Transaction</h1>
<img alt="Confirm Payment Transaction" src="http://img.erp5.cn/user-Howto.Create.A.Payment.Confirm.Transaction?format=png" title="Confirm Payment Transaction" type="image/svg+xml" />
<details open="open">
<p>You are now used to workflows, so you should know that the workflows are available for each object without exceptions and can be found in the Action item list.</p>

<p>After the creation, the next step will be to <strong>confirm the payment, if you want it to be taken into account, or if you want to be able to create the related accounting operation</strong> .</p>

<p>Please browse the Action item list and choose <strong>Confirm Transaction</strong> .</p>

<p>This action means that you have received the payment, for example, a payment related to an invoice you had sent to a customer some weeks ago. You know this because you can check the operations on your bank account on the internet, for example.</p>

<p>But <strong>confirming the payment doesn&#39;t automatically create the related accounting transaction operation</strong> . As you have learned from the previous tutorial <a href="user-Howto.Manage.Invoices/view">&quot;How to manage Invoices&quot;</a>, the accounting transaction operation includes &quot;Journalise Transaction&quot;, &quot;Post Transaction To General Ledger&quot; and &quot;Definitively Close Accounting Transaction&quot;. For more information, please see the next page.</p>
</details>
<test>
<table class="test" style="display: none;">
	<tbody>
		<tr>
			<td colspan="3">&lt;tal:block tal:define=&quot;click_configuration python: {&#39;text&#39;: &#39;Confirm Transaction&#39;}&quot;&gt; &lt;tal:block metal:use-macro=&quot;here/Zuite_CommonTemplateForRenderjsUi/macros/click_on_panel_link&quot;&gt; &lt;/tal:block&gt; &lt;/tal:block&gt;</td>
		</tr>
		<tr>
			<td colspan="3">&lt;tal:block metal:use-macro=&quot;here/Zuite_CommonTemplateForRenderjsUi/macros/wait_for_content_loaded&quot;&gt; &lt;/tal:block&gt;</td>
		</tr>
		<tr>
			<td colspan="3">&lt;tal:block metal:use-macro=&quot;here/Zuite_CommonTemplateForRenderjsUi/macros/submit_dialog&quot;&gt; &lt;/tal:block&gt;</td>
		</tr>
		<tr>
			<td colspan="3">&lt;tal:block metal:use-macro=&quot;here/Zuite_CommonTemplateForRenderjsUi/macros/wait_for_content_loaded&quot;&gt; &lt;/tal:block&gt;</td>
		</tr>
		<tr>
			<td>waitForElementPresent</td>
			<td>//p[@id=&quot;field_my_translated_simulation_state_title&quot;]</td>
			<td>&nbsp;</td>
		</tr>
		<tr>
			<td>verifyText</td>
			<td>//p[@id=&quot;field_my_translated_simulation_state_title&quot;]</td>
			<td>Confirmed</td>
		</tr>
	</tbody>
</table>
</test></section>

<section class="illustration">
<h1>Accounting transaction part</h1>
<img alt="Accounting transaction part" src="http://img.erp5.cn/user-Howto.Create.A.Payment.Accounting?format=png" title="Accounting transaction part" type="image/svg+xml" />
<details open="open">
<p>You might want to journalise this payment, because it is mandatory in most countries. This is an operation involving treasury, during which your bank account will be credited.</p>

<p>To learn more about <strong>Accounting</strong> , we would recommend you to read the dedicated tutorial, that you can find in the knowledge base of ERP5 ( <a href="user-Accounting.Guide/view">&quot;La Comptabilit&eacute; sous ERP5&quot;</a>).</p>
</details>
<test>
<table class="test" style="display: none;">
	<tbody>
		<tr style="opacity: 1;">
			<td colspan="3">&lt;span metal:use-macro=&quot;container/Zuite_viewTestMacroLibrary/macros/wait_for_activities&quot;&gt; Wait for activities &lt;/span&gt;</td>
		</tr>
		<tr style="opacity: 1;">
			<td colspan="3">&lt;span metal:use-macro=&quot;container/Zuite_viewTestMacroLibrary/macros/login_as_manager&quot;&gt;Login As Manager&lt;/span&gt;</td>
		</tr>
		<tr>
			<td>open</td>
			<td>${base_url}/Zuite_tearDownSaleOrderTest</td>
			<td>&nbsp;</td>
		</tr>
		<tr>
			<td>verifyTextPresent</td>
			<td>Clean Ok</td>
			<td>&nbsp;</td>
		</tr>
		<tr style="opacity: 1; z-index: 0;">
			<td colspan="3">&lt;span metal:use-macro=&quot;container/Zuite_viewTestMacroLibrary/macros/wait_for_activities&quot;&gt; Wait for activities &lt;/span&gt;</td>
		</tr>
	</tbody>
</table>
</test></section>

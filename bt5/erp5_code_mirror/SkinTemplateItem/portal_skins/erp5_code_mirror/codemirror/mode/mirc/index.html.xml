<?xml version="1.0"?>
<ZopeData>
  <record id="1" aka="AAAAAAAAAAE=">
    <pickle>
      <global name="ZopePageTemplate" module="Products.PageTemplates.ZopePageTemplate"/>
    </pickle>
    <pickle>
      <dictionary>
        <item>
            <key> <string>_bind_names</string> </key>
            <value>
              <object>
                <klass>
                  <global name="NameAssignments" module="Shared.DC.Scripts.Bindings"/>
                </klass>
                <tuple/>
                <state>
                  <dictionary>
                    <item>
                        <key> <string>_asgns</string> </key>
                        <value>
                          <dictionary>
                            <item>
                                <key> <string>name_subpath</string> </key>
                                <value> <string>traverse_subpath</string> </value>
                            </item>
                          </dictionary>
                        </value>
                    </item>
                  </dictionary>
                </state>
              </object>
            </value>
        </item>
        <item>
            <key> <string>_text</string> </key>
            <value> <unicode encoding="cdata"><![CDATA[

<!doctype html>\n
\n
<title>CodeMirror: mIRC mode</title>\n
<meta charset="utf-8"/>\n
<link rel=stylesheet href="../../doc/docs.css">\n
\n
<link rel="stylesheet" href="../../lib/codemirror.css">\n
<link rel="stylesheet" href="../../theme/twilight.css">\n
<script src="../../lib/codemirror.js"></script>\n
<script src="mirc.js"></script>\n
<style>.CodeMirror {border: 1px solid black;}</style>\n
<div id=nav>\n
  <a href="http://codemirror.net"><h1>CodeMirror</h1><img id=logo src="../../doc/logo.png"></a>\n
\n
  <ul>\n
    <li><a href="../../index.html">Home</a>\n
    <li><a href="../../doc/manual.html">Manual</a>\n
    <li><a href="https://github.com/codemirror/codemirror">Code</a>\n
  </ul>\n
  <ul>\n
    <li><a href="../index.html">Language modes</a>\n
    <li><a class=active href="#">mIRC</a>\n
  </ul>\n
</div>\n
\n
<article>\n
<h2>mIRC mode</h2>\n
<form><textarea id="code" name="code">\n
;AKA Nick Tracker by Ford_Lawnmower irc.GeekShed.net #Script-Help\n
;*****************************************************************************;\n
;**Start Setup\n
;Change JoinDisplay, below, for On Join AKA Display. On = 1 - Off = 0\n
alias -l JoinDisplay { return 1 }\n
;Change MaxNicks, below, to the number of nicknames you want to store for each hostmask. I wouldn\'t go over 400 with this ;/\n
alias -l MaxNicks { return 20 }\n
;Change AKALogo, below, To the text you want displayed before each AKA result.\n
alias -l AKALogo { return \x0306\x07 \x0305A\x0306K\x0307A \x0306\x07 }\n
;**End Setup\n
;*****************************************************************************;\n
On *:Join:#: {\n
  if ($nick == $me) { .timer 1 1 ialupdateCheck $chan }\n
  NickNamesAdd $nick $+($network,$wildsite)\n
  if ($JoinDisplay) { .timerNickNames $+ $nick 1 2 NickNames.display $nick $chan $network $wildsite }\n
}\n
on *:Nick: { NickNamesAdd $newnick $+($network,$wildsite) $nick }\n
alias -l NickNames.display {\n
  if ($gettok($hget(NickNames,$+($3,$4)),0,126) > 1) {\n
    echo -g $2 $AKALogo $+(\x0309,$1) $AKALogo \x0307 $mid($replace($hget(NickNames,$+($3,$4)),$chr(126),$chr(44)),2,-1)\n
  }\n
}\n
alias -l NickNamesAdd {\n
  if ($hget(NickNames,$2)) {\n
    if (!$regex($hget(NickNames,$2),/~\\Q $+ $replacecs($1,\\E,\\E\\\\E\\Q) $+ \\E~/i)) {\n
      if ($gettok($hget(NickNames,$2),0,126) <= $MaxNicks) {\n
        hadd NickNames $2 $+($hget(NickNames,$2),$1,~)\n
      }\n
      else {\n
        hadd NickNames $2 $+($mid($hget(NickNames,$2),$pos($hget(NickNames,$2),~,2)),$1,~)\n
      }\n
    }\n
  }\n
  else {\n
    hadd -m NickNames $2 $+(~,$1,~,$iif($3,$+($3,~)))\n
  }\n
}\n
alias -l Fix.All.MindUser {\n
  var %Fix.Count = $hfind(NickNames,/[^~]+[0-9]{4}~/,0,r).data\n
  while (%Fix.Count) {\n
    if ($Fix.MindUser($hget(NickNames,$hfind(NickNames,/[^~]+[0-9]{4}~/,%Fix.Count,r).data))) {\n
      echo -ag Record %Fix.Count - $v1 - Was Cleaned\n
      hadd NickNames $hfind(NickNames,/[^~]+[0-9]{4}~/,%Fix.Count,r).data $v1\n
    }\n
    dec %Fix.Count\n
  }\n
}\n
alias -l Fix.MindUser { return $regsubex($1,/[^~]+[0-9]{4}~/g,$null) }\n
menu nicklist,query {\n
  -\n
  .AKA\n
  ..Check $$1: {\n
    if ($gettok($hget(NickNames,$+($network,$address($1,2))),0,126) > 1) {\n
      NickNames.display $1 $active $network $address($1,2)\n
    }\n
    else { echo -ag $AKALogo $+(\x0309,$1) \x0307has not been known by any other nicknames while I have been watching. }\n
  }\n
  ..Cleanup $$1:hadd NickNames $+($network,$address($1,2)) $fix.minduser($hget(NickNames,$+($network,$address($1,2))))\n
  ..Clear $$1:hadd NickNames $+($network,$address($1,2)) $+(~,$1,~)\n
  ..AKA Search Dialog:dialog $iif($dialog(AKA_Search),-v,-m) AKA_Search AKA_Search\n
  -\n
}\n
menu status,channel {\n
  -\n
  .AKA\n
  ..AKA Search Dialog:dialog $iif($dialog(AKA_Search),-v,-m) AKA_Search AKA_Search\n
  ..Clean All Records:Fix.All.Minduser\n
  -\n
}\n
dialog AKA_Search {\n
  title "AKA Search Engine"\n
  size -1 -1 206 221\n
  option dbu\n
  edit "", 1, 8 5 149 10, autohs\n
  button "Search", 2, 163 4 32 12\n
  radio "Search HostMask", 4, 61 22 55 10\n
  radio "Search Nicknames", 5, 123 22 56 10\n
  list 6, 8 38 190 169, sort extsel vsbar\n
  button "Check Selected", 7, 67 206 40 12\n
  button "Close", 8, 160 206 38 12, cancel\n
  box "Search Type", 3, 11 17 183 18\n
  button "Copy to Clipboard", 9, 111 206 46 12\n
}\n
On *:Dialog:Aka_Search:init:*: { did -c $dname 5 }\n
On *:Dialog:Aka_Search:Sclick:2,7,9: {\n
  if ($did == 2) && ($did($dname,1)) {\n
    did -r $dname 6\n
    var %search $+(*,$v1,*), %type $iif($did($dname,5).state,data,item), %matches = $hfind(NickNames,%search,0,w). [ $+ [ %type ] ]\n
    while (%matches) {\n
      did -a $dname 6 $hfind(NickNames,%search,%matches,w). [ $+ [ %type ] ]\n
      dec %matches\n
    }\n
    did -c $dname 6 1\n
  }\n
  elseif ($did == 7) && ($did($dname,6).seltext) { echo -ga $AKALogo \x0307 $mid($replace($hget(NickNames,$v1),$chr(126),$chr(44)),2,-1) }\n
  elseif ($did == 9) && ($did($dname,6).seltext) { clipboard $mid($v1,$pos($v1,*,1)) }\n
}\n
On *:Start:{\n
  if (!$hget(NickNames)) { hmake NickNames 10 }\n
  if ($isfile(NickNames.hsh)) { hload  NickNames NickNames.hsh }\n
}\n
On *:Exit: { if ($hget(NickNames)) { hsave NickNames NickNames.hsh } }\n
On *:Disconnect: { if ($hget(NickNames)) { hsave NickNames NickNames.hsh } }\n
On *:Unload: { hfree NickNames }\n
alias -l ialupdateCheck {\n
  inc -z $+(%,ialupdateCheck,$network) $calc($nick($1,0) / 4)\n
  ;If your ial is already being updated on join .who $1 out.\n
  ;If you are using /names to update ial you will still need this line.\n
  .who $1\n
}\n
Raw 352:*: {\n
  if ($($+(%,ialupdateCheck,$network),2)) haltdef\n
  NickNamesAdd $6 $+($network,$address($6,2))\n
}\n
Raw 315:*: {\n
  if ($($+(%,ialupdateCheck,$network),2)) haltdef\n
}\n
\n
</textarea></form>\n
    <script>\n
      var editor = CodeMirror.fromTextArea(document.getElementById("code"), {\n
        theme: "twilight",\n
        lineNumbers: true,\n
        matchBrackets: true,\n
        indentUnit: 4,\n
        mode: "text/mirc"\n
      });\n
    </script>\n
\n
    <p><strong>MIME types defined:</strong> <code>text/mirc</code>.</p>\n
\n
  </article>

]]></unicode> </value>
        </item>
        <item>
            <key> <string>content_type</string> </key>
            <value> <string>text/html</string> </value>
        </item>
        <item>
            <key> <string>expand</string> </key>
            <value> <int>0</int> </value>
        </item>
        <item>
            <key> <string>id</string> </key>
            <value> <string>index.html</string> </value>
        </item>
        <item>
            <key> <string>output_encoding</string> </key>
            <value> <string>iso-8859-15</string> </value>
        </item>
      </dictionary>
    </pickle>
  </record>
</ZopeData>

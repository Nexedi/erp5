<?xml version="1.0"?>
<ZopeData>
  <record id="1" aka="AAAAAAAAAAE=">
    <pickle>
      <global name="ZopePageTemplate" module="Products.PageTemplates.ZopePageTemplate"/>
    </pickle>
    <pickle>
      <dictionary>
        <item>
            <key> <string>_bind_names</string> </key>
            <value>
              <object>
                <klass>
                  <global name="NameAssignments" module="Shared.DC.Scripts.Bindings"/>
                </klass>
                <tuple/>
                <state>
                  <dictionary>
                    <item>
                        <key> <string>_asgns</string> </key>
                        <value>
                          <dictionary>
                            <item>
                                <key> <string>name_subpath</string> </key>
                                <value> <string>traverse_subpath</string> </value>
                            </item>
                          </dictionary>
                        </value>
                    </item>
                  </dictionary>
                </state>
              </object>
            </value>
        </item>
        <item>
            <key> <string>_text</string> </key>
            <value> <unicode encoding="cdata"><![CDATA[

<!doctype html>\n
<html tal:define="data_dict here/Order_getODTDataDict;\n
                  portal_url here/portal_url;\n
                  reservation python: request.get(\'reservation_only\');\n
                  form_id python: request.get(\'form_id\');\n
                  set_precision python: request.set(\'precision\', here.getQuantityPrecisionFromResource(here.getPriceCurrency()));\n
                  quantity_renderer nocall:here/Base_viewTradeFieldLibrary_printer_custom/my_view_mode_quantity/render_pdf;\n
                  price_renderer nocall:here/Base_viewTradeFieldLibrary_printer_custom/my_view_mode_total_price/render_pdf;\n
                  default_language python:test(request.get(\'international_form\'), \'en\', here.Localizer.get_selected_language());\n
                  printer_url python:context.SaleOrder_getPrinterUrl();\n
                  order_number python:data_dict[\'reference\'];">\n
  <head>\n
    <meta charset="utf-8">\n
    <title>Receipt</title>\n
    <script type="text/javascript" tal:attributes=\'src python:"%s/jquery/core/jquery.js" % portal_url\'></script>\n
    <script type="text/javascript" tal:attributes=\'src python:"%s/epos-print-2.0.0.js" % portal_url\' ></script>\n
    <script type="text/javascript" tal:attributes=\'src python:"%s/erp5_epson_printout.js" % portal_url\' ></script>\n
    <link rel="license" href="http://www.opensource.org/licenses/mit-license/">\n
  </head>\n
  <body style="background:white">\n
    <header>\n
      <h2 id="invoice_title" tal:define=\'orig_string python: reservation and "Reservation" or "Receipt"; \n
                                         orig_message python:unicode(here.Base_translateString(orig_string, lang=default_language),"utf-8"); \n
                                         translated_message python:unicode(here.Base_translateString(orig_string),"utf-8")\'>\n
                    <span><span tal:content=\'orig_message\'/></span>\n
                    <span tal:condition=\'python:translated_message != orig_message\'>\n
                      <span tal:content=\'translated_message\'/>\n
                    </span>\n
      </h2>\n
\n
      <div tal:define="logo_path python: \'%s?display=default_image?pre_converted_only=True&quality=75.0&display=thumbnail&format=png\' % data_dict[\'source_section_image_path\'];">\n
         <canvas id="canvas" width="512" style="display:none;" height="480"></canvas>\n
         <img id="company_logo" alt="" tal:attributes="src logo_path;" width="250" height="45">\n
      </div>\n
      <div id="company-info">\n
        <div style="font-weight:bold" tal:content="python: data_dict[\'source_title\']"></div>\n
        <div tal:content="python: data_dict[\'source_section_registeredcapital\']"></div>\n
        <div tal:content="python: data_dict[\'source_address\']"></div>\n
        <div tal:content="python: data_dict[\'source_telfax\']"></div>\n
        <div tal:content="python: data_dict[\'source_email\']"></div>\n
        <div tal:content="python: data_dict[\'source_section_corporateregcode\']"></div>\n
        <div tal:content="python: data_dict[\'source_vatid\']"></div>\n
      <div>\n
    </header>\n
    <br> \n
    <article>\n
      <div id="detail">\n
        <br>\n
        <div id="invoice_information">\n
          <div id="invoice_information_title">\n
            <tal:block tal:define=\'orig_string        string: Order Information; \n
                              orig_message       python: unicode(here.Base_translateString(orig_string, lang=default_language),"utf-8");\n
                              translated_message python: unicode(here.Base_translateString(orig_string),"utf-8")\'>\n
              <span style="font-weight:bold"><span tal:replace=\'orig_message\'/></span>\n
              <span style="font-weight:bold" tal:condition=\'python:translated_message != orig_message\'>\n
                <span tal:replace=\'translated_message\'/>\n
              </span>\n
            </tal:block>\n
          </div>\n
          <div id="invoice_information_detail">\n
            <div>\n
              <tal:block tal:define=\'orig_string        string: Order Number; \n
                                orig_message       python: unicode(here.Base_translateString(orig_string, lang=default_language),"utf-8");\n
                                translated_message python: unicode(here.Base_translateString(orig_string),"utf-8")\'>\n
                <span><span tal:replace=\'orig_message\'/>:</span>\n
                <span tal:condition=\'python:translated_message != orig_message\'><span tal:replace=\'translated_message\'/>:</span>\n
              </tal:block>\n
              <span tal:content=\'python:data_dict["reference"]\'>8223</span>\n
            </div>\n
            <div>\n
              <tal:block tal:define=\'orig_string        string: Document Date;\n
                                orig_message       python: unicode(here.Base_translateString(orig_string, lang=default_language),"utf-8");\n
                                translated_message python: unicode(here.Base_translateString(orig_string),"utf-8")\'>\n
                <span><span tal:replace=\'orig_message\'/>:</span>\n
                <span tal:condition=\'python:translated_message != orig_message\'><span tal:replace=\'translated_message\'/>:</span>\n
              </tal:block>\n
              <span tal:content="data_dict/start_date">2012/07/18</span>\n
            </div>\n
            <div>\n
              <tal:block tal:define=\'orig_string        string: Currency;\n
                                orig_message       python: unicode(here.Base_translateString(orig_string, lang=default_language),"utf-8");\n
                                translated_message python: unicode(here.Base_translateString(orig_string),"utf-8")\'>\n
                <span><span tal:replace=\'orig_message\'/>:</span>\n
                <span tal:condition=\'python:translated_message != orig_message\'><span tal:replace=\'translated_message\'/>:</span>\n
              </tal:block>\n
              <span tal:content=\'python:data_dict["currency"]\'>EUR</span>\n
            </div>\n
            <div>\n
              <tal:block tal:condition=\'python:data_dict["payment_condition"]\'\n
                         tal:define=\'orig_string string:Payment; \n
                                     orig_message python:unicode(here.Base_translateString(orig_string, lang=default_language),"utf-8");\n
                                     translated_message python:unicode(here.Base_translateString(orig_string),"utf-8")\'>\n
                <span><span tal:replace=\'orig_message\'/>:</span>\n
                <span tal:condition=\'python:translated_message != orig_message\'> <span tal:replace=\'translated_message\'/>:</span>\n
              </tal:block>\n
              <span tal:content=\'python:data_dict["payment_condition"]\'>60 days</span>\n
            </div>\n
            <div>\n
              <tal:block tal:condition=\'python:data_dict["delivery_mode"]\'\n
                                     tal:define=\'orig_string string:Delivery Mode;\n
                                     orig_message python:unicode(here.Base_translateString(orig_string, lang=default_language),"utf-8"); \n
                                     translated_message python:unicode(here.Base_translateString(orig_string),"utf-8")\'>\n
                <span><span tal:replace=\'orig_message\'/>:</span>\n
                <span tal:condition=\'python:translated_message != orig_message\'><span tal:replace=\'translated_message\'/>:</span>\n
              </tal:block>\n
              <span tal:content=\'python:data_dict["delivery_mode"]\'>del mode</span>\n
            </div>\n
            <div>\n
              <tal:block tal:condition="nothing"\n
                         tal:define=\'orig_string string:Incoterm;\n
                                     orig_message python:unicode(here.Base_translateString(orig_string, lang=default_language),"utf-8"); \n
                                     translated_message python:unicode(here.Base_translateString(orig_string),"utf-8")\'>\n
                <span><span tal:replace=\'orig_message\'/>:</span>\n
                <span tal:condition=\'python:translated_message != orig_message\'><span tal:replace=\'translated_message\'/>:</span>\n
              </tal:block>\n
              <span tal:content=\'python:data_dict["incoterm"]\'>incoterm</span>\n
            </div>\n
          </div>\n
        </div>\n
      </div>\n
      <br>\n
      <div id="product_detail_title">\n
        <span tal:define=\'orig_string        string: Products details; \n
                          orig_message       python: unicode(here.Base_translateString(orig_string, lang=default_language),"utf-8");\n
                          translated_message python: unicode(here.Base_translateString(orig_string),"utf-8")\'>\n
          <span style="font-weight:bold"><span tal:replace=\'orig_message\'/></span>\n
          <span style="font-weight:bold" tal:condition=\'python:translated_message != orig_message\'><span tal:replace=\'translated_message\'/></span>\n
        </span>\n
      </div>\n
\n
      <table id="invoice_line">\n
        <thead>\n
            <tr>\n
              <th tal:define=\'orig_string string:PROD; orig_message python:unicode(here.Base_translateString(orig_string, lang=default_language),"utf-8"); translated_message python:unicode(here.Base_translateString(orig_string),"utf-8")\'>\n
                <span><span tal:replace=\'orig_message\'/></span>\n
                <span tal:condition=\'python:translated_message != orig_message\'><span tal:replace=\'translated_message\'/></span>\n
              </th>\n
              <th tal:define=\'orig_string string:QTY; orig_message python:unicode(here.Base_translateString(orig_string, lang=default_language),"utf-8"); translated_message python:unicode(here.Base_translateString(orig_string),"utf-8")\'>\n
                <span><span tal:replace=\'orig_message\'/></span>\n
                <span tal:condition=\'python:translated_message != orig_message\'><span tal:replace=\'translated_message\'/></span>\n
              </th>\n
              <th tal:condition="nothing"  tal:define=\'orig_string string:U/P; orig_message python:unicode(here.Base_translateString(orig_string, lang=default_language),"utf-8"); translated_message python:unicode(here.Base_translateString(orig_string),"utf-8")\'>\n
                <span><span tal:replace=\'orig_message\'/></span>\n
                <span tal:condition=\'python:translated_message != orig_message\'><span tal:replace=\'translated_message\'/></span>\n
              </th>\n
              <th tal:condition="nothing" tal:define=\'orig_string string:TAX; orig_message python:unicode(here.Base_translateString(orig_string, lang=default_language),"utf-8"); translated_message python:unicode(here.Base_translateString(orig_string),"utf-8")\'>\n
                <span><span tal:replace=\'orig_message\'/></span>\n
                <span tal:condition=\'python:translated_message != orig_message\'><span tal:replace=\'translated_message\'/></span>\n
              </th>\n
              <th tal:define=\'orig_string string:PRICE; orig_message python:unicode(here.Base_translateString(orig_string, lang=default_language),"utf-8"); translated_message python:unicode(here.Base_translateString(orig_string),"utf-8")\'>\n
                <span><span tal:replace=\'orig_message\'/></span>\n
                <span  tal:condition=\'python:translated_message != orig_message\'><span tal:replace=\'translated_message\'/></span>\n
              </th>\n
            </tr>\n
        </thead>\n
        <tbody>\n
          <tal:block tal:repeat=\'line_dict python:data_dict["line_not_tax"]\'>\n
            <tr>\n
              <td>\n
                <span tal:content="line_dict/resource_title" />\n
              </td>\n
              <td><span tal:content="python: line_dict[\'total_quantity\']"></span></td>\n
              <td tal:condition="nothing"><span tal:content="python: line_dict[\'base_price\']"></span></td>\n
              <td tal:condition="nothing"><span tal:content="python: line_dict[\'tax_number\']"></span></td>\n
              <td><span tal:content="python: line_dict[\'total_price\']"></span></td>\n
            </tr>\n
          </tal:block>\n
        </tbody>\n
      </table>\n
\n
      <br>\n
      <table id="total_without_tax" tal:replace="nothing">\n
        <tr>\n
          <th tal:define=\'orig_string string:Total Excluding Tax; orig_message python:unicode(here.Base_translateString(orig_string, lang=default_language),"utf-8"); translated_message python:unicode(here.Base_translateString(orig_string),"utf-8")\'>\n
            <span><span tal:replace=\'orig_message\'/>:</span>\n
            <span tal:condition=\'python:translated_message != orig_message\'><span tal:replace=\'translated_message\'/>:</span>  \n
          </th>\n
          <td><span tal:content="python: data_dict[\'total_price_exclude_tax\']"></span></td>\n
        </tr>\n
      </table>\n
\n
      <div id="tax_detail_title" tal:replace="nothing">\n
        <span tal:define=\'orig_string        string: Tax details; \n
                          orig_message       python: unicode(here.Base_translateString(orig_string, lang=default_language),"utf-8");\n
                          translated_message python: unicode(here.Base_translateString(orig_string),"utf-8")\'>\n
          <span style="font-weight:bold"><span tal:replace=\'orig_message\'/></span>\n
          <span style="font-weight:bold" tal:condition=\'python:translated_message != orig_message\'><span tal:replace=\'translated_message\'/></span>\n
        </span>\n
      </div>\n
\n
      <table id="tax" tal:replace="nothing">\n
        <thead>\n
          <tr>\n
              <th tal:define=\'orig_string string:TAX; orig_message python:unicode(here.Base_translateString(orig_string, lang=default_language),"utf-8"); translated_message python:unicode(here.Base_translateString(orig_string),"utf-8")\'>\n
                <span><span tal:replace=\'orig_message\'/></span>\n
                <span tal:condition=\'python:translated_message != orig_message\'><span tal:replace=\'translated_message\'/></span>\n
              </th>  \n
              <th tal:define=\'orig_string string:AMT; orig_message python:unicode(here.Base_translateString(orig_string, lang=default_language),"utf-8"); translated_message python:unicode(here.Base_translateString(orig_string),"utf-8")\'>\n
                <span><span tal:replace=\'orig_message\'/></span>\n
                <span tal:condition=\'python:translated_message != orig_message\'><span tal:replace=\'translated_message\'/></span>\n
              </th>    \n
              <th tal:define=\'orig_string string:RATE; orig_message python:unicode(here.Base_translateString(orig_string, lang=default_language),"utf-8"); translated_message python:unicode(here.Base_translateString(orig_string),"utf-8")\'>\n
                <span><span tal:replace=\'orig_message\'/></span>\n
                <span tal:condition=\'python:translated_message != orig_message\'><span tal:replace=\'translated_message\'/></span>\n
              </th>   \n
              <th tal:define=\'orig_string string:PRICE; orig_message python:unicode(here.Base_translateString(orig_string, lang=default_language),"utf-8"); translated_message python:unicode(here.Base_translateString(orig_string),"utf-8")\'>\n
                <span><span tal:replace=\'orig_message\'/></span>\n
                <span tal:condition=\'python:translated_message != orig_message\'><span tal:replace=\'translated_message\'/></span>\n
              </th>  \n
          </tr>\n
        </thead>\n
        <tbody>\n
          <tal:block tal:repeat=\'line_tax_dict python:data_dict["line_tax"]\'>\n
            <tr>\n
              <td tal:condition="python: line_tax_dict[\'number_tax_line\'] != \'\'">\n
                <span tal:content="python: line_tax_dict[\'number_tax_line\']">:</span>\n
              </td>\n
              <td tal:condition="python: line_tax_dict[\'total_quantity\'] != \'\'"> \n
                <span tal:content="python: line_tax_dict[\'total_quantity\']">qty</span>\n
              </td>\n
              <td tal:condition="python: line_tax_dict[\'base_price\'] != \'\'">\n
                <span tal:content="python:  quantity_renderer(line_tax_dict[\'base_price\']*100*1.00)+\'%\'">:</span>\n
              </td> \n
              <td tal:condition="python: line_tax_dict[\'total_price\'] != \'\'">\n
                <span tal:content="python:  line_tax_dict[\'total_price\']">:</span>\n
              </td>            \n
            </tr>\n
          </tal:block>\n
        </tbody>\n
      </table>\n
      <table id="total_price">\n
        <tr>\n
          <th tal:define=\'orig_string string:Total Including Tax; orig_message python:unicode(here.Base_translateString(orig_string, lang=default_language),"utf-8"); translated_message python:unicode(here.Base_translateString(orig_string),"utf-8")\'>\n
            <span><span tal:replace=\'orig_message\'/> :</span>\n
            <span tal:condition=\'python:translated_message != orig_message\'><span tal:replace=\'translated_message\'/>:</span>  \n
          </th>\n
          <td tal:condition="python: data_dict[\'total_price\'] != \'\'" tal:attributes=\'office:value data_dict/total_price\'>\n
            <span tal:content="python:  data_dict[\'total_price\']">:</span>\n
          </td> \n
        </tr>\n
      </table>\n
      <table id="total_discount" tal:condition="python:float(data_dict[\'total_discount\']) != 0">\n
        <tr>\n
          <th tal:define=\'orig_string string: Discount ; \n
                          orig_message python:unicode(here.Base_translateString(orig_string, lang=default_language),"utf-8"); \n
                          translated_message python:unicode(here.Base_translateString(orig_string),"utf-8")\'>\n
            <span><span tal:replace=\'orig_message\'/> :</span>\n
            <span tal:condition=\'python:translated_message != orig_message\'><span tal:replace=\'translated_message\'/>:</span>  \n
          </th>\n
          <td tal:condition="python: data_dict[\'total_discount\'] != \'\'">\n
            <span tal:content="python:  data_dict[\'total_discount\']">:</span>\n
          </td> \n
        </tr>\n
      </table>\n
      <table id="total_price_with_discount" tal:condition="python:float(data_dict[\'total_discount\']) != 0">\n
        <tr>\n
          <th tal:define=\'orig_string string:Total With Discount; \n
                          orig_message python:unicode(here.Base_translateString(orig_string, lang=default_language),"utf-8"); \n
                          translated_message python:unicode(here.Base_translateString(orig_string),"utf-8")\'>\n
            <span><span tal:replace=\'orig_message\'/> :</span>\n
            <span tal:condition=\'python:translated_message != orig_message\'><span tal:replace=\'translated_message\'/>:</span>  \n
          </th>\n
          <td tal:condition="python: data_dict[\'total_price_with_discount\'] != \'\'">\n
            <span tal:content="python:  data_dict[\'total_price_with_discount\']">:</span>\n
          </td> \n
        </tr>\n
      </table>\n
      <br />\n
      <br />\n
      <div id="loyalty_information_header" style="width:350px;text-align:center;"\n
           tal:condition="order_number">\n
         <span> Programme de fidélité </span> <br />\n
         <span> www.weinparis.com/loyalty </span>\n
      </div>\n
      <br />\n
      <div id="loyalty_information_image" style="width:350px;text-align:center;"\n
           tal:condition="order_number">\n
        <canvas id="ordernumbercanvas" width="512" style="display:none;" height="480"></canvas>\n
        <img id="order_barcode" width="250" height="45"\n
                  tal:attributes="src string: Base_generateBarcodeImage?barcode_type=code128&data=${order_number}"> \n
        <br />\n
        <span id="order_number" tal:content="order_number"> Reference </span>\n
      </div>\n
      <br />\n
      <div id="loyalty_information_bottom" style="width:350px;text-align:center;"\n
           tal:condition="order_number">\n
         <span>en vous inscrivant, bénéficiez de 12% de</span> \n
         <br /> \n
         <span>réduction sur votre prochain achat</span>\n
         <br /> \n
         <span> après 300 EUR d\'achat. </span>\n
         <br /> \n
         <span>Conservez bien ce ticket et les </span>\n
         <br />\n
         <span>tickets de vos vêtements </span>\n
      </div>\n
      <br>\n
      <br>\n
    </article>\n
    <footer>Generated with ERP5 <br /> Open Source ERP suite (www.erp5.com)</footer>\n
    <button tal:condition="python: not request.get(\'preview_only\', 0)"\n
            id="print_button"\n
            tal:attributes="onclick python:\'printInvoiceOnEpson(\\\'%s\\\')\' % printer_url"\n
            onclick=\'printInvoiceOnEpson()\'>Print by Epson</button>\n
\n
    <tal:block tal:condition="python: request.get(\'auto_print\', 0)">\n
      <script type="text/javascript">\n
         $(window).load(function() {\n
            $(\'#print_button\').click();\n
         })\n
      </script>\n
      <a tal:condition="python: not reservation" href="./SaleOrder_confirmAndReturn"> \n
         <span i18n:translate=\'\' i18n:domain=\'\'> Confirm Order and Return </span>\n
      </a>\n
      <a tal:condition="reservation" href="./SaleOrderModule_viewReservedItemFastInputDialog"> \n
         <span i18n:translate=\'\' i18n:domain=\'\'> Return </span>\n
      </a>\n
      <a style="float:right" tal:attributes="href python:\'./SaleOrder_cancelAndReturn?reservation=%s\' % reservation">\n
         <span i18n:translate=\'\' i18n:domain=\'\'> Cancel Order and Return</span>\n
      </a>\n
    </tal:block>\n
    <tal:block tal:condition="python: form_id and not request.get(\'auto_print\', 0)">\n
      <a tal:attributes="href string:./${form_id}"> \n
         <span i18n:translate=\'\' i18n:domain=\'\'> Return </span>\n
      </a>\n
    </tal:block>\n
    <tal:block tal:condition="python: request.get(\'js_error_log\', 1)">\n
      <hr>\n
      <div id="js_error_log"> </div>\n
    </tal:block>\n
  </body>\n
</html>

]]></unicode> </value>
        </item>
        <item>
            <key> <string>content_type</string> </key>
            <value> <string>text/html</string> </value>
        </item>
        <item>
            <key> <string>expand</string> </key>
            <value> <int>0</int> </value>
        </item>
        <item>
            <key> <string>id</string> </key>
            <value> <string>SaleOrder_viewEpsonPrintout</string> </value>
        </item>
        <item>
            <key> <string>output_encoding</string> </key>
            <value> <string>utf-8</string> </value>
        </item>
        <item>
            <key> <string>title</string> </key>
            <value> <unicode></unicode> </value>
        </item>
      </dictionary>
    </pickle>
  </record>
</ZopeData>

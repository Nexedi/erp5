<tal:block xmlns:tal="http://xml.zope.org/namespaces/tal"
           xmlns:metal="http://xml.zope.org/namespaces/metal">
  <tal:block metal:define-macro="init">
    <tal:block metal:use-macro="here/Zuite_CommonTemplate/macros/init" />
    <tr>
      <td>store</td>
      <td>${base_url}/web_site_module/ung</td>
      <td>ung_url</td>
    </tr>
    <tr>
      <td>openAndWait</td>
      <td>${base_url}/ERP5Site_cleanUpUNGTestEnvironment</td>
      <td></td>
    </tr>
    <tal:block metal:use-macro="here/Zuite_CommonTemplate/macros/wait_for_activities"/>
    <tr>
      <td>openAndWait</td>
      <td>${ung_url}/WebSite_logout</td>
      <td></td>
    </tr>
    <tal:block tal:condition="python: not here.ERP5Site_hasUNGUser()">
      <tr>
        <td>click</td>
        <td>//td[@id="new-account-form"]</td>
        <td></td>
      </tr>
      <tr>
        <td>type</td>
        <td>//input[@name="firstname"]</td>
        <td>UNG</td>
      </tr>
      <tr>
        <td>type</td>
        <td>//input[@name="lastname"]</td>
        <td>User</td>
      </tr>
      <tr>
        <td>type</td>
        <td>//input[@name="email"]</td>
        <td>example@example.com</td>
      </tr>
      <tr>
        <td>type</td>
        <td>//input[@name="login_name"]</td>
        <td>test_user</td>
      </tr>
      <tr>
        <td>type</td>
        <td>//input[@name="password"]</td>
        <td>test_user</td>
      </tr>
      <tr>
        <td>type</td>
        <td>//input[@name="confirm"]</td>
        <td>test_user</td>
      </tr>
      <tr>
        <td>click</td>
        <td>//input[@value="Create Account"]</td>
        <td></td>
      </tr>
      <tr>
        <td>waitForPageToLoad</td>
        <td>30000</td>
        <td></td>
      </tr>
      <tal:block metal:use-macro="here/Zuite_CommonTemplate/macros/wait_for_activities"/>
      <tr>
        <td>openAndWait</td>
        <td>${ung_url}</td>
        <td></td>
      </tr>
    </tal:block>
  </tal:block>
  <tal:block metal:define-macro="login">
    <tr>
      <td>openAndWait</td>
      <td>${ung_url}/WebSite_logout</td>
      <td></td>
    </tr>
    <tr>
      <td>type</td>
      <td>__ac_name</td>
      <td>test_user</td>
    </tr>
    <tr>
      <td>type</td>
      <td>__ac_password</td>
      <td>test_user</td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>//input[@type="submit"]</td>
      <td></td>
    </tr>
  </tal:block>
  <tal:block metal:define-macro="create-user">
    <tr>
      <td>click</td>
      <td>//td[@id="new-account-form"]</td>
      <td></td>
    </tr>
    <tr>
      <td>type</td>
      <td>//input[@name="firstname"]</td>
      <td>Gabriel</td>
    </tr>
    <tr>
      <td>type</td>
      <td>//input[@name="lastname"]</td>
      <td>Monnerat</td>
    </tr>
    <tr>
      <td>type</td>
      <td>//input[@name="email"]</td>
      <td>example@example.com</td>
    </tr>
    <tr>
      <td>type</td>
      <td>//input[@name="login_name"]</td>
      <td>ung_user</td>
    </tr>
    <tr>
      <td>type</td>
      <td>//input[@name="password"]</td>
      <td>1234</td>
    </tr>
    <tr>
      <td>type</td>
      <td>//input[@name="confirm"]</td>
      <td>1234</td>
    </tr>
    <tr>
      <td>click</td>
      <td>//input[@value="Create Account"]</td>
      <td></td>
    </tr>
    <tr>
      <td>waitForPageToLoad</td>
      <td>30000</td>
      <td></td>
    </tr>
  </tal:block>
  <tal:block metal:define-macro="delete-all-documents">
    <tr>
      <td>openAndWait</td>
      <td>${ung_url}</td>
      <td></td>
    </tr>
    <tr>
      <td>click</td>
      <td>//th[@class="listbox-table-select-cell"]/input[1]</td>
      <td></td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>//button[@class="delete"]</td>
      <td></td>
    </tr>
    <tal:block metal:use-macro="here/Zuite_CommonTemplate/macros/wait_for_activities"/>
    <tr>
      <td>openAndWait</td>
      <td>${ung_url}</td>
      <td></td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>//table[@class="your_listbox-table-domain-tree"]/tbody/tr[11]/td/a</td>
      <td></td>
    </tr>
    <tr>
      <td>click</td>
      <td>//th[@class="listbox-table-select-cell"]/input[1]</td>
      <td></td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>//button[@class="delete"]</td>
      <td></td>
    </tr>
  </tal:block>
</tal:block>
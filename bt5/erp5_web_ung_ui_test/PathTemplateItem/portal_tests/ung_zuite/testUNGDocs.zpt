<html xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title tal:content="template/getId"/>
</head>
<body>
  <table cellpadding="1" cellspacing="1" border="1">
    <thead>
      <tr><td rowspan="1" colspan="3" tal:content="template/getId"/></tr>
    </thead><tbody>
      <tal:block metal:use-macro="here/Zuite_CommonTemplateForUNG/macros/init" />
      <tal:block metal:use-macro="here/Zuite_CommonTemplateForUNG/macros/login" />
      <tr>
        <td>openAndWait</td>
        <td>${ung_url}/ERP5Site_createNewWebDocument?template=web_illustration_template</td>
        <td></td>
      </tr>
      <tr>
        <td>storeEval</td>
        <td>selenium.browserbot.getCurrentWindow().document.location.href.split("WebIllustration_viewEditor")[0]</td>
        <td>url</td>
      </tr>
      <tr>
        <td>openAndWait</td>
        <td>${url}/WebIllustration_setSampleinTextContent</td>
        <td></td>
      </tr>
      <tr>
        <td>verifyTextPresent</td>
        <td>Done.</td>
        <td></td>
      </tr>
      <tr>
        <td>openAndWait</td>
        <td>${url}/WebIllustration_viewEditor?editable_mode:int=1</td>
        <td></td>
      </tr>
      <tr>
        <td>waitForCondition</td>
        <td>selenium.isElementPresent("//ellipse[@id='svg_1']")</td>
        <td>9000</td>
      </tr>
      <tr>
        <td>verifyAttribute</td>
        <td>//ellipse[@id='svg_1']@ry</td>
        <td>46</td>
      </tr>
      <tr>
        <td>verifyText</td>
        <td>//a[@name="document_title"]</td>
        <td>Web Illustration</td>
      </tr>
      <tr>
        <td>verifyText</td>
        <td>//a[@name="document_state"]</td>
        <td>Draft</td>
      </tr>
      <tr>
        <td>click</td>
        <td>//a[@name="document_title"]</td>
        <td></td>
      </tr>
      <tr>
        <td>verifyText</td>
        <td>//span[@id="ui-dialog-title-edit_document"]</td>
        <td>Rename Document</td>
      </tr>
      <tr>
        <td>verifyText</td>
        <td>//p[@id="more_properties"]</td>
        <td>Edit More Properties</td>
      </tr>
      <tr>
        <td>click</td>
        <td>//p[@id="more_properties"]</td>
        <td></td>
      </tr>
      <tr>
        <td>click</td>
        <td>//span[@class="ui-icon ui-icon-closethick"]</td>
        <td></td>
      </tr>
      <tr>
        <td>click</td>
        <td>//a[@name="document_title"]</td>
        <td></td>
      </tr>
      <tr>
        <td>type</td>
        <td>//input[@id="name"]</td>
        <td>Functional UNG Test</td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>//div[@class="ui-dialog-buttonset"]/button[1]/span</td>
        <td></td>
      </tr>
      <tr>
        <td>verifyText</td>
        <td>//a[@name="document_title"]</td>
        <td>Functional UNG Test</td>
      </tr>
      <tr>
        <td>verifyTextNotPresent</td>
        <td>All Documents</td>
        <td></td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>//a[@class="ung_docs"]</td>
        <td></td>
      </tr>
      <tr>
        <td>verifyText</td>
        <td>//a[@class="tree-open"]</td>
        <td>All Documents</td>
      </tr>
      <tal:block metal:use-macro="here/Zuite_CommonTemplate/macros/wait_for_activities"/>
      <tr>
        <td>openAndWait</td>
        <td>${ung_url}</td>
        <td></td>
      </tr>
      <tr>
        <td>type</td>
        <td>//input[@name="field_your_search_text"]</td>
        <td>Functional UNG Test</td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>//input[@value="Search Docs"]</td>
        <td></td>
      </tr>
      <tr>
        <td>verifyTextNotPresent</td>
        <td>No result.</td>
        <td></td>
      </tr>
      <tr>
        <td>openAndWait</td>
        <td>${ung_url}/ERP5Site_createNewWebDocument?template=web_table_template</td>
        <td></td>
      </tr>
      <tr>
        <td>verifyText</td>
        <td>//a[@name="document_title"]</td>
        <td>Web Table</td>
      </tr>
      <tr>
        <td>verifyElementPresent</td>
        <td>//td[@id='0_table0_cell_c0_r1']</td>
        <td></td>
      </tr>
      <tr>
        <td>verifyElementPresent</td>
        <td>//td[@id='0_table0_cell_c1_r1']</td>
        <td></td>
      </tr>
      <tr>
        <td>verifyText</td>
        <td>//td[@id="jSheetTitle_0"]</td>
        <td>Spreadsheet Playground</td>
      </tr>
      <tr>
        <td>verifyText</td>
        <td>//td[@id="jSheetMenu_0"]/span[@class="rootVoice"]</td>
        <td>MENU</td>
      </tr>
      <tr>
        <td>runScript</td>
        <td>$("#0_table0_cell_c0_r0").html("Gabriel")</td>
        <td></td>
      </tr>
      <tr>
        <td>runScript</td>
        <td>$("#0_table0_cell_c1_r1").html("Monnerat")</td>
        <td></td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>//button[@class="save"]</td>
        <td></td>
      </tr>
      <tr>
        <td>verifyText</td>
        <td>//td[@id='0_table0_cell_c0_r0']</td>
        <td>Gabriel</td>
      </tr>
      <tr>
        <td>verifyText</td>
        <td>//td[@id='0_table0_cell_c1_r1']</td>
        <td>Monnerat</td>
      </tr>
      <tr>
        <td>openAndWait</td>
        <td>${ung_url}/ERP5Site_createNewWebDocument?template=web_page_template</td>
        <td></td>
      </tr>
      <tr>
        <td>verifyText</td>
        <td>//a[@name="document_title"]</td>
        <td>Web Page</td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>//div[@class="action_menu"]/li/ul/li[1]/a</td>
        <td></td>
      </tr>
      <tr>
        <td>verifyText</td>
        <td>//a[@name="document_state"]</td>
        <td>Cancelled</td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>//a[@class="ung_docs"]</td>
        <td></td>
      </tr>
      <tr>
        <td>verifyText</td>
        <td>//a[@class="domain_selected"]</td>
        <td>All Documents</td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>//div[@class="favorite"]/a[2]</td>
        <td></td>
      </tr>
      <tr>
        <td>verifyText</td>
        <td>//a[@class="domain_selected"]</td>
        <td>All Documents</td>
      </tr>
      <tr>
        <td>click</td>
        <td>//table[@class="listbox your_listbox your_listbox-table"]/tbody/tr[1]/td[1]/input</td>
        <td></td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>//button[@class="delete"]</td>
        <td></td>
      </tr>
      <tal:block metal:use-macro="here/Zuite_CommonTemplate/macros/wait_for_activities"/>
      <tr>
        <td>openAndWait</td>
        <td>${ung_url}</td>
        <td></td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>//table[@class="your_listbox-table-domain-tree"]/tbody/tr[11]/td/a</td>
        <td></td>
      </tr>
      <tr>
        <td>setTimeout</td>
        <td>30000</td>
        <td></td>
      </tr>
      <tr>
        <td>verifyTextNotPresent</td>
        <td>No result.</td>
        <td></td>
      </tr>
      <tr>
        <td>verifyText</td>
        <td>//table/tbody/tr[1]/td[4]</td>
        <td>Deleted</td>
      </tr>
      <tr>
        <td>click</td>
        <td>//table[@class="listbox your_listbox your_listbox-table"]/tbody/tr[1]/td[1]/input</td>
        <td></td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>//button[@class="delete"]</td>
        <td></td>
      </tr>
      <tr>
        <td>verifyText</td>
        <td>//td[@class="listbox-table-no-result-row"]/span</td>
        <td>No result.</td>
      </tr>
      <tr>
        <td>verifyText</td>
        <td>//a[@class="domain_selected"]</td>
        <td>Trash</td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>//table[@class="your_listbox-table-domain-tree"]/tbody/tr[3]/td/a</td>
        <td></td>
      </tr>
      <tr>
        <td>verifyText</td>
        <td>//td[@class="listbox-table-no-result-row"]/span</td>
        <td>No result.</td>
      </tr>
      <tr>
        <td>verifyText</td>
        <td>//a[@class="domain_selected"]</td>
        <td>Hidden</td>
      </tr>
      <!-- Test the abbreviation of the title -->
      <tr>
        <td>openAndWait</td>
        <td>${ung_url}/ERP5Site_createNewWebDocument?template=web_page_template</td>
        <td></td>
      </tr>
      <tr>
        <td>click</td>
        <td>//a[@name="document_title"]</td>
        <td></td>
      </tr>
      <tr>
        <td>type</td>
        <td>//input[@id="name"]</td>
        <td>Add a Big Title to Test the abbreviation</td>
      </tr>
      <tr>
        <td>setTimeout</td>
        <td>30000</td>
        <td></td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>//div[@class="ui-dialog-buttonset"]/button[1]/span</td>
        <td></td>
      </tr>
      <tr>
        <td>verifyText</td>
        <td>//a[@name="document_title"]</td>
        <td>Add a Big Title to Test the ab...</td>
      </tr>
      <tr>
        <td>click</td>
        <td>//a[@name="document_title"]</td>
        <td></td>
      </tr>
      <tr>
        <td>verifyValue</td>
        <td>//input[@id="name"]</td>
        <td>Add a Big Title to Test the abbreviation</td>
      </tr>
      <tr>
        <td>openAndWait</td>
        <td>${ung_url}</td>
        <td></td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>//div[@id="select_language"]/li/ul/li/span[@id="fr"]</td>
        <td></td>
      </tr>
      <tr>
        <td>verifyTextPresent</td>
        <td>Aide</td>
        <td></td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>//div[@id="select_language"]/li/ul/li/span[@id="en"]</td>
        <td></td>
      </tr>
      <tr>
        <td>verifyTextPresent</td>
        <td>Help</td>
        <td></td>
      </tr>
      <tal:block tal:repeat="index python:range(2)">
        <tr>
          <td>clickAndWait</td>
          <td>//a[@class="ung_docs"]</td>
          <td></td>
        </tr>
        <tr>
          <td>click</td>
          <td>//input[@id="upload"]</td>
          <td></td>
        </tr>
        <tr>
          <td>select</td>
          <td>//select[@name="portal_type"]</td>
          <td>Web Table</td>
        </tr>
        <tr>
          <td>click</td>
          <td>//input[@id="submit_document"]</td>
          <td></td>
        </tr>
        <tr>
          <td>verifyText</td>
          <td>//span[@id='no-input-file']</td>
          <td>Please input a file</td>
        </tr>
        <tr>
          <td>verifyTextPresent</td>
          <td>Loading...</td>
          <td></td>
        </tr>
        <tr>
          <td>verifyElementPresent</td>
          <td>//input[@id="upload-file"]</td>
          <td></td>
        </tr>
        <tr>
          <td>type</td>
          <td>//input[@id="upload-file"]</td>
          <td tal:content="python: here.Zuite_getFilenameLocation('tiolive-ERP5.Freedom.TioLive.Spreadsheet-001-en.ods')"></td>
        </tr>
        <tr>
          <td>clickAndWait</td>
          <td>//input[@id="submit_document"]</td>
          <td></td>
        </tr>
        <tr>
          <td>waitForCondition</td>
          <td>selenium.isTextPresent("Opening")</td>
          <td>30000</td>
        </tr>
        <tr>
          <td>waitForPageToLoad</td>
          <td>30000</td>
          <td></td>
        </tr>
        <tr>
          <td>waitForCondition</td>
          <td>selenium.isElementPresent("//a[@name='document_title']")</td>
          <td>30000</td>
        </tr>
        <tr>
          <td>verifyTextPresent</td>
          <td>TioLive Spreadsheet</td>
          <td></td>
        </tr>
        <tr>
          <td>verifyAttribute</td>
          <td>//td[@id='0_table0_cell_c0_r1']@sdval</td>
          <td>1</td>
        </tr>
        <tr>
          <td>verifyAttribute</td>
          <td>//td[@id='0_table0_cell_c1_r1']@sdval</td>
          <td>2</td>
        </tr>
      </tal:block>
      <tr>
        <td>clickAndWait</td>
        <td>//a[@class="ung_docs"]</td>
        <td></td>
      </tr>
      <tr>
        <td>click</td>
        <td>//input[@id="upload"]</td>
         <td></td>
      </tr>
      <tr>
        <td>select</td>
        <td>//select[@name="portal_type"]</td>
        <td>Web Page</td>
      </tr>
      <tr>
        <td>type</td>
        <td>//input[@id="upload-file"]</td>
        <td tal:content="python: here.Zuite_getFilenameLocation('tiolive-ERP5.Freedom.TioLive.Spreadsheet-001-en.ods')"></td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>//input[@id="submit_document"]</td>
        <td></td>
      </tr>
      <tr>
        <td>waitForCondition</td>
        <td>selenium.isTextPresent("Opening")</td>
        <td>30000</td>
      </tr>
      <tr>
        <td>waitForPageToLoad</td>
        <td>30000</td>
        <td></td>
      </tr>
      <tr>
        <td>waitForCondition</td>
        <td>selenium.isElementPresent("//a[@name='document_title']")</td>
        <td>30000</td>
      </tr>
      <tr>
        <td>verifyTextPresent</td>
        <td>TioLive Spreadsheet</td>
        <td></td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>//a[@class="ung_docs"]</td>
        <td></td>
      </tr>
      <tr>
        <td>openAndWait</td>
        <td>${ung_url}/ERP5Site_createNewWebDocument?template=web_page_template</td>
        <td></td>
      </tr>
      <tr>
        <td>click</td>
        <td>//a[@name="document_title"]</td>
        <td></td>
      </tr>
      <tr>
        <td>type</td>
        <td>//input[@id="name"]</td>
        <td>Cancelled Document</td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>//div[@class="ui-dialog-buttonset"]/button[1]/span</td>
        <td></td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>//div[@class="action_menu"]/li/ul/li[1]/a</td>
        <td></td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>//a[@class="ung_docs"]</td>
        <td></td>
      </tr>
      <tr>
        <td>click</td>
        <td>//table[@class="listbox your_listbox your_listbox-table"]/tbody/tr[1]/td[1]/input</td>
        <td></td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>//button[@class="delete"]</td>
        <td></td>
      </tr>
      <tal:block metal:use-macro="here/Zuite_CommonTemplate/macros/wait_for_activities"/>
      <tr>
        <td>openAndWait</td>
        <td>${ung_url}</td>
        <td></td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>//table[@class="your_listbox-table-domain-tree"]/tbody/tr[11]/td/a</td>
        <td></td>
      </tr>
      <tr>
        <td>verifyText</td>
        <td>//table/tbody/tr[1]/td[3]</td>
        <td>Cancelled Document</td>
      </tr>
      <tr>
        <td>click</td>
        <td>//table[@class="listbox your_listbox your_listbox-table"]/tbody/tr[1]/td[1]/input</td>
        <td></td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>//button[@class="delete"]</td>
        <td></td>
      </tr>
      <tal:block metal:use-macro="here/Zuite_CommonTemplateForUNG/macros/delete-all-documents"/>
    </tbody>
  </table>
</body>
</html>
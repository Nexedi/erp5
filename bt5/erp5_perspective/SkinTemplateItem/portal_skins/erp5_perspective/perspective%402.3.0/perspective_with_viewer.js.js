/*! For license information please see out.js.LICENSE.txt */
(()=>{var e={7392:(e,t,n)=>{"use strict";n.r(t);var r=n(9524),i=n(3418),a=(n(9132),n(2352)),o=n(8648),l=n(3291),c=n(1093),s=n(5416),u=n(2272);const f=e=>()=>e;function d(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:a,x:o,y:l,dx:c,dy:s,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:s,enumerable:!0,configurable:!0},_:{value:u}})}function h(e){return!e.ctrlKey&&!e.button}function g(){return this.parentNode}function p(e,t){return null==t?{x:e.x,y:e.y}:t}function _(){return navigator.maxTouchPoints||"ontouchstart"in this}function b(){var e,t,n,r,i=h,a=g,b=p,m=_,v={},y=(0,o.c)("start","drag","end"),w=0,x=0;function k(e){e.on("mousedown.drag",S).filter(m).on("touchstart.drag",T).on("touchmove.drag",E,u.Y7).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function S(o,c){if(!r&&i.call(this,o,c)){var f=V(this,a.call(this,o,c),o,c,"mouse");f&&((0,l.c)(o.view).on("mousemove.drag",M,u.aK).on("mouseup.drag",A,u.aK),(0,s.c)(o.view),(0,u.Ut)(o),n=!1,e=o.clientX,t=o.clientY,f("start",o))}}function M(r){if((0,u.cp)(r),!n){var i=r.clientX-e,a=r.clientY-t;n=i*i+a*a>x}v.mouse("drag",r)}function A(e){(0,l.c)(e.view).on("mousemove.drag mouseup.drag",null),(0,s.i)(e.view,n),(0,u.cp)(e),v.mouse("end",e)}function T(e,t){if(i.call(this,e,t)){var n,r,o=e.changedTouches,l=a.call(this,e,t),c=o.length;for(n=0;n<c;++n)(r=V(this,l,e,t,o[n].identifier,o[n]))&&((0,u.Ut)(e),r("start",e,o[n]))}}function E(e){var t,n,r=e.changedTouches,i=r.length;for(t=0;t<i;++t)(n=v[r[t].identifier])&&((0,u.cp)(e),n("drag",e,r[t]))}function C(e){var t,n,i=e.changedTouches,a=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<a;++t)(n=v[i[t].identifier])&&((0,u.Ut)(e),n("end",e,i[t]))}function V(e,t,n,r,i,a){var o,l,s,u=y.copy(),f=(0,c.c)(a||n,t);if(null!=(s=b.call(e,new d("beforestart",{sourceEvent:n,target:k,identifier:i,active:w,x:f[0],y:f[1],dx:0,dy:0,dispatch:u}),r)))return o=s.x-f[0]||0,l=s.y-f[1]||0,function n(a,h,g){var p,_=f;switch(a){case"start":v[i]=n,p=w++;break;case"end":delete v[i],--w;case"drag":f=(0,c.c)(g||h,t),p=w}u.call(a,e,new d(a,{sourceEvent:h,subject:s,target:k,identifier:i,active:p,x:f[0]+o,y:f[1]+l,dx:f[0]-_[0],dy:f[1]-_[1],dispatch:u}),r)}}return k.filter=function(e){return arguments.length?(i="function"==typeof e?e:f(!!e),k):i},k.container=function(e){return arguments.length?(a="function"==typeof e?e:f(e),k):a},k.subject=function(e){return arguments.length?(b="function"==typeof e?e:f(e),k):b},k.touchable=function(e){return arguments.length?(m="function"==typeof e?e:f(!!e),k):m},k.on=function(){var e=y.on.apply(y,arguments);return e===y?k:e},k.clickDistance=function(e){return arguments.length?(x=(e=+e)*e,k):Math.sqrt(x)},k}d.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var m=n(4076),v=n(7172);function y(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function w(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=k)):void 0===t&&(t=x);for(var n,r,i,a,o,l=new A(e),c=[l];n=c.pop();)if((i=t(n.data))&&(o=(i=Array.from(i)).length))for(n.children=i,a=o-1;a>=0;--a)c.push(r=i[a]=new A(i[a])),r.parent=n,r.depth=n.depth+1;return l.eachBefore(M)}function x(e){return e.children}function k(e){return Array.isArray(e)?e[1]:null}function S(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function M(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function A(e){this.data=e,this.depth=this.height=0,this.parent=null}function T(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function E(e,t,n,r,i){for(var a,o=e.children,l=-1,c=o.length,s=e.value&&(r-t)/e.value;++l<c;)(a=o[l]).y0=n,a.y1=i,a.x0=t,a.x1=t+=a.value*s}function C(e,t,n,r,i){for(var a,o=e.children,l=-1,c=o.length,s=e.value&&(i-n)/e.value;++l<c;)(a=o[l]).x0=t,a.x1=r,a.y0=n,a.y1=n+=a.value*s}A.prototype=w.prototype={constructor:A,count:function(){return this.eachAfter(y)},each:function(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this},eachAfter:function(e,t){for(var n,r,i,a=this,o=[a],l=[],c=-1;a=o.pop();)if(l.push(a),n=a.children)for(r=0,i=n.length;r<i;++r)o.push(n[r]);for(;a=l.pop();)e.call(t,a,++c,this);return this},eachBefore:function(e,t){for(var n,r,i=this,a=[i],o=-1;i=a.pop();)if(e.call(t,i,++o,this),n=i.children)for(r=n.length-1;r>=0;--r)a.push(n[r]);return this},find:function(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return w(this).eachBefore(S)},[Symbol.iterator]:function*(){var e,t,n,r,i=this,a=[i];do{for(e=a.reverse(),a=[];i=e.pop();)if(yield i,t=i.children)for(n=0,r=t.length;n<r;++n)a.push(t[n])}while(a.length)}};const V=function e(t){function n(e,n,r,i,a){!function(e,t,n,r,i,a){for(var o,l,c,s,u,f,d,h,g,p,_,b=[],m=t.children,v=0,y=0,w=m.length,x=t.value;v<w;){c=i-n,s=a-r;do{u=m[y++].value}while(!u&&y<w);for(f=d=u,_=u*u*(p=Math.max(s/c,c/s)/(x*e)),g=Math.max(d/_,_/f);y<w;++y){if(u+=l=m[y].value,l<f&&(f=l),l>d&&(d=l),_=u*u*p,(h=Math.max(d/_,_/f))>g){u-=l;break}g=h}b.push(o={value:u,dice:c<s,children:m.slice(v,y)}),o.dice?E(o,n,r,i,x?r+=s*u/x:a):C(o,n,r,x?n+=c*u/x:i,a),x-=u,v=y}}(t,e,n,r,i,a)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}((1+Math.sqrt(5))/2);function N(){return 0}function z(e){return function(){return e}}function D(e,t,n,r,i){var a,o,l=e.children,c=l.length,s=new Array(c+1);for(s[0]=o=a=0;a<c;++a)s[a+1]=o+=l[a].value;!function e(t,n,r,i,a,o,c){if(t>=n-1){var u=l[t];return u.x0=i,u.y0=a,u.x1=o,void(u.y1=c)}for(var f=s[t],d=r/2+f,h=t+1,g=n-1;h<g;){var p=h+g>>>1;s[p]<d?h=p+1:g=p}d-s[h-1]<s[h]-d&&t+1<h&&--h;var _=s[h]-f,b=r-_;if(o-i>c-a){var m=r?(i*b+o*_)/r:o;e(t,h,_,i,a,m,c),e(h,n,b,m,a,o,c)}else{var v=r?(a*b+c*_)/r:c;e(t,h,_,i,a,o,v),e(h,n,b,i,v,o,c)}}(0,c,e.value,t,n,r,i)}var P=n(2888),L=n(2816),O=n(7680),I=n(5824),R=(n(4452),n(1786)),B=n(9660),F=n(1976),Y="http://www.w3.org/1999/xhtml";const j={svg:"http://www.w3.org/2000/svg",xhtml:Y,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),j.hasOwnProperty(t)?{space:j[t],local:e}:e}function H(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Y&&t.documentElement.namespaceURI===Y?t.createElement(e):t.createElementNS(n,e)}}function U(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function W(e){var t=$(e);return(t.local?U:H)(t)}var q=0;function G(){this._="@"+(++q).toString(36)}G.prototype=function(){return new G}.prototype={constructor:G,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var X=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var K=document.documentElement;if(!K.matches){var Q=K.webkitMatchesSelector||K.msMatchesSelector||K.mozMatchesSelector||K.oMatchesSelector;X=function(e){return function(){return Q.call(this,e)}}}}const Z=X;var J={},ee=null;function te(e,t,n){return e=ne(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function ne(e,t,n){return function(r){var i=ee;ee=r;try{e.call(this,this.__data__,t,n)}finally{ee=i}}}function re(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function ie(e,t,n){var r=J.hasOwnProperty(e.type)?te:ne;return function(i,a,o){var l,c=this.__on,s=r(t,a,o);if(c)for(var u=0,f=c.length;u<f;++u)if((l=c[u]).type===e.type&&l.name===e.name)return this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=s,l.capture=n),void(l.value=t);this.addEventListener(e.type,s,n),l={type:e.type,name:e.name,value:t,listener:s,capture:n},c?c.push(l):this.__on=[l]}}function ae(){}function oe(e){return null==e?ae:function(){return this.querySelector(e)}}function le(){return[]}function ce(e){return new Array(e.length)}function se(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(J={mouseenter:"mouseover",mouseleave:"mouseout"})),se.prototype={constructor:se,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ue(e,t,n,r,i,a){for(var o,l=0,c=t.length,s=a.length;l<s;++l)(o=t[l])?(o.__data__=a[l],r[l]=o):n[l]=new se(e,a[l]);for(;l<c;++l)(o=t[l])&&(i[l]=o)}function fe(e,t,n,r,i,a,o){var l,c,s,u={},f=t.length,d=a.length,h=new Array(f);for(l=0;l<f;++l)(c=t[l])&&(h[l]=s="$"+o.call(c,c.__data__,l,t),s in u?i[l]=c:u[s]=c);for(l=0;l<d;++l)(c=u[s="$"+o.call(e,a[l],l,a)])?(r[l]=c,c.__data__=a[l],u[s]=null):n[l]=new se(e,a[l]);for(l=0;l<f;++l)(c=t[l])&&u[h[l]]===c&&(i[l]=c)}function de(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function he(e){return function(){this.removeAttribute(e)}}function ge(e){return function(){this.removeAttributeNS(e.space,e.local)}}function pe(e,t){return function(){this.setAttribute(e,t)}}function _e(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function be(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function me(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ve(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ye(e){return function(){this.style.removeProperty(e)}}function we(e,t,n){return function(){this.style.setProperty(e,t,n)}}function xe(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function ke(e){return function(){delete this[e]}}function Se(e,t){return function(){this[e]=t}}function Me(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Ae(e){return e.trim().split(/^|\s+/)}function Te(e){return e.classList||new Ee(e)}function Ee(e){this._node=e,this._names=Ae(e.getAttribute("class")||"")}function Ce(e,t){for(var n=Te(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Ve(e,t){for(var n=Te(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Ne(e){return function(){Ce(this,e)}}function ze(e){return function(){Ve(this,e)}}function De(e,t){return function(){(t.apply(this,arguments)?Ce:Ve)(this,e)}}function Pe(){this.textContent=""}function Le(e){return function(){this.textContent=e}}function Oe(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Ie(){this.innerHTML=""}function Re(e){return function(){this.innerHTML=e}}function Be(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Fe(){this.nextSibling&&this.parentNode.appendChild(this)}function Ye(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function je(){return null}function $e(){var e=this.parentNode;e&&e.removeChild(this)}function He(e,t,n){var r=ve(e),i=r.CustomEvent;i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Ue(e,t){return function(){return He(this,e,t)}}function We(e,t){return function(){return He(this,e,t.apply(this,arguments))}}Ee.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var qe,Ge=[null];function Xe(e,t){this._groups=e,this._parents=t}function Ke(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Qe(e){return(e=Ke(Math.abs(e)))?e[1]:NaN}function Ze(e,t){var n=Ke(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Xe.prototype=function(){return new Xe([[document.documentElement]],Ge)}.prototype={constructor:Xe,select:function(e){"function"!=typeof e&&(e=oe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o,l=t[i],c=l.length,s=r[i]=new Array(c),u=0;u<c;++u)(a=l[u])&&(o=e.call(a,a.__data__,u,l))&&("__data__"in a&&(o.__data__=a.__data__),s[u]=o);return new Xe(r,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=function(e){return null==e?le:function(){return this.querySelectorAll(e)}}(e));for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o,l=t[a],c=l.length,s=0;s<c;++s)(o=l[s])&&(r.push(e.call(o,o.__data__,s,l)),i.push(o));return new Xe(r,i)},filter:function(e){"function"!=typeof e&&(e=Z(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],l=o.length,c=r[i]=[],s=0;s<l;++s)(a=o[s])&&e.call(a,a.__data__,s,o)&&c.push(a);return new Xe(r,this._parents)},data:function(e,t){if(!e)return g=new Array(this.size()),u=-1,this.each((function(e){g[++u]=e})),g;var n,r=t?fe:ue,i=this._parents,a=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var o=a.length,l=new Array(o),c=new Array(o),s=new Array(o),u=0;u<o;++u){var f=i[u],d=a[u],h=d.length,g=e.call(f,f&&f.__data__,u,i),p=g.length,_=c[u]=new Array(p),b=l[u]=new Array(p);r(f,d,_,b,s[u]=new Array(h),g,t);for(var m,v,y=0,w=0;y<p;++y)if(m=_[y]){for(y>=w&&(w=y+1);!(v=b[w])&&++w<p;);m._next=v||null}}return(l=new Xe(l,i))._enter=c,l._exit=s,l},enter:function(){return new Xe(this._enter||this._groups.map(ce),this._parents)},exit:function(){return new Xe(this._exit||this._groups.map(ce),this._parents)},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var c,s=t[l],u=n[l],f=s.length,d=o[l]=new Array(f),h=0;h<f;++h)(c=s[h]||u[h])&&(d[h]=c);for(;l<r;++l)o[l]=t[l];return new Xe(o,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&o!==r.nextSibling&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=de);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,l=n[a],c=l.length,s=i[a]=new Array(c),u=0;u<c;++u)(o=l[u])&&(s[u]=o);s.sort(t)}return new Xe(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],o=0,l=a.length;o<l;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this},attr:function(e,t){var n=$(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?ge:he:"function"==typeof t?n.local?me:be:n.local?_e:pe)(n,t))},style:function(e,t,n){var r;return arguments.length>1?this.each((null==t?ye:"function"==typeof t?xe:we)(e,t,null==n?"":n)):ve(r=this.node()).getComputedStyle(r,null).getPropertyValue(e)},property:function(e,t){return arguments.length>1?this.each((null==t?ke:"function"==typeof t?Me:Se)(e,t)):this.node()[e]},classed:function(e,t){var n=Ae(e+"");if(arguments.length<2){for(var r=Te(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?De:t?Ne:ze)(n,t))},text:function(e){return arguments.length?this.each(null==e?Pe:("function"==typeof e?Oe:Le)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Ie:("function"==typeof e?Be:Re)(e)):this.node().innerHTML},raise:function(){return this.each(Fe)},lower:function(){return this.each(Ye)},append:function(e){var t="function"==typeof e?e:W(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:W(e),r=null==t?je:"function"==typeof t?t:oe(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each($e)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,a=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),o=a.length;if(!(arguments.length<2)){for(l=t?ie:re,null==n&&(n=!1),r=0;r<o;++r)this.each(l(a[r],t,n));return this}var l=this.node().__on;if(l)for(var c,s=0,u=l.length;s<u;++s)for(r=0,c=l[s];r<o;++r)if((i=a[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(e,t){return this.each(("function"==typeof t?We:Ue)(e,t))}};const Je={"":function(e,t){e:for(var n,r=(e=e.toPrecision(t)).length,i=1,a=-1;i<r;++i)switch(e[i]){case".":a=n=i;break;case"0":0===a&&(a=i),n=i;break;case"e":break e;default:a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(n+1):e},"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Ze(100*e,t)},r:Ze,s:function(e,t){var n=Ke(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(qe=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ke(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};var et=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function tt(e){return new nt(e)}function nt(e){if(!(t=et.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",r=t[2]||">",i=t[3]||"-",a=t[4]||"",o=!!t[5],l=t[6]&&+t[6],c=!!t[7],s=t[8]&&+t[8].slice(1),u=t[9]||"";"n"===u?(c=!0,u="g"):Je[u]||(u=""),(o||"0"===n&&"="===r)&&(o=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=a,this.zero=o,this.width=l,this.comma=c,this.precision=s,this.type=u}nt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var rt,it,at,ot=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function lt(e){return e}function ct(e){var t,n,r=e.grouping&&e.thousands?(t=e.grouping,n=e.thousands,function(e,r){for(var i=e.length,a=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(e.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[o=(o+1)%t.length];return a.reverse().join(n)}):lt,i=e.currency,a=e.decimal;function o(e){var t=(e=tt(e)).fill,n=e.align,o=e.sign,l=e.symbol,c=e.zero,s=e.width,u=e.comma,f=e.precision,d=e.type,h="$"===l?i[0]:"#"===l&&/[boxX]/.test(d)?"0"+d.toLowerCase():"",g="$"===l?i[1]:/[%p]/.test(d)?"%":"",p=Je[d],_=!d||/[defgprs%]/.test(d);function b(e){var i,l,b,m=h,v=g;if("c"===d)v=p(e)+v,e="";else{var y=((e=+e)<0||1/e<0)&&(e*=-1,!0);if(e=p(e,f),y)for(i=-1,l=e.length,y=!1;++i<l;)if(48<(b=e.charCodeAt(i))&&b<58||"x"===d&&96<b&&b<103||"X"===d&&64<b&&b<71){y=!0;break}if(m=(y?"("===o?o:"-":"-"===o||"("===o?"":o)+m,v=v+("s"===d?ot[8+qe/3]:"")+(y&&"("===o?")":""),_)for(i=-1,l=e.length;++i<l;)if(48>(b=e.charCodeAt(i))||b>57){v=(46===b?a+e.slice(i+1):e.slice(i))+v,e=e.slice(0,i);break}}u&&!c&&(e=r(e,1/0));var w=m.length+e.length+v.length,x=w<s?new Array(s-w+1).join(t):"";switch(u&&c&&(e=r(x+e,x.length?s-v.length:1/0),x=""),n){case"<":return m+e+v+x;case"=":return m+x+e+v;case"^":return x.slice(0,w=x.length>>1)+m+e+v+x.slice(w)}return x+m+e+v}return f=null==f?d?6:12:/[gprs]/.test(d)?Math.max(1,Math.min(21,f)):Math.max(0,Math.min(20,f)),b.toString=function(){return e+""},b}return{format:o,formatPrefix:function(e,t){var n=o(((e=tt(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Qe(t)/3))),i=Math.pow(10,-r),a=ot[8+r/3];return function(e){return n(i*e)+a}}}}rt=ct({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),it=rt.format,at=rt.formatPrefix;var st={value:function(){}};function ut(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r)throw new Error("illegal type: "+e);r[e]=[]}return new ft(r)}function ft(e){this._=e}function dt(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function ht(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=st,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}ft.prototype=ut.prototype={constructor:ft,on:function(e,t){var n,r,i=this._,a=(r=i,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),o=-1,l=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<l;)if(n=(e=a[o]).type)i[n]=ht(i[n],e.name,t);else if(null==t)for(n in i)i[n]=ht(i[n],e.name,null);return this}for(;++o<l;)if((n=(e=a[o]).type)&&(n=dt(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ft(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};const gt=ut;function pt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var _t,bt,mt=(1===(_t=pt).length&&(bt=_t,_t=function(e,t){return pt(bt(e),t)}),{left:function(e,t,n,r){for(null==n&&(n=0),null==r&&(r=e.length);n<r;){var i=n+r>>>1;_t(e[i],t)<0?n=i+1:r=i}return n},right:function(e,t,n,r){for(null==n&&(n=0),null==r&&(r=e.length);n<r;){var i=n+r>>>1;_t(e[i],t)>0?r=i:n=i+1}return n}});const vt=mt.right;var yt=Array.prototype;yt.slice,yt.map;var wt=Math.sqrt(50),xt=Math.sqrt(10),kt=Math.sqrt(2);function St(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=wt?i*=10:a>=xt?i*=5:a>=kt&&(i*=2),t<e?-i:i}function Mt(e,t){var n,r,i=-1,a=e.length;if(null==t){for(;++i<a;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<a;)if(null!=(r=t(e[i],i,e))&&r>=r){n=r;break}for(;++i<a;)null!=(r=t(e[i],i,e))&&r>n&&(n=r)}return n}function At(e,t){var n,r=0,i=e.length,a=-1;if(null==t)for(;++a<i;)(n=+e[a])&&(r+=n);else for(;++a<i;)(n=+t(e[a],a,e))&&(r+=n);return r}var Tt="$";function Et(){}function Ct(e,t){var n=new Et;if(e instanceof Et)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var r,i=-1,a=e.length;if(null==t)for(;++i<a;)n.set(i,e[i]);else for(;++i<a;)n.set(t(r=e[i],i,e),r)}else if(e)for(var o in e)n.set(o,e[o]);return n}function Vt(){}Et.prototype=Ct.prototype={constructor:Et,has:function(e){return Tt+e in this},get:function(e){return this[Tt+e]},set:function(e,t){return this[Tt+e]=t,this},remove:function(e){var t=Tt+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===Tt&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===Tt&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===Tt&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===Tt&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===Tt&&++e;return e},empty:function(){for(var e in this)if(e[0]===Tt)return!1;return!0},each:function(e){for(var t in this)t[0]===Tt&&e(this[t],t.slice(1),this)}};var Nt=Ct.prototype;Vt.prototype=function(e,t){var n=new Vt;if(e instanceof Vt)e.each((function(e){n.add(e)}));else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}.prototype={constructor:Vt,has:Nt.has,add:function(e){return this[Tt+(e+="")]=e,this},remove:Nt.remove,clear:Nt.clear,values:Nt.keys,size:Nt.size,empty:Nt.empty,each:Nt.each};var zt=Array.prototype,Dt=zt.map,Pt=zt.slice;function Lt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ot(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function It(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Rt(){}var Bt=.7,Ft=1/Bt,Yt="\\s*([+-]?\\d+)\\s*",jt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",$t="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ht=/^#([0-9a-f]{3,8})$/,Ut=new RegExp("^rgb\\("+[Yt,Yt,Yt]+"\\)$"),Wt=new RegExp("^rgb\\("+[$t,$t,$t]+"\\)$"),qt=new RegExp("^rgba\\("+[Yt,Yt,Yt,jt]+"\\)$"),Gt=new RegExp("^rgba\\("+[$t,$t,$t,jt]+"\\)$"),Xt=new RegExp("^hsl\\("+[jt,$t,$t]+"\\)$"),Kt=new RegExp("^hsla\\("+[jt,$t,$t,jt]+"\\)$"),Qt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Zt(){return this.rgb().formatHex()}function Jt(){return this.rgb().formatRgb()}function en(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ht.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?tn(t):3===n?new on(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?nn(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?nn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Ut.exec(e))?new on(t[1],t[2],t[3],1):(t=Wt.exec(e))?new on(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=qt.exec(e))?nn(t[1],t[2],t[3],t[4]):(t=Gt.exec(e))?nn(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Xt.exec(e))?un(t[1],t[2]/100,t[3]/100,1):(t=Kt.exec(e))?un(t[1],t[2]/100,t[3]/100,t[4]):Qt.hasOwnProperty(e)?tn(Qt[e]):"transparent"===e?new on(NaN,NaN,NaN,0):null}function tn(e){return new on(e>>16&255,e>>8&255,255&e,1)}function nn(e,t,n,r){return r<=0&&(e=t=n=NaN),new on(e,t,n,r)}function rn(e){return e instanceof Rt||(e=en(e)),e?new on((e=e.rgb()).r,e.g,e.b,e.opacity):new on}function an(e,t,n,r){return 1===arguments.length?rn(e):new on(e,t,n,null==r?1:r)}function on(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function ln(){return"#"+sn(this.r)+sn(this.g)+sn(this.b)}function cn(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function sn(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function un(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new dn(e,t,n,r)}function fn(e){if(e instanceof dn)return new dn(e.h,e.s,e.l,e.opacity);if(e instanceof Rt||(e=en(e)),!e)return new dn;if(e instanceof dn)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,c=(a+i)/2;return l?(o=t===a?(n-r)/l+6*(n<r):n===a?(r-t)/l+2:(t-n)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new dn(o,l,c,e.opacity)}function dn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function hn(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function gn(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}function pn(e){return function(){return e}}function _n(e,t){return function(n){return e+n*t}}function bn(e,t){var n=t-e;return n?_n(e,n):pn(isNaN(e)?t:e)}Ot(Rt,en,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Zt,formatHex:Zt,formatHsl:function(){return fn(this).formatHsl()},formatRgb:Jt,toString:Jt}),Ot(on,an,It(Rt,{brighter:function(e){return e=null==e?Ft:Math.pow(Ft,e),new on(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?Bt:Math.pow(Bt,e),new on(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ln,formatHex:ln,formatRgb:cn,toString:cn})),Ot(dn,(function(e,t,n,r){return 1===arguments.length?fn(e):new dn(e,t,n,null==r?1:r)}),It(Rt,{brighter:function(e){return e=null==e?Ft:Math.pow(Ft,e),new dn(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?Bt:Math.pow(Bt,e),new dn(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new on(hn(e>=240?e-240:e+120,i,r),hn(e,i,r),hn(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const mn=function e(t){var n=function(e){return 1==(e=+e)?bn:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):pn(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=an(e)).r,(t=an(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=bn(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function vn(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),l=new Array(i);for(n=0;n<i;++n)r=an(t[n]),a[n]=r.r||0,o[n]=r.g||0,l[n]=r.b||0;return a=e(a),o=e(o),l=e(l),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=l(e),r+""}}}function yn(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=Tn(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}function wn(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function xn(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=Tn(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}vn((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,l=r<t-1?e[r+2]:2*a-i;return gn((n-r/t)*t,o,i,a,l)}})),vn((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],l=e[(r+2)%t];return gn((n-r/t)*t,i,a,o,l)}}));var kn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sn=new RegExp(kn.source,"g");function Mn(e,t){var n,r,i,a=kn.lastIndex=Sn.lastIndex=0,o=-1,l=[],c=[];for(e+="",t+="";(n=kn.exec(e))&&(r=Sn.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,c.push({i:o,x:Lt(n,r)})),a=Sn.lastIndex;return a<t.length&&(i=t.slice(a),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,r=0;r<t;++r)l[(n=c[r]).i]=n.x(e);return l.join("")})}function An(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function Tn(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?pn(t):("number"===i?Lt:"string"===i?(n=en(t))?(t=n,mn):Mn:t instanceof en?mn:t instanceof Date?wn:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?yn:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?xn:Lt:An))(e,t)}function En(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Cn(e){return+e}var Vn=[0,1];function Nn(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=t,function(){return n});var n}function zn(e,t,n,r){var i=e[0],a=e[1],o=t[0],l=t[1];return a<i?(i=n(a,i),o=r(l,o)):(i=n(i,a),o=r(o,l)),function(e){return o(i(e))}}function Dn(e,t,n,r){var i=Math.min(e.length,t.length)-1,a=new Array(i),o=new Array(i),l=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<i;)a[l]=n(e[l],e[l+1]),o[l]=r(t[l],t[l+1]);return function(t){var n=vt(e,t,1,i)-1;return o[n](a[n](t))}}function Pn(){var e=function(e,t){var n,r,i,a=Vn,o=Vn,l=Tn,c=!1;function s(){return n=Math.min(a.length,o.length)>2?Dn:zn,r=i=null,u}function u(t){return(r||(r=n(a,o,c?function(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:r(e)}}}(e):e,l)))(+t)}return u.invert=function(e){return(i||(i=n(o,a,Nn,c?function(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=0?t:e>=1?n:r(e)}}}(t):t)))(+e)},u.domain=function(e){return arguments.length?(a=Dt.call(e,Cn),s()):a.slice()},u.range=function(e){return arguments.length?(o=Pt.call(e),s()):o.slice()},u.rangeRound=function(e){return o=Pt.call(e),l=En,s()},u.clamp=function(e){return arguments.length?(c=!!e,s()):c},u.interpolate=function(e){return arguments.length?(l=e,s()):l},s()}(Nn,Lt);return e.copy=function(){return t=e,Pn().domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp());var t},function(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){var r=St(e,t,n);return function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}(Math.ceil(e/r)*r,Math.floor(t/r)*r+r/2,r)}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){return function(e,t,n){var r,i=e[0],a=e[e.length-1],o=St(i,a,null==t?10:t);switch((n=tt(null==n?",f":n)).type){case"s":var l=Math.max(Math.abs(i),Math.abs(a));return null!=n.precision||isNaN(r=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Qe(t)/3)))-Qe(Math.abs(e)))}(o,l))||(n.precision=r),at(n,l);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Qe(t)-Qe(e))+1}(o,Math.max(Math.abs(i),Math.abs(a))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=function(e){return Math.max(0,-Qe(Math.abs(e)))}(o))||(n.precision=r-2*("%"===n.type))}return it(n)}(t(),e,n)},e.nice=function(n){var r=t(),i=r.length-1,a=null==n?10:n,o=r[0],l=r[i],c=St(o,l,a);return c&&(c=St(Math.floor(o/c)*c,Math.ceil(l/c)*c,a),r[0]=Math.floor(o/c)*c,r[i]=Math.ceil(l/c)*c,t(r)),e},e}(e)}function Ln(e){return e.match(/.{6}/g).map((function(e){return"#"+e}))}Ln("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Ln("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Ln("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),Ln("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5");var On=Math.PI/180,In=180/Math.PI,Rn=-.14861,Bn=1.78277,Fn=-.29227,Yn=-.90649,jn=1.97294,$n=jn*Yn,Hn=jn*Bn,Un=Bn*Fn-Yn*Rn;function Wn(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof qn)return new qn(e.h,e.s,e.l,e.opacity);e instanceof on||(e=rn(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Un*r+$n*t-Hn*n)/(Un+$n-Hn),a=r-i,o=(jn*(n-i)-Fn*a)/Yn,l=Math.sqrt(o*o+a*a)/(jn*i*(1-i)),c=l?Math.atan2(o,a)*In-120:NaN;return new qn(c<0?c+360:c,l,i,e.opacity)}(e):new qn(e,t,n,null==r?1:r)}function qn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Gn(e){return function t(n){function r(t,r){var i=e((t=Wn(t)).h,(r=Wn(r)).h),a=bn(t.s,r.s),o=bn(t.l,r.l),l=bn(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=a(e),t.l=o(Math.pow(e,n)),t.opacity=l(e),t+""}}return n=+n,r.gamma=t,r}(1)}Ot(qn,Wn,It(Rt,{brighter:function(e){return e=null==e?Ft:Math.pow(Ft,e),new qn(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?Bt:Math.pow(Bt,e),new qn(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*On,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new on(255*(t+n*(Rn*r+Bn*i)),255*(t+n*(Fn*r+Yn*i)),255*(t+n*(jn*r)),this.opacity)}})),Gn((function(e,t){var n=t-e;return n?_n(e,n>180||n<-180?n-360*Math.round(n/360):n):pn(isNaN(e)?t:e)}));var Xn=Gn(bn);function Kn(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}Xn(Wn(300,.5,0),Wn(-240,.5,1)),Xn(Wn(-100,.75,.35),Wn(80,1.5,.8)),Xn(Wn(260,.75,.35),Wn(80,1.5,.8)),Wn(),Kn(Ln("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Kn(Ln("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Kn(Ln("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Kn(Ln("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));var Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zn=function(e){return e},Jn=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t[n]=e[r-n-1];return t},er=function(e,t){e.each((function(){for(var e,n=function(e){return"string"==typeof e?new Xe([[document.querySelector(e)]],[document.documentElement]):new Xe([[e]],Ge)}(this),r=n.text().split(/\s+/).reverse(),i=[],a=(n.attr("y"),parseFloat(n.attr("dy"))||0),o=n.text(null).append("tspan").attr("x",0).attr("dy",a+"em");e=r.pop();)i.push(e),o.text(i.join(" ")),o.node().getComputedTextLength()>t&&i.length>1&&(i.pop(),o.text(i.join(" ")),i=[e],o=n.append("tspan").attr("x",0).attr("dy",1.2+a+"em").text(e))}))},tr={d3_drawShapes:function(e,t,n,r,i,a){"rect"===e?t.attr("height",n).attr("width",r):"circle"===e?t.attr("r",i):"line"===e?t.attr("x1",0).attr("x2",r).attr("y1",0).attr("y2",0):"path"===e&&t.attr("d",a)},d3_addText:function(e,t,n,r,i){t.append("text").attr("class",r+"label");var a=e.selectAll("g."+r+"cell text."+r+"label").data(n).text(Zn);return i&&e.selectAll("g."+r+"cell text."+r+"label").call(er,i),a},d3_calcType:function(e,t,n,r,i,a){var o=e.invertExtent?function(e,t,n){var r=e.range().map((function(r){var i=e.invertExtent(r);return t(i[0])+" "+n+" "+t(i[1])}));return{data:e.range(),labels:r,feature:Zn}}(e,i,a):e.ticks?function(e,t,n){var r=[];if(t.length>1)r=t;else for(var i=e.domain(),a=(i[i.length-1]-i[0])/(t-1),o=0;o<t;o++)r.push(i[0]+o*a);var l=r.map(n);return{data:r,labels:l,feature:function(t){return e(t)}}}(e,n,i):function(e){return{data:e.domain(),labels:e.domain(),feature:function(t){return e(t)}}}(e),l=e.range&&e.range()||e.domain();return o.labels=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=arguments[2],r=arguments[3],i=arguments[4];if("object"===(void 0===t?"undefined":Qn(t))){if(0===t.length)return e;for(var a=t.length;a<e.length;a++)t.push(e[a]);return t}if("function"==typeof t){for(var o=[],l=e.length,c=0;c<l;c++)o.push(t({i:c,genLength:l,generatedLabels:e,domain:n,range:r,labelDelimiter:i}));return o}return e}(o.labels,r,e.domain(),l,a),t&&(o.labels=Jn(o.labels),o.data=Jn(o.data)),o},d3_filterCells:function(e,t){var n=e.data.map((function(t,n){return{data:t,label:e.labels[n]}})).filter(t),r=n.map((function(e){return e.data})),i=n.map((function(e){return e.label}));return e.data=e.data.filter((function(e){return-1!==r.indexOf(e)})),e.labels=e.labels.filter((function(e){return-1!==i.indexOf(e)})),e},d3_placement:function(e,t,n,r,i,a){t.attr("transform",n),r.attr("transform",i),"horizontal"===e&&r.style("text-anchor",a)},d3_addEvents:function(e,t){e.on("mouseover.legend",(function(e){!function(e,t,n){e.call("cellover",n,t)}(t,e,this)})).on("mouseout.legend",(function(e){!function(e,t,n){e.call("cellout",n,t)}(t,e,this)})).on("click.legend",(function(e){!function(e,t,n){e.call("cellclick",n,t)}(t,e,this)}))},d3_title:function(e,t,n,r){if(""!==t){e.selectAll("text."+n+"legendTitle").data([t]).enter().append("text").attr("class",n+"legendTitle"),e.selectAll("text."+n+"legendTitle").text(t),r&&e.selectAll("text."+n+"legendTitle").call(er,r);var i=e.select("."+n+"legendCells"),a=e.select("."+n+"legendTitle").nodes().map((function(e){return e.getBBox().height}))[0],o=-i.nodes().map((function(e){return e.getBBox().x}))[0];i.attr("transform","translate("+o+","+a+")")}},d3_defaultLocale:{format:it,formatPrefix:at},d3_defaultFormatSpecifier:".01f",d3_defaultDelimiter:"to"};function nr(){var e=Pn(),t="rect",n=15,r=15,i=10,a=2,o=[5],l=void 0,c=[],s="",u=!1,f="",d=tr.d3_defaultLocale,h=tr.d3_defaultFormatSpecifier,g=10,p="middle",_=tr.d3_defaultDelimiter,b=void 0,m="vertical",v=!1,y=void 0,w=void 0,x=gt("cellover","cellout","cellclick");function k(k){var S=tr.d3_calcType(e,v,o,c,d.format(h),_);k.selectAll("g").data([e]).enter().append("g").attr("class",s+"legendCells"),l&&tr.d3_filterCells(S,l);var M=k.select("."+s+"legendCells").selectAll("."+s+"cell").data(S.data),A=M.enter().append("g").attr("class",s+"cell");A.append(t).attr("class",s+"swatch");var T=k.selectAll("g."+s+"cell "+t+"."+s+"swatch").data(S.data);tr.d3_addEvents(A,x),M.exit().transition().style("opacity",0).remove(),T.exit().transition().style("opacity",0).remove(),T=T.merge(T),tr.d3_drawShapes(t,T,r,n,i,y);var E=tr.d3_addText(k,A,S.labels,s,b);M=A.merge(M);var C=E.nodes().map((function(e){return e.getBBox()})),V=T.nodes().map((function(e){return e.getBBox()}));u?T.attr("class",(function(e){return s+"swatch "+S.feature(e)})):"line"==t?T.style("stroke",S.feature):T.style("fill",S.feature);var N,z=void 0,D=void 0,P="start"==p?0:"middle"==p?.5:1;"vertical"===m?(N=C.map((function(e,t){return Math.max(e.height,V[t].height)})),z=function(e,t){return"translate(0, "+(At(N.slice(0,t))+t*a)+")"},D=function(e,t){return"translate( "+(V[t].width+V[t].x+g)+", "+(V[t].y+V[t].height/2+5)+")"}):"horizontal"===m&&(z=function(e,t){return"translate("+t*(V[t].width+a)+",0)"},D=function(e,t){return"translate("+(V[t].width*P+V[t].x)+",\n          "+(V[t].height+V[t].y+g+8)+")"}),tr.d3_placement(m,M,z,E,D,p),tr.d3_title(k,f,s,w),M.transition().style("opacity",1)}return k.scale=function(t){return arguments.length?(e=t,k):e},k.cells=function(e){return arguments.length?((e.length>1||e>=2)&&(o=e),k):o},k.cellFilter=function(e){return arguments.length?(l=e,k):l},k.shape=function(e,n){return arguments.length?(("rect"==e||"circle"==e||"line"==e||"path"==e&&"string"==typeof n)&&(t=e,y=n),k):t},k.shapeWidth=function(e){return arguments.length?(n=+e,k):n},k.shapeHeight=function(e){return arguments.length?(r=+e,k):r},k.shapeRadius=function(e){return arguments.length?(i=+e,k):i},k.shapePadding=function(e){return arguments.length?(a=+e,k):a},k.labels=function(e){return arguments.length?(c=e,k):c},k.labelAlign=function(e){return arguments.length?("start"!=e&&"end"!=e&&"middle"!=e||(p=e),k):p},k.locale=function(e){return arguments.length?(d=ct(e),k):d},k.labelFormat=function(e){return arguments.length?(h=tt(e),k):k.locale().format(h)},k.labelOffset=function(e){return arguments.length?(g=+e,k):g},k.labelDelimiter=function(e){return arguments.length?(_=e,k):_},k.labelWrap=function(e){return arguments.length?(b=e,k):b},k.useClass=function(e){return arguments.length?(!0!==e&&!1!==e||(u=e),k):u},k.orient=function(e){return arguments.length?("horizontal"!=(e=e.toLowerCase())&&"vertical"!=e||(m=e),k):m},k.ascending=function(e){return arguments.length?(v=!!e,k):v},k.classPrefix=function(e){return arguments.length?(s=e,k):s},k.title=function(e){return arguments.length?(f=e,k):f},k.titleWidth=function(e){return arguments.length?(w=e,k):w},k.textWrap=function(e){return arguments.length?(textWrap=e,k):textWrap},k.on=function(){var e=x.on.apply(x,arguments);return e===x?k:e},k}var rr=n(3780),ir=Object.defineProperty,ar=(e,t)=>{for(var n in t)ir(e,n,{get:t[n],enumerable:!0})};Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var or="none",lr="ordinal",cr="time",sr="linear",ur=e=>{let t="crossValues",n=null,r=null,i=()=>{let i=r=>{let i=n?e[t].filter((e=>n==e.name)):e[t];return!("crossValues"==t&&i.length>1)&&i.some((e=>r.includes(e.type)))};return 0===e[t].length?or:r!=cr&&i(["datetime","date"])?cr:r!=sr&&i(["integer","float"])||r==lr?sr:lr};return i.settingName=(...e)=>e.length?(t=e[0],i):t,i.settingValue=(...e)=>e.length?(n=e[0],i):n,i.excludeType=(...e)=>e.length?(r=e[0],i):r,i},fr={};ar(fr,{domain:()=>_r,labelFunction:()=>br,scale:()=>pr});var dr=e=>{let t=e=>(t,n)=>void 0===t?n:void 0===n?t:e(t,n);return e.reduce(((e,n)=>[t(Math.min)(e[0],n[0]),t(Math.max)(e[1],n[1])]),[void 0,void 0])},hr=e=>Array.isArray(e)?e.flat(1/0):[e],gr=e=>{let t=t=>e(t);return(0,r.rebindAll)(t,e),t.bandwidth=(...n)=>n.length?(e.bandwidth(...n),t):Math.max(e.bandwidth(),1),t},pr=()=>(e=>{let t=t=>e(t);return(0,r.rebindAll)(t,e),t.ticks=function(){return[]},t})(gr(L.scaleBand())),_r=()=>{let e=["crossValue"],t="horizontal",n=t=>{let n=hr(t);return r([...new Set(n.map((t=>t[e[0]])))])},r=e=>"vertical"==t?e.reverse():e;return n.valueName=(...t)=>t.length?(e=[t[0]],n):e[0],n.valueNames=(...t)=>t.length?(e=t[0],n):e,n.orient=(...e)=>e.length?(t=e[0],n):t,n},br=e=>t=>t[e].join("|"),mr={};ar(mr,{component:()=>Er,domain:()=>Mr,labelFunction:()=>Ar,scale:()=>Sr,tickFormatFunction:()=>Tr});var vr=()=>{let e=[0,0],t="percent",n=n=>{switch(t){case"domain":n[0]-=e[0],n[1]+=e[1];break;case"percent":{let t=n[1]-n[0];n[0]-=e[0]*t,n[1]+=e[1]*t;break}default:throw new Error("Unknown padUnit: "+t)}return n};return n.pad=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],n):e},n.padUnit=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n},yr=function(e){if(Array.isArray(e)){let t=Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n];return t}return Array.from(e)},wr=e=>Math.abs(e)>=1e7?v.E9(".3s")(e):Number.isInteger(e)?v.E9(",.0f")(e):v.E9(",.2f")(e);function xr(e){return e.getRootNode().host}function kr(e){return e.closest("#container.chart")}var Sr=()=>L.scaleLinear(),Mr=()=>{let e=function(){let e=[function(e){return e}],t=null,n=[],r=vr(),i=function(i){let a,o=new Array(i.length),l=!0,c=!1,s=e[Symbol.iterator]();try{for(let e;!(l=(e=s.next()).done);l=!0){let t=e.value;for(let e=0;e<i.length;e++){let n=t(i[e],e);Array.isArray(n)?o.push.apply(o,yr(n)):o.push(n)}}}catch(e){c=!0,a=e}finally{try{!l&&s.return&&s.return()}finally{if(c)throw a}}let u=[B.c(o),F.c(o)];if(u[0]=null==u[0]?B.c(n):B.c([u[0]].concat(yr(n))),u[1]=null==u[1]?F.c(n):F.c([u[1]].concat(yr(n))),null!=t){let e=Math.max(Math.abs(u[1]-t),Math.abs(u[0]-t));u[0]=t-e,u[1]=t+e}return r(u)};return i.accessors=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.pad=function(){return arguments.length?(r.pad(arguments.length<=0?void 0:arguments[0]),i):r.pad},i.padUnit=function(){return arguments.length?(r.padUnit(arguments.length<=0?void 0:arguments[0]),i):r.padUnit},i.include=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},i.symmetricalAbout=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.paddingStrategy=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i}().pad([0,.1]).padUnit("percent"),t=["crossValue"],n=n=>(e.accessors(t.map((e=>t=>parseFloat(t[e])))),i(hr(n)));r.rebindAll(n,e);let i=n=>{if("domain"==e.padUnit()){let r=(e=>{let n=t.map((t=>e.map((e=>e[t])).sort(((e,t)=>e-t)).filter(((e,t,n)=>0===t||e!==n[t-1])).reduce(((e,t,n,r)=>0===n||e<=t-r[n-1]?e:Math.abs(t-r[n-1])))));return Math.min(...n)})(n);return e.pad([r/2,r/2])(n)}return e(n)};return n.valueName=(...e)=>e.length?(t=[e[0]],n):t[0],n.valueNames=(...e)=>e.length?(t=e[0],n):t,n},Ar=e=>t=>t[e][0],Tr=wr,Er=e=>{let t=null,n="horizontal",i=null,a=(e,t,r)=>{let i=((e,t)=>{try{return kr(e.node()).querySelector(".cartesian-chart").querySelector(`.${t}-axis`)}catch{return null}})(e,t);i&&((e,t)=>{let r=e.getBoundingClientRect();t.each(((e,t,i)=>{let a=O.select(i[t]).node().getBoundingClientRect();("vertical"==n&&r.width<a.width||"horizontal"==n&&r.height<a.height)&&(e=>{O.select(e).select("text").node().style.fontSize="80%"})(i[t])}))})(i,e)},o=()=>({bottom:r.axisBottom,left:r.axisLeft,top:r.axisTop,right:r.axisRight,decorate:a});return o.domain=(...e)=>e.length?(t=e[0],o):t,o.orient=(...e)=>e.length?(n=e[0],o):n,o.settingName=(...e)=>e.length?(i=e[0],o):i,o},Cr={};ar(Cr,{domain:()=>Nr,labelFunction:()=>zr,scale:()=>Vr});var Vr=()=>L.scaleTime(),Nr=()=>{let e=r.extentTime(),t=["crossValue"],n=n=>(e.accessors(t.map((e=>t=>new Date(t[e])))),i(hr(n)));r.rebindAll(n,e,r.exclude("include","paddingStrategy"));let i=n=>{let r=Math.abs((e=>{let n=t.map((t=>e.map((e=>new Date(e[t]).getTime())).sort(((e,t)=>e-t)).filter(((e,t,n)=>0===t||e!==n[t-1])).reduce(((e,t,n,r)=>0===n||Math.abs(e)<=Math.abs(t-r[n-1])?Math.abs(e):Math.abs(t-r[n-1])))));return Math.min(...n)})(n));return e.padUnit("domain").pad([r/2,r/2])(n)};return n.valueName=(...e)=>e.length?(t=[e[0]],n):t[0],n.valueNames=(...e)=>e.length?(t=e[0],n):t,n},zr=e=>t=>new Date(t[e][0]),Dr={};ar(Dr,{component:()=>jr,domain:()=>Fr,labelFunction:()=>Yr,scale:()=>Br});var Pr=(e,t,n)=>{let i=6,a=6,o=((...e)=>{let t={},n=e=>{for(let n of Object.keys(t))e[n](t[n]);return e};for(let r of e)n[r]=(...e)=>e.length?(t[r]=e[0],n):t[r];return n})("tickFormat","ticks","tickArguments","tickValues","tickPadding"),l=()=>{},c=null,s=(0,r.dataJoin)("g","group"),u=(0,r.dataJoin)("path","domain"),f=(e,t)=>d()?`translate(${t}, ${e})`:`translate(${e}, ${t})`,d=()=>"left"===e||"right"===e,h=r=>{c?r.each(((r,h,p)=>{let _=p[h],b=(0,O.select)(_),m="bottom"===e||"right"===e?1:-1,v=n.range(),y=(e=>d()?e.map((e=>[e[1],e[0]])):e)([[v[0],m*i],[v[0],0],[v[1],0],[v[1],m*i]]);u(b,[r]).attr("d",(0,I.line)()(y)).attr("stroke","#000").attr("fill","none");let w=s(b,c),x=e=>Array.isArray(a)?a[e]:a,k=e=>{let t=0;for(let n=0;n<e;n++)t+=x(n);return t};w.attr("transform",((e,t)=>f(0,m*k(t)))).each(((e,r,i)=>{let a=(0,O.select)(i[r]),c=g(n,e);o(t(c)).decorate(((e,t)=>l(e,t,r))).tickSizeInner(x(r)).tickOffset((e=>c.step(e)/2))(a),a.select("path.domain").attr("visibility","hidden")})),w.exit().attr("transform",((e,t)=>f(0,m*k(t))))})):o(t(n).decorate(l))(r)},g=(e,t)=>{function n(t){let n=t.domain;return n.reduce(((t,n)=>t+e(n)),0)/n.length}return n.ticks=()=>t,n.tickFormat=()=>e=>e.text,n.copy=()=>g(e,t),n.step=t=>t.domain.length*e.step(),(0,r.rebindAll)(n,e,(0,r.exclude)("ticks","step","copy")),n};return h.tickSize=(...e)=>e.length?(a=i=Number(e[0]),h):a,h.tickSizeInner=(...e)=>e.length?(a=Array.isArray(e[0])?e[0]:Number(e[0]),h):a,h.tickSizeOuter=(...e)=>e.length?(i=Number(e[0]),h):i,h.decorate=(...e)=>e.length?(l=e[0],h):l,h.groups=(...e)=>e.length?(c=e[0],h):c,(0,r.rebindAll)(h,o),h},Lr=e=>Pr("top",r.axisOrdinalTop,e),Or=e=>Pr("bottom",r.axisOrdinalBottom,e),Ir=e=>Pr("left",r.axisOrdinalLeft,e),Rr=e=>Pr("right",r.axisOrdinalRight,e),Br=()=>gr(L.scaleBand()).padding(.5),Fr=()=>{let e=["crossValue"],t="horizontal",n=t=>{let n=hr(t);return r([...Array.from(new Set(n.map((t=>t[e[0]]))))])},r=e=>"vertical"==t?e.reverse():e;return n.valueName=(...t)=>t.length?(e=[t[0]],n):e[0],n.valueNames=(...t)=>t.length?(e=t[0],n):e,n.orient=(...e)=>e.length?(t=e[0],n):t,n},Yr=e=>t=>t[e].join("|"),jr=e=>{let t="horizontal",n="crossValues",i=null,a=()=>{let r=e[n].length>1,a=l(i),u=a.map(c),d=r?u.map((e=>e.size)):u[0].size,h=u.reduce(((e,t)=>e+t.size),0),g=e=>n=>{let i=e(n);return r&&i.groups(a).tickSizeInner(d).tickSizeOuter(h),"horizontal"!==t&&i.tickPadding(10),i},p=o(r);return{bottom:g(p.bottom),left:g(p.left),right:g(p.right),top:g(p.top),size:`${h+10}px`,decorate:(e,n,r)=>{let i=u[r].rotation;"horizontal"===t&&f(e,i),s(e,i)}}},o=e=>e?{bottom:Or,left:Ir,top:Lr,right:Rr}:{bottom:r.axisOrdinalBottom,left:r.axisOrdinalLeft,top:r.axisOrdinalTop,right:r.axisOrdinalRight},l=e=>{let t=[];return e.forEach((e=>{(e&&e.split?e.split("|"):[e]).forEach(((n,r)=>{for(;t.length<=r;)t.push([]);let i=t[r];i.length>0&&i[i.length-1].text===n?i[i.length-1].domain.push(e):i.push({text:n,domain:[e]})}))})),t.reverse()},c=n=>{let r=e.size.width,i=Math.max(...n.map((e=>e.text?e.text.length:0)));return"horizontal"===t?n&&16*n.length>r-100?{size:5*i+10,rotation:90}:n&&n.length*(6*i+10)>r-100?{size:3*i+20,rotation:45}:{size:25,rotation:0}:{size:5*i+10,rotation:0}},s=(e,n)=>{let r=n?(e,t)=>e.x+e.width+14>t.x+t.width:(e,t)=>e.x<=t.x+t.width&&t.x<=e.x+e.width&&e.y<=t.y+t.height&&t.y<=e.y+e.height,i="horizontal"==t?u(e):null,a=[];e.each(((e,t,n)=>{let o=O.select(n[t]),l=(e=>{let t=-1!==e.indexOf(",")?",":" ",n=e.substring(e.indexOf("(")+1,e.indexOf(")")).split(t).map((e=>parseInt(e)));for(;n.length<2;)n.push(0);return n})(o.attr("transform")),c=o.node().getBBox(),s={x:c.x+l[0],y:c.y+l[1],width:c.width,height:c.height},u=a.some((e=>r(e,s)))||i&&!((e,t)=>e.x>=t.x&&e.x+e.width<=t.x+t.width&&e.y>=t.y&&e.y+e.height<=t.y+t.height)(s,i);o.attr("visibility",u?"hidden":""),u||a.push(s)}))},u=e=>{let t=kr(e.node());if(null===t)return;let n=t.querySelector(".cartesian-chart"),r=n.querySelector(".x-axis"),i=n.getBoundingClientRect(),a=r.getBoundingClientRect();return{x:i.left-a.left,width:i.width,y:i.top-a.top,height:i.height}},f=(e,t)=>{let n=(e=>e?e<60?`rotate(-${e} 5 5)`:`rotate(-${e} 3 7)`:"translate(0, 8)")(t),r=t?"end":"";e.each(((e,t,i)=>{O.select(i[t]).select("text").attr("transform",n).style("text-anchor",r)}))};return a.orient=(...e)=>e.length?(t=e[0],a):t,a.settingName=(...e)=>e.length?(n=e[0],a):n,a.domain=(...e)=>e.length?(i=e[0],a):i,a},$r={none:fr,ordinal:Dr,time:Cr,linear:mr},Hr=e=>{let t=null,n="horizontal",i="crossValues",a=null,o=["crossValue"],l=null,c=null,s=["include","paddingStrategy","pad"],u={},f=r=>{let f=ur(e).excludeType(t).settingName(i).settingValue(a)(),g=$r[f],p=g.domain().valueNames(o);s.forEach((e=>{u[e]&&p[e]&&p[e](u[e])})),p.orient&&p.orient(n);let _=p(r);null!==l&&(_=l(_)),c&&"number"==typeof _[0]&&(c[0]=_[0]=Math.min(_[0],c[0]),c[1]=_[1]=Math.max(_[1],c[1]));let b=g.component?d(g,_,r):h();return{scale:g.scale(),domain:_,domainFunction:p,labelFunction:g.labelFunction,component:{bottom:b.bottom,left:b.left,top:b.top,right:b.right},size:b.size,decorate:b.decorate,label:e[i].map((e=>e.name)).join(", "),tickFormatFunction:g.tickFormatFunction}},d=(t,r,a)=>t.component(e).orient(n).settingName(i).domain(r)(a),h=()=>({bottom:r.axisBottom,left:r.axisLeft,top:r.axisTop,right:r.axisRight,decorate:()=>{}});return f.memoValue=(...e)=>e.length?(c=e[0],f):c,f.excludeType=(...e)=>e.length?(t=e[0],f):t,f.orient=(...e)=>e.length?(n=e[0],f):n,f.settingName=(...e)=>e.length?(i=e[0],f):i,f.settingValue=(...e)=>e.length?(a=e[0],f):a,f.valueName=(...e)=>e.length?(o=[e[0]],f):o[0],f.valueNames=(...e)=>e.length?(o=e[0],f):o,f.modifyDomain=(...e)=>e.length?(l=e[0],f):l,s.forEach((e=>{f[e]=(...t)=>t.length?(u[e]=t[0],f):u[e]})),f},Ur=(e,t)=>qr(e,t,((e,t)=>e.svgPlotArea(t)),!1),Wr=(e,t)=>qr(e,t,((e,t)=>e.canvasPlotArea(t).svgPlotArea(r.seriesSvgPoint())),!0),qr=(e,t,n,i)=>{let a=null,o=null,l=r.chartCartesian({xScale:e.scale,yScale:t.scale,xAxis:e.component,yAxis:t.component}).xDomain(e.domain).xLabel(e.label).xAxisHeight(e.size).xDecorate(e.decorate).xTickFormat(e.tickFormatFunction).yDomain(t.domain).yLabel(t.label).yAxisWidth(t.size).yDecorate(t.decorate).yOrient("left").yTickFormat(t.tickFormatFunction);e.decorate&&l.xDecorate(e.decorate),t.decorate&&l.yDecorate(t.decorate),l.xPaddingInner&&l.xPaddingInner(1),l.xPaddingOuter&&l.xPaddingOuter(.5),l.yPaddingInner&&l.yPaddingInner(1),l.yPaddingOuter&&l.yPaddingOuter(.5),l.axisSplitter=(...e)=>e.length?(a=e[0],l):a,l.altAxis=(...e)=>e.length?(o=e[0],l):o,l.plotArea=function(...e){return 0==e.length?i?this.canvasPlotArea():this.svgPlotArea():n(this,...e)};let c=l.decorate();return l.decorate(((n,s)=>{let u=n.select("d3fc-svg.plot-area"),f=u.select("svg").node();f.setAttribute("viewBox",`0 0 ${u.node().clientWidth} ${u.node().clientHeight}`),f.setAttribute("preserveAspectRatio","none");for(let e of["x-axis","y-axis"])n.select(`d3fc-svg.${e} svg`).node().setAttribute("preserveAspectRatio","none");if(c(n,s),i){let e=n.select(".svg-plot-area").node(),t=n.select(".canvas-plot-area").node();O.selectAll([e,t]).order()}if(a){if(a.haveSplit()){let c=a.altData(),u=r.dataJoin("d3fc-svg","y2-axis").key((e=>e)),f=r.dataJoin("g","y-series").key((e=>e));n.append("div").attr("class","y-label right-label").style("grid-column",5).style("-ms-grid-column",5).style("grid-row",3).style("-ms-grid-row",3).style("width",o.size||"1em").style("display","flex").style("align-items","center").style("justify-content","center").append("span").attr("class","y-label splitter-label").style("transform","rotate(-90deg)");let d=o.scale.domain(o.domain),h=o.component.right(d);if(h.tickFormat(o.tickFormatFunction),o.decorate&&h.decorate(o.decorate),u(n,["right"]).attr("class",(e=>`y-axis ${e}-axis`)).on("measure",(function(e,t){let{width:n,height:r}=e.detail;"left"===t&&O.select(e.currentTarget).select("svg").attr("viewBox",`${-n} 0 ${n} ${r}`).attr("preserveAspectRatio","none"),d.range([r,0])})).on("draw",(function(e,t){O.select(e.currentTarget).select("svg").call(h)})),i){let r=n=>{let r=l.plotArea();r.context(n.node().getContext("2d")).xScale(e.scale);let i=[t.scale,d];[s,c].forEach(((e,t)=>{r.yScale(i[t]),r(e)}))};n.select("d3fc-canvas.plot-area").on("draw",(function(e,t){r(O.select(e.currentTarget).select("canvas"))}))}else{let r=function(n){let r=l.plotArea();r.xScale(e.scale);let i=[t.scale,d];f(n,[s,c]).each(((e,t,n)=>{r.yScale(i[t]),O.select(n[t]).datum(e).call(r)}))};n.select("d3fc-svg.plot-area").on("draw",(function(e,t){r(O.select(e.currentTarget).select("svg"))}))}}a(n)}})),l};function Gr(e,t,n){let r=e.select(t);return r.size()>0?r:n()}function Xr(e,t,n="right"){if("right"===n||"bottom"===n)return e[n]<t[n];if("left"===n||"top"===n)return e[n]>t[n];throw`Direction being checked for overflow is invalid: ${n}`}function Kr(e,t,n,r=0){let i="x"===e?"width":"height",a=t[e],o=t[e]+t[i],l=n[e],c=n[e]+n[i];return l+r>a&&l-r<o||c+r>a&&c-r<o||l+r<a&&c-r>o}var Qr={types:{float:{filter_operator:"==",aggregate:"sum",format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},string:{filter_operator:"==",aggregate:"count"},integer:{filter_operator:"==",aggregate:"sum",format:{}},boolean:{filter_operator:"==",aggregate:"count"},datetime:{filter_operator:"==",aggregate:"count",format:{dateStyle:"short",timeStyle:"medium"},null_value:-1},date:{filter_operator:"==",aggregate:"count",format:{dateStyle:"short"},null_value:-1}}};function Zr(e){let t={};if(ti().types[e]&&Object.assign(t,ti().types[e]),t.type){let e=Zr(t.type);return Object.assign(e,t),e}return t}function Jr(e){return e&&"object"==typeof e&&!Array.isArray(e)}function ei(e,...t){if(!t.length)return e;let n=t.shift();if(Jr(e)&&Jr(n))for(let t in n)Jr(n[t])?(e[t]||Object.assign(e,{[t]:{}}),ei(e[t],n[t])):Object.assign(e,{[t]:n[t]});return ei(e,...t)}function ti(){return globalThis.__PERSPECTIVE_CONFIG__||(globalThis.__PERSPECTIVE_CONFIG__=ei(Qr,globalThis.__TEMPLATE_CONFIG__||{})),globalThis.__PERSPECTIVE_CONFIG__}function ni(e,t){switch(e){case"date":case"datetime":return t instanceof Date?t:new Date(parseInt(t)).toLocaleString([],Zr(e).format);case"integer":return parseInt(t,10);case"float":return parseFloat(t)}return t}function ri(e,t){return 0===t.crossValues.length||0===e.crossValue.length?[]:((e.crossValue.split?e.crossValue.split("|"):[e.crossValue])||[e.key]).map(((e,n)=>({name:t.crossValues[n].name,value:ni(t.crossValues[n].type,e)})))}function ii(e,t){if(0===t.splitValues.length)return[];let n=[e.mainValue];return e.key?n=e.key.split("|"):e.mainValue?.split&&(n=e.mainValue.split("|")),t.splitValues.map(((e,t)=>({name:e.name,value:ni(e.type,n[t])})))}function ai(e,t){return t.mainValues.length>1?e.mainValues?t.mainValues.map(((t,n)=>({name:t.name,value:ni(t.type,e.mainValues[n])}))):t.mainValues.map((t=>({name:t.name,value:ni(t.type,e.row[t.name])}))):[{name:t.mainValues[0].name,value:ni(t.mainValues[0].type,e.colorValue||e.mainValue-e.baseValue||e.mainValue||e.mainValues)}]}var oi=e=>null==e?"-":e.toLocaleString(void 0,{style:"decimal",minimumFractionDigits:Zr("float").precision,maximumFractionDigits:Zr("float").precision}),li=e=>[e.name,"==",e.value],ci=(e,t,n)=>{let r=ai(t,n).map((e=>e.name)),i=ri(t,n).map(li),a=ii(t,n).map(li),o=n.filter.concat(i).concat(a);e.dispatchEvent(new CustomEvent("perspective-click",{bubbles:!0,composed:!0,detail:{column_names:r,config:{filter:o},row:t.row}}))},si=()=>{let e=!1,t=null,n=null,r=!1,i=i=>{let a=i.node();if(!a||!a.isConnected)return void ui(t);let o=(0,O.select)(kr(a));t=function(e){return Gr(e,"div.tooltip",(()=>e.append("div").attr("class","tooltip").style("z-index",3).style("opacity",0).html('<ul id="tooltip-values"></ul>\n')))}(o);let l=function(e,a){!function(e,t,n){!function(e,t){e.select("#tooltip-values").selectAll("li").data(t).join("li").each((function(e){(0,O.select)(this).text(`${e.name}: `).append("b").text(oi(e.value))}))}(e,ri(t,n).concat(ii(t,n)).concat(ai(t,n)))}(t,a,n);let l=i.nodes(),c=l.indexOf(this);(function(e,t,n,r){let i=e.getBoundingClientRect(),a=t.getBoundingClientRect(),o=a.left+a.width/2-i.left,l=a.top-i.top+e.scrollTop;r&&(l=a.top+a.height/2-i.top+e.scrollTop),n.style("left",`${o}px`).style("top",`${l}px`).style("opacity",.9),r&&([o,l]=function(e,t){let n=e.node().getBoundingClientRect(),r=n.width/2,i=n.left-r-t.left;e.style("left",`${i}px`);let a=n.height/2,o=n.top-a-t.top;return e.style("top",`${o}px`),[i,o]}(n,i)),function(e,t,n,r,i=!1){let a=e.node().getBoundingClientRect();if(Xr(t,a)){let r=a.right-t.right;e.style("left",n-r+"px")}if(Xr(t,a,"bottom")){let n=a.bottom-t.bottom;e.style("top",r-n+"px")}if(i){if(Xr(t,a,"left")){let r=a.left-t.left;e.style("left",n-r+"px")}if(Xr(t,a,"top")){let n=a.top-t.top;e.style("top",r-n+"px")}}}(n,i,o,l,r)})(o.node(),l[c],t,r),(0,O.select)(l[c]).style("opacity","0.7")};e?i.each((function(e){return l.call(this,void 0,e)})):(i.on("mouseover",l).on("mouseout",(function(e,n){ui(t);let r=i.nodes(),a=r.indexOf(this);r&&(0,O.select)(r[a]).style("opacity","1")})),(()=>{let e=null,t=t=>{let n=t.node();t.on("click",((t,r)=>ci(n,r,e)))};return t.settings=(...n)=>n.length?(e=n[0],t):e,t})().settings(n)(i))};return i.alwaysShow=(...t)=>t.length?(e=t[0],i):e,i.centered=(...e)=>e.length?(r=e[0],i):r,i.settings=(...e)=>e.length?(n=e[0],i):n,i};function ui(e){e&&e.style("opacity",0)}function fi(e,t){let n=e.mainValues.length>1?r.seriesSvgGrouped(r.seriesSvgBar()):r.seriesSvgBar();return n=n.decorate((n=>{si().settings(e)(n),n.style("fill",(e=>t(e.key)))})),r.autoBandwidth(di(n)).crossValue((e=>e.crossValue)).mainValue((e=>e.mainValue?e.mainValue:0)).baseValue((e=>e.baseValue))}var di=e=>{let t=t=>e(t);return r.rebindAll(t,e),t.bandwidth=(...n)=>n.length?(e.bandwidth(Math.max(n[0],1)),t):e.bandwidth(),t};function hi(e){return e.split("|").slice(0,-1).join("|")}function gi(e){let t=e.data&&e.data.length>0?e.data[0]:{},n=Object.keys(t).filter((e=>"__ROW_PATH__"!==e));return bi().settings(e).domain(n)()}function pi(e,t){let n=Array.from(new Set(t));return bi().settings(e).domain(n)()}function _i(e){let t=e.data&&e.data.length>0?e.data[0]:{},n=[];return Object.keys(t).forEach((e=>{if("__ROW_PATH__"!==e){let t=hi(e);n.includes(t)||n.push(t)}})),bi().settings(e).domain(n)()}function bi(){let e=null,t=null,n={},r=e=>vi(e,n.colorStyles&&n.colorStyles.opacity),i=()=>{let i=n.colorStyles,a=t||[i.series];if(a||e.length>1){let t=e.length>1?i.scheme:a;return L.scaleOrdinal(t.map(r)).domain(e)}return null};return i.domain=(...t)=>t.length?(e=t[0],i):e,i.defaultColors=(...e)=>e.length?(t=e[0],i):t,i.mapFunction=(...e)=>e.length?(r=e[0],i):r,i.settings=(...e)=>e.length?(n=e[0],i):n,i}function mi(e){return yi(1)(e)}function vi(e,t=.5){return yi(t)(e)}function yi(e){return t=>{let n=a.cp(t);return n.opacity=e,n+""}}var wi={none:br,ordinal:Yr,time:zr,linear:Ar},xi=e=>{let t=ur(e),n="__ROW_PATH__",i=(e,r)=>wi[t()](n)(e,r);return(0,r.rebindAll)(i,t),i.valueName=(...e)=>e.length?(n=e[0],i):n,i};function ki(e,t,{stack:n=!1,excludeEmpty:r=!1}={}){let i=t||e.data;return e.splitValues.length>0?function(e,t,{stack:n=!1,excludeEmpty:r=!1}){let i={};return t.forEach((e=>{let t={},a={};Object.keys(e).filter((e=>"__ROW_PATH__"!==e)).filter((t=>!r||null!=e[t]&&null!=e[t])).forEach((r=>{let i=r.split("|"),o=i[i.length-1],l=e[r]||0,c=`${o}${l>=0?"+ve":"-ve"}`,s=i.slice(0,i.length-1).join("|"),u=a[s]=a[s]||{__ROW_PATH__:e.__ROW_PATH__},f=t[c]||0;u.__KEY__=s,n?(u[o]=f+l,u[`__BASE_VALUE__${o}`]=f,t[c]=u[o]):u[o]=l,u.row=e})),Object.keys(a).forEach((e=>{(i[e]=i[e]||[]).push(a[e])}))})),Object.keys(i).map((e=>{let t=i[e];return t.key=e,t}))}(0,i,{stack:n,excludeEmpty:r}):[i]}function Si(e,t){let n={stack:!0};return ki(e,t,n).map((t=>Mi(e,t,n)))}function Mi(e,t,{stack:n=!1}){let r=function(e,t,{stack:n=!1}){let r=xi(e);return e=>{let i=t=>n&&t[`__BASE_VALUE__${e.name}`]||0,a=t.map(((t,n)=>({crossValue:r(t,n),mainValue:t[e.name]?t[e.name]:null,baseValue:i(t),key:t.__KEY__?`${t.__KEY__}|${e.name}`:e.name,row:t.row||t})));return a.key=a[0].key,a}}(e,t,{stack:n});return e.mainValues.length>1?e.mainValues.map(r):r(e.mainValues[0])}var Ai=10;function Ti(e,t,n){let r=O.select(xr(e).getContainer()).node().getBoundingClientRect(),i=e.getBoundingClientRect(),a={top:i.top+n-Ai,right:i.right+t+Ai,bottom:i.bottom+n+Ai,left:i.left+t-Ai},o={x:t,y:n};return[{edge:"right",dimension:"x"},{edge:"left",dimension:"x"},{edge:"top",dimension:"y"},{edge:"bottom",dimension:"y"}].forEach((e=>{if(Xr(r,a,e.edge)){let t=a[e.edge]-r[e.edge];o[e.dimension]=o[e.dimension]-t}})),o}var Ei="resize.for-dragging";var Ci="horizontal-drag-handle",Vi="vertical-drag-handle",Ni="dragHandles",zi="resize",Di=(e,t)=>{let n,i,a=e||nr(),o=[],l=1,c=t.legend&&t.legend.pageIndex?t.legend.pageIndex:0,s=()=>{},u=function(){let e=!0,t=null,n=n=>{let r=n.node(),i=r.getRootNode().host.closest("perspective-viewer");r.style.cursor="move",t.legend&&(r.style.left=t.legend.left,r.style.top=t.legend.top);let a=b().on("drag",(function(n){let i=Ti(this,n.dx,n.dy);this.style.left=`${this.offsetLeft+i.x}px`,this.style.top=`${this.offsetTop+i.y}px`;let a={left:this.style.left,top:this.style.top};t.legend={...t.legend,...a},e=function(e){let t=e.getBoundingClientRect(),n=O.select(kr(e)).node().getBoundingClientRect();return t.right+Ai+5>=n.right&&t.top-Ai-5<=n.top}(r)?function(e){return O.select(window).on(Ei,null),e.style.left="auto",!0}(r):function(e,t){return!1!==t&&O.select(window).on(Ei,(function(){let t=Ti(e,0,0);e.style.left=`${e.offsetLeft+t.x}px`,e.style.top=`${e.offsetTop+t.y}px`})),!1}(r,e)}));a.on("end",(function(e){O.select(window).on(Ei,null),i?.dispatchEvent(new Event("perspective-config-update"))})),n.call(a)};return n.settings=(...e)=>e.length?(t=e[0],n):t,n}().settings(t),f=e=>{o=a.scale().domain(),i=function(){let e=9,t=3,n=null,r={height:100,width:100},i={height:null,width:null},a=[],o=(e,t)=>a.filter((t=>t.event===e)).forEach((e=>e.execute(t))),l=r=>{if((e=>e.select(`#${Ni}`).size()>0)(r))return;let a={left:e=>o(zi,{horizontal:T(e),vertical:!1}),top:e=>o(zi,{horizontal:!1,vertical:C(e)}),right:e=>o(zi,{horizontal:E(e),vertical:!1}),bottom:e=>o(zi,{horizontal:!1,vertical:V(e)}),topleft:e=>o(zi,{horizontal:T(e),vertical:C(e)}),topright:e=>o(zi,{horizontal:E(e),vertical:C(e)}),bottomright:e=>o(zi,{horizontal:E(e),vertical:V(e)}),bottomleft:e=>o(zi,{horizontal:T(e),vertical:V(e)})},l=r.node();n.legend&&(l.style.height=n.legend.height,l.style.width=n.legend.width);let u=l.getBoundingClientRect(),f=r.append("svg").attr("id",Ni).attr("width",u.width).attr("height",u.height),d=f.append("g"),h=e=>"left"===e||"right"===e,g={left:0,top:e,right:u.width-e,bottom:e},p={left:e,top:0,right:e,bottom:u.height-e},[_,m,v,y]=["left","top","right","bottom"].map((n=>d.append("rect").attr("id",`drag${n}`).attr("class",h(n)?Vi:Ci).attr("y",p[n]).attr("x",g[n]).attr("height",h(n)?u.height-2*e:e).attr("width",h(n)?e:u.width-2*e).attr("fill",h(n)?"lightgreen":"lightblue").attr("fill-opacity",0).style("z-index",t).attr("cursor",h(n)?"ew-resize":"ns-resize").call(b().on("drag",a[n])))),w=e=>`${e[0]}${e[1]}`,x={topleft:"nwse",topright:"nesw",bottomright:"nwse",bottomleft:"nesw"},[k,S,M,A]=[["top","left"],["top","right"],["bottom","right"],["bottom","left"]].map((n=>d.append("rect").attr("id",`drag${w(n)}`).attr("class",`corner-drag-handle ${n[0]} ${n[1]}`).attr("height",e).attr("width",e).attr("fill","red").attr("fill-opacity",0).style("z-index",t).attr("cursor",`${x[w(n)]}-resize`).call(b().on("drag",a[w(n)]))));function T(e){let t=s(Ti(_.node(),e.x,0).x,f,"width",((e,t)=>e-t));return l.style.left=`${l.offsetLeft+t}px`,l.style.width=l.offsetWidth-t+"px",N(),z(v,t,"width","x")}function E(e){let t=-s(Ti(v.node(),e.dx,0).x,f,"width",((e,t)=>e+t));return!c(t,"x",v,e)&&(l.style.width=l.offsetWidth-t+"px",N(),z(v,t,"width","x"))}function C(e){let t=s(Ti(m.node(),0,e.y).y,f,"height",((e,t)=>e-t));return l.style.top=`${l.offsetTop+t}px`,l.style.height=l.offsetHeight-t+"px",N(),z(y,t,"height","y")}function V(e){let t=-s(Ti(y.node(),0,e.dy).y,f,"height",((e,t)=>e+t));return!c(t,"y",y,e)&&(l.style.height=l.offsetHeight-t+"px",N(),z(y,t,"height","y"))}function N(){let e={top:l.style.top,left:l.style.left,height:l.style.height,width:l.style.width};n.legend={...n.legend,...e}}function z(e,t,n,r){return((e,t,n)=>{e.attr(t,e.node().getBoundingClientRect()[t]-n)})(f,n,t),((e,t,n)=>{e.attr(t,Number(e.attr(t))-n)})(e,r,t),((e,t,n,r)=>{e.selectAll(`.${r}`).each(((e,r,i)=>{let a=i[r];O.select(a).attr(n,a.getBoundingClientRect()[n]-t)}))})(f,t,n,"height"===n?Vi:Ci),D(f),0!=t}function D(t){k.attr("y",0,"x",0),S.attr("y",0).attr("x",t.attr("width")-e),M.attr("y",t.attr("height")-e).attr("x",t.attr("width")-e),A.attr("y",t.attr("height")-e).attr("x",0)}function P(e,t,n){i[e]&&i[e]<u[e]&&(l.style[e]=`${i[e]}px`,z(n,u[e]-i[e],e,t))}P("height","y",y),P("width","x",v),D(f)};function c(e,t,n,r){return i=t,a=n,e<0&&r[i]<Number(a.attr(i))||((e,t,n,r)=>e>0&&r[t]>Number(n.attr(t)))(e,t,n,r);var i,a}function s(e,t,n,a){let o=a(Number(t.attr(n)),e);return o<r[n]?a(e,r[n]-o):i[n]&&o>i[n]?a(e,i[n]-o):e}return l.on=(e,t)=>(a.push({event:e,execute:t}),l),l.zIndex=e=>(t=e,l),l.settings=(...e)=>e.length?(n=e[0],l):n,l.minWidth=e=>(r.width=e,i.width&&(i.width=Math.max(r.width,i.width)),l),l.minHeight=e=>(r.height=e,i.height&&(i.height=Math.max(r.height,i.height)),l),l.handleWidth=t=>(e=t,l),l.maxWidth=e=>(i.width=e,r.width=Math.min(r.width,i.width),l),l.maxHeight=e=>(i.height=e,r.height=Math.min(r.height,i.height),l),l}().settings(t).maxHeight(16*o.length+20).on("resize",(()=>d(e))),i(e),u(e),d(e)},d=e=>{m(e),h(e),g(e),function(e){let t=e.select("g.legendCells"),n=e.node().getBoundingClientRect();if(!Xr(n,t.node().getBoundingClientRect()))return;let r=e.select(".legend");t.selectAll(".label").text(((e,t,i)=>{let a=i[t];if(Xr(n,a.getBoundingClientRect())){let t=function(e,t,n){let r=e.getBoundingClientRect(),i=t.node().createSVGPoint();return i.x=n.right-r.left-3,i.y=0,e.getCharNumAtPosition(i)}(a,r,n);return`${e.substring(0,t-3)}...`}return e}))}(e)},h=e=>{let t=y(e);t.style("display",l<=1?"none":"block"),t.select("#page-text").text(`${c+1}/${l}`),t.select("#up-arrow").attr("class",0===c?"disabled":"").on("click",(()=>{c>0&&(p(c-1),d(e))})),t.select("#down-arrow").attr("class",c>=l-1?"disabled":"").on("click",(()=>{c<l-1&&(p(c+1),d(e))}))},g=e=>{l>1&&a.cellFilter(_()),e.select("g.legendCells").remove();let t=w(e);t.call(a);let n=e.select("g.legendCells").node().getBBox();t.attr("height",n.height+20),s(e)},p=e=>{c=e,t.legend={...t.legend,pageIndex:c}},_=()=>(e,t)=>t>=n*c&&t<n*c+n,m=e=>{let t=e.node().getBoundingClientRect(),r=Math.floor(t.height/16)-1;n=r<o.length?r-1:r,l=v(r),c=Math.min(c,l-1)},v=e=>Math.ceil(o.length/e),y=e=>Gr(e,".legend-controls",(()=>e.append("g").attr("class","legend-controls").html('<span id="up-arrow">&#9650;</span>\n<span id="page-text"></span>\n<span id="down-arrow">&#9660;</span>\n'))),w=e=>Gr(e,".legend",(()=>e.append("svg").attr("class","legend")));return f.decorate=(...e)=>e.length?(s=e[0],f):s,(0,r.rebindAll)(f,a),f},Pi=e=>Di(nr().shape("circle").shapeRadius(6),e),Li=e=>Di(function(){var e=Pn(),t="path",n=5,r=[5],i=void 0,a=[],o="",l="",c=tr.d3_defaultLocale,s=tr.d3_defaultFormatSpecifier,u="middle",f=10,d=tr.d3_defaultDelimiter,h=void 0,g="vertical",p=!1,_=void 0,b=gt("cellover","cellout","cellclick");function m(m){var v=tr.d3_calcType(e,p,r,a,c.format(s),d),y=m.selectAll("g").data([e]);i&&tr.d3_filterCells(v,i),y.enter().append("g").attr("class",o+"legendCells");var w=m.select("."+o+"legendCells").selectAll("."+o+"cell").data(v.data),x=w.enter().append("g").attr("class",o+"cell");x.append(t).attr("class",o+"swatch");var k=m.selectAll("g."+o+"cell "+t+"."+o+"swatch");tr.d3_addEvents(x,b),w.exit().transition().style("opacity",0).remove(),k.exit().transition().style("opacity",0).remove(),k=k.merge(k),tr.d3_drawShapes(t,k,15,15,10,v.feature);var S=tr.d3_addText(m,x,v.labels,o,h);w=x.merge(w);var M,A=S.nodes().map((function(e){return e.getBBox()})),T=k.nodes().map((function(e){return e.getBBox()})),E=Mt(T,(function(e){return e.height})),C=Mt(T,(function(e){return e.width})),V=void 0,N=void 0,z="start"==u?0:"middle"==u?.5:1;"vertical"===g?(M=A.map((function(e,t){return Math.max(E,e.height)})),V=function(e,t){return"translate(0, "+(At(M.slice(0,t))+t*n)+" )"},N=function(e,t){return"translate( "+(C+f)+",\n              "+(T[t].y+T[t].height/2+5)+")"}):"horizontal"===g&&(V=function(e,t){return"translate( "+t*(C+n)+",0)"},N=function(e,t){return"translate( "+(T[t].width*z+T[t].x)+",\n              "+(E+f)+")"}),tr.d3_placement(g,w,V,S,N,u),tr.d3_title(m,l,o,_),w.transition().style("opacity",1)}return m.scale=function(t){return arguments.length?(e=t,m):e},m.cells=function(e){return arguments.length?((e.length>1||e>=2)&&(r=e),m):r},m.cellFilter=function(e){return arguments.length?(i=e,m):i},m.shapePadding=function(e){return arguments.length?(n=+e,m):n},m.labels=function(e){return arguments.length?(a=e,m):a},m.labelAlign=function(e){return arguments.length?("start"!=e&&"end"!=e&&"middle"!=e||(u=e),m):u},m.locale=function(e){return arguments.length?(c=ct(e),m):c},m.labelFormat=function(e){return arguments.length?(s=tt(e),m):m.locale().format(s)},m.labelOffset=function(e){return arguments.length?(f=+e,m):f},m.labelDelimiter=function(e){return arguments.length?(d=e,m):d},m.labelWrap=function(e){return arguments.length?(h=e,m):h},m.orient=function(e){return arguments.length?("horizontal"!=(e=e.toLowerCase())&&"vertical"!=e||(g=e),m):g},m.ascending=function(e){return arguments.length?(p=!!e,m):p},m.classPrefix=function(e){return arguments.length?(o=e,m):o},m.title=function(e){return arguments.length?(l=e,m):l},m.titleWidth=function(e){return arguments.length?(_=e,m):_},m.on=function(){var e=b.on.apply(b,arguments);return e===b?m:e},m}().shapePadding(1).labelOffset(3),e),Oi=()=>Bi(Pi),Ii=()=>Bi(Li,Ri);function Ri(e){if(!e)return null;let t=e.domain(),n=e.range().map((e=>I.symbol().type(e)()));return L.scaleOrdinal().domain(t).range(n)}function Bi(e,t){let n={},r=null,i=null;function a(t){if(r&&r.range().length>1){let a=e(n);a.scale(r).orient("vertical").on("cellclick",(function(e){let t=this.__data__;n.hideKeys=n.hideKeys||[],n.hideKeys.includes(t)?n.hideKeys=n.hideKeys.filter((e=>e!==t)):n.hideKeys.push(t),xr(this)._draw()})),a.labels((e=>{let t=e.domain[e.i].split("|");return n.mainValues.length<=1&&t.length>1?t.slice(0,t.length-1).join("|"):e.domain[e.i]}));let o=Gr(t,"div.legend-container",(()=>t.append("div")));a.decorate((e=>{let t=e=>n.hideKeys&&n.hideKeys.includes(e),r=e.select("g.legendCells").attr("transform","translate(20,20)").selectAll("g.cell");r.classed("hidden",t),r.append("title").html((e=>e)),i&&r.select("circle, path").style("fill",(e=>t(e)?null:i(e))).style("stroke",(e=>t(e)?null:mi(i(e))))})),o.attr("class","legend-container").attr("borderbox-on-hover",!0).style("z-index","2").call(a)}}return a.settings=(...e)=>e.length?(n=e[0],a):n,a.scale=(...e)=>e.length?(r=t?t(e[0]):e[0],a):r,a.color=(...e)=>e.length?(i=e[0],a):i,a}function Fi(e,t){let n=t||e.data;return e.hideKeys&&e.hideKeys.length>0?n.map((t=>{let n={...t};return e.hideKeys.forEach((e=>{delete n[e]})),n})):n}function Yi(e,t){let n=t||e.data;return e.hideKeys&&e.hideKeys.length>0?n.map((t=>{let n={};return Object.keys(t).map((r=>{e.hideKeys.includes(hi(r))||(n[r]=t[r])})),n})):n}var ji=e=>e.style("display","none"),$i=(e,t)=>{let n="both",i=!1,a=null,o=null,l=null,c=r.seriesSvgMulti(),s=r.annotationSvgGridline(),u=(e=>t=>t.style("stroke-width","1.0").style("stroke",e?e.colorStyles.grid.gridLineColor:"#bbb"))(t),f=ji,d=function(...d){i&&(c=r.seriesCanvasMulti().context(l),s=r.annotationCanvasGridline(),u=(e=>t=>{t.strokeStyle=e?e.colorStyles.grid.gridLineColor:"#bbb",t.lineWidth=1})(t),f=(e=>t=>{t.lineWidth=1,t.strokeStyle=e?e.colorStyles.grid.gridLineColor:"#bbb"})(t));let h=c.xScale(a).yScale(o),g="vertical"===n?f:u,p="horizontal"===n?f:u,_=s.xDecorate(g).yDecorate(p);return h.series([_,e])(...d)};return d.orient=(...e)=>e.length?(n=e[0],d):n,d.canvas=(...e)=>e.length?(i=e[0],d):i,d.xScale=(...e)=>e.length?(a=e[0],d):a,d.yScale=(...e)=>e.length?(o=e[0],d):o,d.context=(...e)=>e.length?(l=e[0],d):l,d},Hi=()=>{let e=vr(),t=t=>{let n=e.pad(),r=e.padUnit(),i=1;switch(r){case"domain":break;case"percent":i=t[1]-t[0];break;default:throw new Error("Unknown padUnit: "+r)}let a=t[0]-n[0]*i,o=t[1]+n[1]*i;return t[0]=t[0]>=0&&a<0?0:a,t[1]=t[1]<=0&&o>0?0:o,t};return r.rebindAll(t,e),t},Ui=()=>{let e=null,t=null,n=null,r=null,i=null,a=null,o=!1,l=!1,c=()=>{};function s(c){let s=`d3fc-${l?"canvas":"svg"}.plot-area`;if(n||i){let d=r&&r.domain()[0]instanceof Date,h=R.zoom().on("zoom",(o=>{let{transform:l}=o;t.zoom={k:l.k,x:l.x,y:l.y},u(l),c.call(e);let g=1===l.k&&0===l.x&&0===l.y,p=f(c).style("display",g?"none":"");p.select("#zoom-reset").on("click",(()=>c.select(s).call(h.transform,R.zoomIdentity)));let _=p.select("#one-year").style("display",d?"":"none"),b=p.select("#six-months").style("display",d?"":"none"),m=p.select("#one-month").style("display",d?"":"none");if(d){let e=e=>()=>{let t=new Date(n.domain()[0]),o=new Date(t);e(t,o);let l=r.range(),u=(l[1]-l[0])/(r(o)-r(t)),f=-r(t)*u,d=0;if(i){let e=i.domain().reduce(((e,t)=>e+t))/2;d=-a(e)*u+i(e)}c.select(s).call(h.transform,R.zoomIdentity.translate(f,d).scale(u))};_.on("click",e(((e,t)=>t.setYear(e.getFullYear()+1)))),b.on("click",e(((e,t)=>t.setMonth(e.getMonth()+6)))),m.on("click",e(((e,t)=>t.setMonth(e.getMonth()+1))))}})),g=e.decorate();e.decorate(((e,n)=>{if(g(e,n),!o){o=!0;let n=e.select(s),i=l?window.devicePixelRatio:1;n.on("measure.zoom-range",(e=>{if(r&&r.range([0,e.detail.width/i]),a&&a.range([0,e.detail.height/i]),t.zoom){let e=R.zoomIdentity.translate(t.zoom.x,t.zoom.y).scale(t.zoom.k);n.call(h.transform,e)}})).call(h)}}))}c.call(e)}s.chart=(...t)=>t.length?(e=t[0],s):e,s.settings=(...e)=>e.length?(t=e[0],s):t,s.xScale=(...e)=>e.length?(n=d(e[0]),r=n?n.copy():null,s):n,s.yScale=(...e)=>{if(!e.length)return i;if(i=d(e[0]),a=i?i.copy():null,a){let e=a.domain();a.domain([e[1],e[0]])}return s},s.canvas=(...e)=>e.length?(l=e[0],s):l,s.onChange=(...e)=>e.length?(c=e[0],s):c;let u=e=>{let t={...e};if(n&&(n.domain(e.rescaleX(r).domain()),t.xDomain=n.domain()),i){let n=e.rescaleY(a).domain();i.domain([n[1],n[0]]),t.yDomain=i.domain()}c(t)},f=e=>Gr(e,".zoom-controls",(()=>e.append("div").attr("class","zoom-controls").style("display","none").html('<button id="zoom-reset">Reset zoom</button>\n<button id="one-year">1 Year</button>\n<button id="six-months">6 Months</button>\n<button id="one-month">1 Month</button>\n'))),d=e=>e&&e.nice?e:null;return s};function Wi(e,t){let n=Si(t,Fi(t)),i=gi(t),a=Oi().settings(t).scale(i),o=fi(t,i).orient("horizontal"),l=r.seriesSvgMulti().mapping(((e,t)=>e[t])).series(n.map((()=>o))),c=Hr(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[0]).excludeType(lr).include([0]).paddingStrategy(Hi())(n),s=Hr(t).excludeType(sr).settingName("crossValues").valueName("crossValue").orient("vertical")(n),u=Ur(c,s).plotArea($i(l,t).orient("horizontal"));u.yPaddingInner&&(u.yPaddingInner(.5),u.yPaddingOuter(.25),o.align("left")),u.xNice&&u.xNice();let f=Ui().chart(u).settings(t).yScale(s.scale);e.datum(n).call(f),e.call(a)}Wi.plugin={name:"X Bar",category:"X Chart",max_cells:1e3,max_columns:50,render_warning:!0,initial:{names:["X Axis"]}};var qi=Wi,Gi=e=>2===e.length&&!isNaN(e[0])&&!isNaN(e[1])&&e[0]!==e[1],Xi=e=>(0-e[0])/(e[1]-e[0]),Ki=(e,t)=>t*e[1]/(t-1),Qi=(e,t,n=Zi)=>{let i,a,o,l=e.splitMainValues||[],c=e=>{let t=e.split("|");return l.includes(t[t.length-1])},s=e.mainValues.some((e=>c(e.name)));a=s?n(t,(e=>!c(e))):t,o=s?n(t,c):null;let u=t=>{if(1===e.mainValues.length)return;let n=e.mainValues.map(((e,t)=>({index:t,name:e.name}))),a=n.filter((e=>!c(e.name))),o=n.filter((e=>c(e.name))),l=()=>(e=>{let t,n=[],i=!1,a=a=>{a.text("");let l=r.dataJoin("span","splitter-label").key((e=>e)),c=!i&&1===n.length,s=t&&0===e.splitValues.length;l(a,n).classed("disabled",c).text((e=>e.name)).style("color",(e=>s?mi(t(e.name)):void 0)).on("click",((t,n)=>{c||(e.splitMainValues=i?e.splitMainValues.filter((e=>e!=n.name)):[n.name].concat(e.splitMainValues||[]),t.target.getRootNode().host.closest("perspective-viewer")?.dispatchEvent(new Event("perspective-config-update")),o(a))}))},o=e=>{let t=xr(e.node());t._container.innerHTML="",t._draw()};return a.labels=(...e)=>e.length?(n=e[0],a):n,a.alt=(...e)=>e.length?(i=e[0],a):i,a.color=(...e)=>e.length?(t=e[0],a):t,a})(e).color(i);t.select(".y-label.left-label").call(l().labels(a)),t.select(".y-label.right-label").call(l().labels(o).alt(!0))};return u.color=(...e)=>e.length?(i=e[0],u):i,u.haveSplit=()=>s,u.data=(...e)=>e.length?(a=e[0],u):a,u.altData=(...e)=>e.length?(o=e[0],u):o,u},Zi=(e,t)=>e.map((e=>e.filter((e=>t(e.key))))),Ji=(e,t)=>e.map((e=>t(e.key)?e:e.map((e=>Object.assign({},e,{mainValue:null}))))),ea=(e,t)=>e.map((e=>Ji(e,t)));function ta(e,t){let n=Si(t,Fi(t)),i=gi(t),a=Oi().settings(t).scale(i),o=fi(t,i).orient("vertical"),l=r.seriesSvgMulti().mapping(((e,t)=>e[t])).series(n.map((()=>o))),c=Hr(t).excludeType(sr).settingName("crossValues").valueName("crossValue")(n),s=Hr(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[1]).excludeType(lr).orient("vertical").include([0]).paddingStrategy(Hi()),u=t.mainValues.length>1?ea:Ji,f=Qi(t,n,u).color(i),d=s(f.data()),h=f.haveSplit()?l:$i(l,t).orient("vertical"),g=Ur(c,d).axisSplitter(f).plotArea(h);g.xPaddingInner&&(g.xPaddingInner(.5),g.xPaddingOuter(.25),o.align("left")),g.yNice&&g.yNice();let p=Ui().chart(g).settings(t).xScale(c.scale);if(f.haveSplit()){let e=s(f.altData());((e,t)=>{if(!Gi(e)||!Gi(t))return;let n=Xi(e),r=Xi(t);n>r?t[0]=Ki(t,n):e[0]=Ki(e,r)})(d.domain,e.domain),g.yDomain(d.domain).altAxis(e)}e.datum(f.data()).call(p),e.call(a)}ta.plugin={name:"Y Bar",category:"Y Chart",max_cells:1e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var na=ta;function ra(e,t){let n=r.seriesSvgLine(),i=e.data.length*(e.data?.length>0?Object.keys(e.data[0]).length-(e.crossValues?.length>0?1:0):0),a=Math.max(1,Math.min(3,Math.floor(e.size.width/i/2)));return n=n.decorate((e=>{e.style("stroke",(e=>mi(t(e[0]&&e[0].key)))).style("stroke-width",a)})),n.crossValue((e=>e.crossValue)).mainValue((e=>e.mainValue))}var ia=function(e){let t=[];for(let n of e)for(let e=0;e<n.length;e++)null!==n[e].mainValue&&(t[e]=t[e]||[],t[e].push(n[e]));return t},aa=(e,t,n=Math.min)=>{let r=e=>e.reduce(((e,r)=>{let a=i(r,t);return!a||e&&n(e.value,a.value)!==a.value?e:a}),null),i=e=>{if(Array.isArray(e))return r(e);let n=t(e);return null!==n?{item:e,value:n}:null},a=r(e);return a?a.item:null},oa=()=>{let e=si().alwaysShow(!0),t=null,n=null,i=null,a=null,o=!1,l=null,c="crossValue",s="mainValue",u=null,f=1;function d(i){let a=`d3fc-${o?"canvas":"svg"}.plot-area`;if(t||n){let t=null,o=r.pointer().on("point",(e=>{let r=e.length?g(e[0]):null;t=r?[r.data]:[];let a=r?r.scale:n;h(i,t,a)}));i.select(a).on("measure.nearbyTip",(()=>h(i,[]))).on("click",(()=>{t.length&&ci(i.node(),t[0],e.settings())})).call(o)}}let h=(r,o,l=n)=>{let u=r.select("d3fc-svg.plot-area svg").selectAll("circle.nearbyTip").data(o);u.exit().remove(),u.enter().append("circle").attr("class","nearbyTip").merge(u).attr("r",(e=>a?f*Math.sqrt(a(e.size)):10)).attr("transform",(e=>`translate(${t(e[c])},${l(e[s])})`)).style("stroke","none").style("fill",(e=>i&&e.key&&vi(i(e.key)))),e(u)},g=e=>{let r=n=>r=>void 0===r[s]||null===r[s]||void 0===r[c]||null===r[c]?null:Math.sqrt(Math.pow(t(r[c])-e.x,2)+Math.pow(n(r[s])-e.y,2)),i=r(n),a=aa(l,i,Math.min);if(u){let e=r(u.yScale),t=aa(u.data,e,Math.min);return i(a)<=e(t)?{data:a,scale:n}:{data:t,scale:u.yScale}}return{data:a,scale:n}};return d.scaleFactor=(...e)=>e.length?(f=e[0],d):f,d.xScale=(...e)=>e.length?(t=e[0],d):t,d.yScale=(...e)=>e.length?(n=e[0],d):n,d.color=(...e)=>e.length?(i=e[0],d):i,d.size=(...e)=>e.length?(a=e[0]?e[0].copy().range([40,4e3]):null,d):a,d.canvas=(...e)=>e.length?(o=e[0],d):o,d.data=(...e)=>e.length?(l=e[0],d):l,d.xValueName=(...e)=>e.length?(c=e[0],d):c,d.yValueName=(...e)=>e.length?(s=e[0],d):s,d.altDataWithScale=(...e)=>e.length?(u=e[0],d):u,r.rebindAll(d,e),d};function la(e,t){let n=function(e,t){let n=xi(e);return t.map(((e,t)=>Object.keys(e).filter((e=>"__ROW_PATH__"!==e)).map((r=>({key:r,crossValue:n(e,t),mainValue:e[r],row:e})))))}(t,Fi(t)),i=gi(t),a=Oi().settings(t).scale(i),o=r.seriesSvgRepeat().series(ra(t,i)).orient("horizontal"),l=Hi().pad([.1,.1]).padUnit("percent"),c=Qi(t,ia(n)).color(i),s=Hr(t).excludeType(sr).settingName("crossValues").valueName("crossValue")(n),u=Hr(t).settingName("mainValues").valueName("mainValue").memoValue(c.haveSplit()?null:t.axisMemo[0]).orient("vertical").paddingStrategy(l),f=u(c.data()),d=c.haveSplit()?o:$i(o,t).orient("vertical"),h=Ur(s,f).axisSplitter(c).plotArea(d);h.yNice&&h.yNice();let g=Ui().chart(h).settings(t).xScale(s.scale),p=oa().settings(t).xScale(s.scale).yScale(f.scale).color(i).data(n);if(c.haveSplit()){let e=u(c.altData());h.altAxis(e),p.data(c.data()).altDataWithScale({yScale:e.scale,data:c.altData()})}let _=c.data();e.datum(_).call(g),e.call(p),e.call(a)}la.plugin={name:"Y Line",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var ca=la,sa=[I.symbolCircle,I.symbolCross,I.symbolDiamond,I.symbolSquare,I.symbolStar,I.symbolTriangle,I.symbolWye];function ua(e){return e.length>1?L.scaleOrdinal().domain(e).range(sa):null}function fa(e){let t=e.data&&e.data.length>0?e.data[0]:{},n=[];return Object.keys(t).forEach((e=>{if("__ROW_PATH__"!==e){let t=hi(e);n.includes(t)||n.push(t)}})),ua(n)}function da(e,t){let n=ia(function(e,t){let n=e.mainValues.length;return t.map((e=>{let t=Object.keys(e).filter((e=>"__ROW_PATH__"!==e)),r=new Array(t.length/n);for(let i=0;i<t.length/n;i++)r[i]={key:hi(t[i*n]),crossValue:e[t[i*n]],mainValue:e[t[i*n+1]],row:e};return r}))}(t,Yi(t))),i=_i(t),a=fa(t),o=null;i.domain().length>=2&&(o=Bi(Pi,Ri).settings(t).scale(a).color(i));let l=r.seriesSvgRepeat().series(ra(t,i)).orient("horizontal"),c=Hi().pad([.1,.1]).padUnit("percent"),s=Hr(t).settingName("mainValues").settingValue(t.mainValues[0].name).valueName("crossValue").memoValue(t.axisMemo[0]).paddingStrategy(c),u=Hr(t).settingName("mainValues").settingValue(t.mainValues[1].name).valueName("mainValue").memoValue(t.axisMemo[1]).orient("vertical").paddingStrategy(c)(n),f=s(n),d=$i(l,t).orient("vertical"),h=Ur(f,u).xLabel(t.mainValues[0].name).yLabel(t.mainValues[1].name).plotArea(d);h.xNice&&h.xNice(),h.yNice&&h.yNice();let g=Ui().chart(h).settings(t).xScale(f.scale).yScale(u.scale),p=oa().settings(t).xScale(f.scale).yScale(u.scale).color(i).data(n);e.datum(n).call(g),e.call(p),o&&e.call(o)}da.plugin={name:"X/Y Line",category:"X/Y Chart",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Tooltip"]},selectMode:"toggle"};var ha=da;function ga(e,t){let n=function(e,t){let n=xi(e);return t.map(((e,t)=>{let r={};return Object.keys(e).filter((e=>"__ROW_PATH__"!==e)).map((i=>{let a=i.split("|"),o=a[a.length-1],l=r[o]||0,c=l+e[i];return r[o]=c,{key:i,crossValue:n(e,t),mainValue:c,baseValue:l,row:e}}))}))}(t,Fi(t)),i=gi(t),a=Oi().settings(t).scale(i),o=r.seriesSvgRepeat().series(function(e,t){let n=r.seriesSvgArea();return n=n.decorate((e=>{e.style("fill",(e=>t(e[0].key))).style("opacity",.5)})),n.crossValue((e=>e.crossValue)).mainValue((e=>e.mainValue)).baseValue((e=>e.baseValue))}(0,i).orient("vertical")),l=r.seriesSvgRepeat().series(ra(t,i)).orient("vertical"),c=r.seriesSvgMulti().series([o,l]),s=Hr(t).excludeType(sr).settingName("crossValues").valueName("crossValue")(n),u=Hr(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[1]).excludeType(lr).orient("vertical").include([0]).paddingStrategy(Hi()),f=Qi(t,n).color(i),d=u(f.data()),h=f.haveSplit()?c:$i(c,t).orient("vertical"),g=Ur(s,d).axisSplitter(f).plotArea(h);g.yNice&&g.yNice();let p=Ui().chart(g).settings(t).xScale(s.scale),_=oa().settings(t).xScale(s.scale).yScale(d.scale).color(i).data(n);if(f.haveSplit()){let e=u(f.altData());g.altAxis(e),_.data(f.data()).altDataWithScale({yScale:e.scale,data:f.altData()})}e.datum(f.data()).call(p),e.call(_),e.call(a)}ga.plugin={name:"Y Area",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var pa=ga;function _a(e,t){let n=function(e,t){let n={stack:!1},r=ki(e,t,n).map((t=>Mi(e,t,n)));return e.mainValues.length>1?r.reduce(((e,t)=>e.concat(t))):r}(t,Fi(t)),i=function(e){let t=e.data&&e.data.length>0?e.data[0]:{};return ua(Object.keys(t).filter((e=>"__ROW_PATH__"!==e)))}(t),a=gi(t),o=Ii().settings(t).scale(i).color(a),l=r.seriesSvgMulti().mapping(((e,t)=>e[t])).series(n.map((e=>function(e,t,n,i){let a=r.seriesSvgPoint().size(100),o=e.colorStyles&&e.colorStyles.opacity;return i&&a.type(i(t)),a.decorate((e=>{e.style("stroke",(e=>mi(n(e.colorValue||t)))).style("fill",(e=>vi(n(e.colorValue||t),o)))})),a.crossValue((e=>e.crossValue)).mainValue((e=>e.mainValue))}(t,e.key,a,i)))),c=Hi().pad([.05,.05]).padUnit("percent"),s=Hr(t).excludeType(sr).settingName("crossValues").valueName("crossValue")(n),u=Hr(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[1]).orient("vertical").paddingStrategy(c),f=Qi(t,n).color(a),d=u(f.data()),h=f.haveSplit()?l:$i(l,t).orient("vertical"),g=Ur(s,d).axisSplitter(f).plotArea(h);g.yNice&&g.yNice();let p=Ui().chart(g).settings(t).xScale(s.scale),_=oa().settings(t).xScale(s.scale).yScale(d.scale).color(a).data(n);if(f.haveSplit()){let e=u(f.altData());g.altAxis(e),_.data(f.data()).altDataWithScale({yScale:e.scale,data:f.altData()})}e.datum(f.data()).call(p),e.call(_),o&&e.call(o)}_a.plugin={name:"Y Scatter",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var ba=_a;function ma(e,t,n,r){let i=va(t,n,r),a=e.colorStyles.gradient.full;if(i[0]>=0)a=e.colorStyles.gradient.positive;else if(i[1]<=0)a=e.colorStyles.gradient.negative;else{let e=Math.max(-i[0],i[1]);i=[-e,e]}let o=ya(a);return L.scaleSequential(o).domain(i)}var va=(e,t,n)=>n||Mr().valueName(t).pad([0,0])(e),ya=e=>{let t=e.slice(1).map(((t,n)=>P.c(e[n][1],t[1])));return n=>{let r=e.findIndex(((t,r)=>r<e.length-1&&n<=e[r+1][0]&&n>t[0]));if(-1===r)return n<=e[0][0]?e[0][1]:e[e.length-1][1];let i=t[r],[a]=e[r],[o]=e[r+1];return i((n-a)/(o-a))}};function wa(){let e=null;function t(t){let n=Gr(t,"div.legend-container",(()=>t.append("div").attr("class","legend-container legend-color").style("z-index","2"))),{width:a,height:o}=n.node().getBoundingClientRect(),l=L.scaleBand().domain([0,1]).range([0,a]),c=e.copy().nice().domain(),s=r.extentLinear().pad([.1,.1]).padUnit("percent")(c),[u,f]=s,d=i.range(u,f,(f-u)/o),h=L.scaleLinear().domain(s).range([o,0]),g=r.autoBandwidth(r.seriesSvgBar()).xScale(l).yScale(h).crossValue(0).baseValue(((e,t)=>d[Math.max(0,t-1)])).mainValue((e=>e)).decorate((t=>{t.selectAll("path").style("fill",(t=>e(t)))})),p=c[0]<0&&c[1]>0?0:Math.round((c[1]+c[0])/2),_=[...c,p],b=r.axisRight(h).tickValues(_).tickSizeOuter(0).tickFormat((e=>wr(e))),m=Gr(n,"svg",(()=>n.append("svg"))).style("width",a).style("height",o),v=Gr(m,"g",(()=>m.append("g"))).datum(d).call(g),y=Math.abs(v.node().getBBox().x);Gr(m,"#legend-axis",(()=>m.append("g").attr("id","legend-axis"))).attr("transform",`translate(${y})`).datum(d).call(b).select(".domain").attr("visibility","hidden")}return t.scale=(...n)=>n.length?(e=n[0],t):e,t}function xa(e,t){let n=function(e,t){return ki(e,t,{excludeEmpty:!0}).map((t=>function(e,t){let n=xi(e),r=t.map(((r,i)=>({crossValue:n(r,i),mainValues:e.mainValues.map((e=>r[e.name])),x:r[e.mainValues[0].name],y:r[e.mainValues[1].name],colorValue:e.realValues[2]?r[e.realValues[2]]:void 0,size:e.realValues[3]?r[e.realValues[3]]:void 0,key:t.key,row:r})));return r.key=t.key,r}(e,t)))}(t,Yi(t)),i=fa(t),a=t.realValues.length<=2||null===t.realValues[2],o=null,l=null;a?(o=_i(t),l=Ii().settings(t).scale(i).color(a?o:null)):(o=ma(t,n,"colorValue"),l=wa().scale(o));let c=t.realValues[3]?function(e,t,n,r){return L.scaleLinear().domain(va(t,"size",void 0))}(0,n).range([10,1e4]):null,s=t.realValues[4],u=function([e,t],[n,r]){let i=(r-t)/(n-e),a=r-i*n;return function(e){let n=e.node(),o=Math.min(n.clientWidth,n.clientHeight);return Math.min(r,Math.max(t,i*o+a))}}([600,.1],[1600,1])(e),f=r.seriesCanvasMulti().mapping(((e,t)=>e[t])).series(n.map((e=>function(e,t,n,i,a,o,l=1){let c=(0,r.seriesCanvasPoint)().crossValue((e=>e.x)).mainValue((e=>e.y));return n&&c.size((e=>Math.round(l*n(e.size)))),o&&c.type(o(t)),c.decorate(((r,o)=>{let c=i(void 0!==o.colorValue?o.colorValue:t),s=e.colorStyles&&e.colorStyles.opacity;if(a){let{type:t}=e.mainValues.find((e=>e.name===a)),i=ni(t,o.row[a]);if(null!==i){r.fillStyle=e.textStyles.color,r.font=e.textStyles.font;let t=0;n&&(t=1*Math.sqrt(l*n(o.size)/Math.PI));let a=t+8;r.fillText(i,a,4)}}r.strokeStyle=mi(c),r.fillStyle=vi(c,s)})),c}(t,e.key,c,o,s,i,u)))),d=()=>Hr(t).settingName("mainValues").paddingStrategy(Hi()).pad([.1,.1]),h=d().settingValue(t.mainValues[0].name).memoValue(t.axisMemo[0]).valueName("x")(n),g=d().orient("vertical").settingValue(t.mainValues[1].name).memoValue(t.axisMemo[1]).valueName("y")(n),p=Wr(h,g).xLabel(t.mainValues[0].name).yLabel(t.mainValues[1].name).plotArea($i(f,t).canvas(!0));p.xNice&&p.xNice(),p.yNice&&p.yNice();let _=Ui().chart(p).settings(t).xScale(h.scale).yScale(g.scale).canvas(!0),b=oa().scaleFactor(u).settings(t).canvas(!0).xScale(h.scale).xValueName("x").yValueName("y").yScale(g.scale).color(a&&o).size(c).data(n);e.datum(n).call(_),e.call(b),l&&e.call(l)}xa.plugin={name:"X/Y Scatter",category:"X/Y Chart",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Color","Size","Label","Tooltip"]},selectMode:"toggle"};var ka=xa;function Sa(e,t){let n=function(e,t){let n=xi(e),r=ur(e).excludeType(sr).settingName("splitValues")(),i=[];return t.forEach(((e,t)=>{let a=n(e,t);Object.keys(e).filter((e=>"__ROW_PATH__"!==e)).forEach((t=>{let n=function(e){let t=e.split("|");return t.pop(),t.join("|")}(t);i.push({crossValue:a,mainValue:r===cr?new Date(n):n,colorValue:e[t],row:e})}))})),i}(t,Fi(t)),i=ma(t,n,"colorValue"),a=function(e,t){let n=r.seriesCanvasHeatmap();return n.decorate(((e,n)=>{e.fillStyle=t(n.colorValue)})),r.autoBandwidth(n).xValue((e=>e.crossValue)).yValue((e=>e.mainValue)).colorValue((e=>e.colorValue)).colorInterpolate(t.interpolator()).widthFraction(1)}(0,i),o=wa().scale(i),l=Hr(t).excludeType(sr).settingName("crossValues").valueName("crossValue")(n),c=Hr(t).excludeType(sr).settingName("splitValues").valueName("mainValue").modifyDomain((e=>isNaN(e[0])?e:e.reverse())).orient("vertical")(n),s=Wr(l,c).plotArea($i(a,t).canvas(!0));s.xPaddingInner&&(s.xPaddingInner(0),s.xPaddingOuter(0),a.xAlign("right")),s.yPaddingInner&&(s.yPaddingInner(0),s.yPaddingOuter(0),a.yAlign("top"));let u=Ui().chart(s).settings(t).xScale(l.scale).yScale(c.scale).canvas(!0),f=oa().settings(t).canvas(!0).xScale(l.scale).yScale(c.scale).color(i).data(n);e.datum(n).call(u),e.call(o),e.call(f)}Sa.plugin={name:"Heatmap",category:"Hierarchial Chart",max_cells:5e4,max_columns:500,render_warning:!0,initial:{names:["Color"]}};var Ma=Sa;function Aa(e,t){return ki(e,t,{excludeEmpty:!0}).map((t=>function(e,t){let n=xi(e),r=t.map(((r,i)=>{let a=e.realValues[0]?r[e.realValues[0]]:void 0,o=e.realValues[1]?r[e.realValues[1]]:(n=>t[n<t.length-1?n+1:n][e.realValues[0]])(i);return{crossValue:n(r,i),mainValues:e.mainValues.map((e=>r[e.name])),openValue:a,closeValue:o,highValue:e.realValues[2]?r[e.realValues[2]]:Math.max(a,o),lowValue:e.realValues[3]?r[e.realValues[3]]:Math.min(a,o),key:t.key,row:r}}));return r.key=t.key,r}(e,t)))}var Ta=function(e){return function(t,n){let i=Aa(n,Yi(n)),a=r.indicatorBollingerBands().value((e=>e.openValue)),o=i.map((e=>{let t=a(e);return e.map(((e,n)=>Object.assign({bollinger:t[n]},e)))})),l=i.map((e=>e.key)).concat(n.hideKeys?n.hideKeys:[]).sort(),c=bi().domain(l).settings(n).mapFunction(yi(1))(),s=Oi().settings(n).scale(l.length>1?c:null),u=function(e,t,n){let i=n.domain(),a=bi().domain(i).settings(e).defaultColors([e.colorStyles["series-2"]]).mapFunction(yi(.5))(),o=bi().settings(e).domain(i)(),l=t().crossValue((e=>e.crossValue)).openValue((e=>e.openValue)).highValue((e=>e.highValue)).lowValue((e=>e.lowValue)).closeValue((e=>e.closeValue)).decorate(((e,t)=>{let r=(e=>e.closeValue>=e.openValue)(t)?n(t.key):a(t.key);e.fillStyle=r,e.strokeStyle=r})),c=r.seriesCanvasLine().mainValue((e=>e.bollinger.average)).crossValue((e=>e.crossValue)).decorate(((e,t)=>{e.strokeStyle=o(t[0].key)})),s=r.seriesCanvasArea().mainValue((e=>e.bollinger.upper)).baseValue((e=>e.bollinger.lower)).crossValue((e=>e.crossValue)).decorate(((e,t)=>{e.fillStyle=yi(.25)(o(t[0].key))}));return r.seriesCanvasMulti().series([s,l,c])}(n,e,c),f=r.seriesCanvasMulti().mapping(((e,t)=>e[t])).series(o.map((()=>u))),d=Hi().pad([.1,.1]).padUnit("percent"),h=Hr(n).settingName("crossValues").valueName("crossValue")(o),g=Hr(n).settingName("mainValues").valueNames(["lowValue","highValue"]).memoValue(n.axisMemo[1]).orient("vertical").paddingStrategy(d)(o),p=Wr(h,g).plotArea($i(f,n).orient("vertical").canvas(!0));p.yNice&&p.yNice();let _=Ui().chart(p).settings(n).xScale(h.scale).onChange((e=>{let t=o.map((t=>t.filter((t=>t.crossValue>=e.xDomain[0]&&t.crossValue<=e.xDomain[1]))));p.yDomain(g.domainFunction(t))})).canvas(!0),b=oa().settings(n).xScale(h.scale).yScale(g.scale).yValueName("closeValue").color(c).data(o).canvas(!0);t.datum(o).call(_),t.call(b),t.call(s)}},Ea=Ta(r.seriesCanvasOhlc);Ea.plugin={name:"OHLC",category:"Y Chart",max_cells:3500,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Open","Close","High","Low","Tooltip"]},selectMode:"toggle"};var Ca=Ea,Va=Ta(r.seriesCanvasCandlestick);Va.plugin={name:"Candlestick",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Open","Close","High","Low","Tooltip"]},selectMode:"toggle"};var Na=Va;function za(e,t){if(e.realValues.length>1&&null!==e.realValues[1]){let n=e.realValues[1];return"string"===e.mainValues.find((e=>e.name===n))?.type?pi(e,t.map((e=>e.data)).filter((e=>e.height>0)).map((e=>Da(e))).reduce(((e,t)=>e.concat(t)))):ma(e,null,null,dr(t.map((e=>e.extents))))}}function Da(e,t=[]){return e.children&&e.children.length>0?e.children.forEach((e=>t.concat(Da(e,t)))):e.data.color&&t.push(e.data.color),t}function Pa(e){let t={},n=e.realValues.map((t=>null===t?null:e.mainValues.find((e=>e.name===t))));return e.data.forEach(((r,i)=>{let a=r.__ROW_PATH__;(function(e){let t=[];return Object.keys(e).forEach((e=>{if("__ROW_PATH__"!==e){let n=e.split("|").slice(0,-1).join("|");t.includes(n)||t.push(n)}})),t})(r).forEach((o=>{let l;t[o]||(t[o]=[]),l=t[o],a.forEach(((t,c)=>{let s=l.find((e=>e.name===t));if(s||(s={name:t,children:[]},l.push(s)),e.realValues.length>1&&null!==e.realValues[1]){let t=c===a.length-1,n=La(t?r:e.agg_paths[i][c+1]||r,e.mainValues[1],o);void 0!==n&&(s.color=n)}if(e.realValues.length>2&&null!==e.realValues[2]){s.tooltip=[];for(let t=2;t<e.realValues.length;++t)s.tooltip.push(La(r,n[t],o))}if(c===a.length-1)if(s.name=a.slice(-1)[0],0===e.crossValues.length)s.size=La(r,e.mainValues[0],"");else if(a.length===e.crossValues.length){let t=La(r,e.mainValues[0],o);s.size=t>0?t:0}l=s.children}))}))})),Object.entries(t).map((t=>{let n=w({name:"root",children:t[1]}).sum((e=>e.size)),r=function(){var e=1,t=1,n=0,r=!1;function i(i){var a=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/a,i.eachBefore(function(e,t){return function(r){r.children&&E(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var i=r.x0,a=r.y0,o=r.x1-n,l=r.y1-n;o<i&&(i=o=(i+o)/2),l<a&&(a=l=(a+l)/2),r.x0=i,r.y0=a,r.x1=o,r.y1=l}}(t,a)),r&&i.eachBefore(T),i}return i.round=function(e){return arguments.length?(r=!!e,i):r},i.size=function(n){return arguments.length?(e=+n[0],t=+n[1],i):[e,t]},i.padding=function(e){return arguments.length?(n=+e,i):n},i}().size([2*Math.PI,n.height+1])(n);return r.each((n=>{n.current=n,n.mainValues=1===e.realValues.length||null===e.realValues[1]&&null===e.realValues[2]?n.value:[n.value,n.data.color].concat(n.data.tooltip||[]).filter((e=>void 0!==e)),n.crossValue=n.ancestors().slice(0,-1).reverse().map((e=>e.data.name)),n.key=t[0],n.label=ni(e.crossValues[n.depth-1<0?0:n.depth-1]?.type||e.mainValues[0].type,n.data.name)})),{split:t[0],data:r,extents:Oa(e,t)}}))}var La=(e,t,n)=>n.length?e[`${n}|${t.name}`]:e[t.name];function Oa(e,[t,n]){if(e.realValues.length>1&&null!==e.realValues[1])return[Math.min(...e.data.map((n=>La(n,e.mainValues[1],t)))),Math.max(...n.map((e=>e.color)))]}var Ia=e=>(0,I.arc)().startAngle((e=>e.x0)).endAngle((e=>e.x1)).padAngle((e=>Math.min((e.x1-e.x0)/2,.005))).padRadius(e).innerRadius((t=>Math.max(1,(t.y0-1)*e))).outerRadius((t=>Math.max((t.y0-1)*e,(t.y1-1)*e-1))),Ra=e=>e.y0>=1&&e.x1>e.x0,Ba=e=>e.y1<=3&&e.y0>=1&&(e.y1-e.y0)*(e.x1-e.x0)>.06;function Fa(e,t){let n=(e.x0+e.x1)/2*180/Math.PI;return`rotate(${n-90}) translate(${(e.y0-1+(e.y1-1))/2*t},0) rotate(${n<180?0:180})`}function Ya(e,t){let n=this.getBBox().width;if(n>t){let r=e.label,i=(0,O.select)(this);for(;n>t;)r=r.substring(0,r.length-1),i.text((()=>r)),n=this.getBBox().width;i.text((()=>`${r.substring(0,r.length-3).replace(/\s+$/,"")}...`))}}var ja=(e,t,n,r,i,a,o,l,c)=>(s,u)=>{c.sunburstLevel[l]=s.data.name,s.parent?(n.datum(s.parent),n.style("cursor","pointer"),r.html(`&#8682; ${s.label}`)):(n.datum(e),n.style("cursor","default"),r.html("")),e.each((e=>e.target={x0:2*Math.max(0,Math.min(1,(e.x0-s.x0)/(s.x1-s.x0)))*Math.PI,x1:2*Math.max(0,Math.min(1,(e.x1-s.x0)/(s.x1-s.x0)))*Math.PI,y0:Math.max(0,e.y0-s.depth),y1:Math.max(0,e.y1-s.depth)}));let f=t.transition().duration(u?0:750);i.transition(f).tween("data",(e=>{let t=(0,P.c)(e.current,e.target);return n=>e.current=t(n)})).filter((function(e){return+this.getAttribute("fill-opacity")||Ra(e.target)})).attr("fill-opacity",(e=>Ra(e.target)?1:0)).attr("user-select",(e=>Ra(e.target)?"initial":"none")).style("pointer-events",(e=>Ra(e.target)?"initial":"none")).attrTween("d",(e=>()=>Ia(o)(e.current))),a.filter((function(e){return+this.getAttribute("fill-opacity")||Ba(e.target)})).transition(f).attr("fill-opacity",(e=>+Ba(e.target))).attrTween("transform",(e=>()=>Fa(e.current,o)))};function $a(){let e=null,t=null,n=null,r=null,i=null,a=a=>{let o=a.selectAll("g.segment").data(n.descendants().slice(1)),l=o.enter().append("g").attr("class","segment");l.append("path"),l.append("text").attr("class","segment").attr("dy","0.35em");let c=l.merge(o),s=c.select("path").attr("fill-opacity",(e=>Ra(e.current)?1:0)).attr("user-select",(e=>Ra(e.current)?"initial":"none")).style("pointer-events",(e=>Ra(e.current)?"initial":"none")).attr("d",(e=>Ia(i)(e.current)));r&&s.style("fill",(e=>r(e.data.color)));let u=c.select("text").attr("fill-opacity",(e=>+Ba(e.current))).attr("transform",(e=>Fa(e.current,i))).text((e=>e.label)).each((function(e){Ya.call(this,e,i)})),f=a.select("text.parent"),d=a.select("circle").attr("r",i).datum(n),h=ja(n,a,d,f,s,u,i,t,e);if(e.sunburstLevel){let r=n.descendants().find((n=>n.data.name===e.sunburstLevel[t]));r&&h(r,!0)}else e.sunburstLevel={};d.on("click",(e=>h(e,!1))),s.filter((e=>e.children)).style("cursor","pointer").on("click",(e=>h(e,!1)))};return a.settings=(...t)=>t.length?(e=t[0],a):e,a.split=(...e)=>e.length?(t=e[0],a):t,a.data=(...e)=>e.length?(n=e[0],a):n,a.color=(...e)=>e.length?(r=e[0],a):r,a.radius=(...e)=>e.length?(i=e[0],a):i,a}function Ha(){let e="element-prefix-unset",t=null,n=null,r=null,i=null,a=null,o=o=>{let l=Gr(o,"div.inner-container",(()=>o.append("div").attr("class","inner-container"))),c=l.node().getBoundingClientRect(),s=c.height,u=c.width-0,f=o.datum(),d=Math.max(1,Math.min(f.length,Math.floor(u/300))),h=Math.ceil(f.length/d);a={width:u/Math.max(d,1),height:Math.min(s,Math.max(s/h,u/Math.max(d,1)))},s/h>.75*a.height&&(a.height=s/h),f.length>1?(l.style("grid-template-columns",`repeat(${d}, ${100/d}%)`),l.style("grid-template-rows",`repeat(${h}, ${a.height}px)`)):(l.style("grid-template-columns","repeat(1, 100%)"),l.style("grid-template-rows","repeat(1, 100%)")),r=l.selectAll(`div.${e}-container`).data(f,(e=>e.split)),r.exit().remove(),n=r.enter().append("div").attr("class",`${e}-container`),i=n.append("div").attr("class","title-container").style("text-align","center").attr("display","inline-block").append("text").attr("class","title").style("text-align","left"),t=n.append("svg").append("g").attr("class",e)};return o.elementsPrefix=(...t)=>t.length?(e=t[0],o):e,o.chartContainer=()=>t,o.chartEnter=()=>n,o.chartDiv=()=>r,o.chartTitle=()=>i,o.containerSize=()=>a,o}function Ua(e,t){let n=Pa(t),r=za(t,n),i=Ha().elementsPrefix("sunburst");if(e.datum(n).call(i),r){let n=t.realValues[1];if("string"===t.mainValues.find((e=>e.name===n))?.type){let n=Oi().settings(t).scale(r);e.call(n)}else{let t=wa().scale(r);e.call(t)}}let a=i.chartContainer(),o=i.chartEnter(),l=i.chartDiv(),c=i.chartTitle(),s=i.containerSize();c.each(((e,t,n)=>(0,O.select)(n[t]).text(e.split))),a.append("circle").attr("fill","none").style("pointer-events","all"),a.append("text").attr("class","parent"),o.merge(l).select("svg").select("g.sunburst").attr("transform",`translate(${s.width/2}, ${s.height/2})`).each((function({split:e,data:n}){let i=(0,O.select)(this),a=this.parentNode,{width:o,height:l}=a.getBoundingClientRect(),c=(Math.min(o,l)-24)/Math.max(2,2*t.crossValues.length);$a().settings(t).split(e).data(n).color(r).radius(c)(i),si().settings(t)(i.selectAll("g.segment"))}))}Ua.plugin={name:"Sunburst",category:"Hierarchial Chart",max_cells:7500,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var Wa=Ua;function qa(e,t){if(e.realValues.length<1||null===e.realValues[1]||void 0===e.realValues[1])return;let n=e.realValues[1],r=t.filter((e=>e.height>0)).map((e=>Ga(e))).reduce(((e,t)=>e.concat(t)));return"string"===e.mainValues.find((e=>e.name===n))?.type?pi(e,r):ma(e,null,null,[Math.min(...r),Math.max(...r)])}function Ga(e,t=[]){return e.children&&e.children.length>0?e.children.forEach((e=>t.concat(Ga(e,t)))):e.data.color&&t.push(e.data.color),t}var Xa=e=>!(!e.target||!e.target.textAttributes),Ka=(e,t,n)=>{e.selectAll("text").each((function(e,r){let i=co(e,t,n);this.style=i}));let r=no(e);io(r),Za(r)},Qa=e=>{e.each(((e,t,n)=>{(0,O.select)(n[t]).selectAll("text").attr("dx",e.target.textAttributes.dx).attr("dy",e.target.textAttributes.dy).attr("style",e.target.textAttributes.style)}))},Za=e=>{let t=e=>e.getBoundingClientRect(),n=[];e.selectAll("text").filter(((e,t,n)=>(0,O.select)(n[t]).attr("style")===so.high)).each(((e,t,r)=>n.push(r[t]))),e.selectAll("text").filter(((e,t,n)=>(0,O.select)(n[t]).attr("style")===so.low)).each(((e,r,i)=>{let a=i[r];n.filter((e=>Kr("x",t(e),t(a))&&Kr("y",t(e),t(a),-2))).forEach((()=>(0,O.select)(a).attr("dy",Number((0,O.select)(a).attr("dy"))+14)))}))},Ja=e=>(0,O.select)(e).style("opacity",to[(0,O.select)(e).attr("class")]),eo=e=>(0,O.select)(e).style("opacity",null),to={top:1,mid:.7,lower:0},no=e=>e.filter(((e,t,n)=>(0,O.select)(n[t]).selectAll("text").attr("style")!==so.zero)),ro=e=>e.selectAll("text").each(((e,t,n)=>oo(n[t]))),io=e=>e.selectAll("text").each(((e,t,n)=>ao(n[t]))),ao=e=>{let t=(0,O.select)(e),n=e.getBoundingClientRect();t.attr("dx",0-n.width/2).attr("dy",0+n.height/4)},oo=e=>{let t=e.parentNode.childNodes[0],n=e.getBBox(),r=t.getBBox();lo(e,r,n)||(0,O.select)(e).attr("style",(0,O.select)(e).attr("style"))},lo=(e,t,n)=>{let r=Math.min(t.height/n.height,t.width/n.width);if(r<1){let t=parseInt((0,O.select)(e).style("font-size")),n=Math.floor(t*r);return t>7&&n>7?((0,O.select)(e).style("font-size",`${n}px`),ao(e)):((0,O.select)(e).style("font-size",null),(0,O.select)(e).style("opacity","0")),!0}return!1},co=(e,t,n)=>{if(!n.filter((e=>""!==e)).every((t=>e.crossValue.includes(t))))return so.zero;switch(e.depth){case t+1:return so.high;case t+2:return so.low;default:return so.zero}},so={high:"font-size:14px;z-index:5;pointer-events: none;",low:"font-size:8px;opacity:0.7;z-index:4;",zero:"font-size:0px;opacity:0;z-index:4;"},uo=(e,t)=>{let n=function(){var e=V,t=!1,n=1,r=1,i=[0],a=N,o=N,l=N,c=N,s=N;function u(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(f),i=[0],t&&e.eachBefore(T),e}function f(t){var n=i[t.depth],r=t.x0+n,u=t.y0+n,f=t.x1-n,d=t.y1-n;f<r&&(r=f=(r+f)/2),d<u&&(u=d=(u+d)/2),t.x0=r,t.y0=u,t.x1=f,t.y1=d,t.children&&(n=i[t.depth+1]=a(t)/2,r+=s(t)-n,u+=o(t)-n,(f-=l(t)-n)<r&&(r=f=(r+f)/2),(d-=c(t)-n)<u&&(u=d=(u+d)/2),e(t,r,u,f,d))}return u.round=function(e){return arguments.length?(t=!!e,u):t},u.size=function(e){return arguments.length?(n=+e[0],r=+e[1],u):[n,r]},u.tile=function(t){return arguments.length?(e=function(e){if("function"!=typeof e)throw new Error;return e}(t),u):e},u.padding=function(e){return arguments.length?u.paddingInner(e).paddingOuter(e):u.paddingInner()},u.paddingInner=function(e){return arguments.length?(a="function"==typeof e?e:z(+e),u):a},u.paddingOuter=function(e){return arguments.length?u.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):u.paddingTop()},u.paddingTop=function(e){return arguments.length?(o="function"==typeof e?e:z(+e),u):o},u.paddingRight=function(e){return arguments.length?(l="function"==typeof e?e:z(+e),u):l},u.paddingBottom=function(e){return arguments.length?(c="function"==typeof e?e:z(+e),u):c},u.paddingLeft=function(e){return arguments.length?(s="function"==typeof e?e:z(+e),u):s},u}().size([e,t]).paddingInner((e=>1+2*(e.height-1)));return n.tile(D),n},fo=(e,t)=>t.every((t=>e.crossValue.includes(t)));function ho(e,t,n,r,i,a){(function(e,t,n,r,i){let a=e.x0,o=e.y0,l=e.x1-e.x0,c=e.y1-e.y0,s=i.x1-i.x0,u=i.y1-i.y0,f=s/l,d=u/c;n.each((e=>{let n=(e.x0-a)*f,i=(e.y0-o)*d,l=So(e)*f,c=Mo(e)*d,s=fo(e,t)&&e.data.name!==t[r-1];e.mapLevel[r]={x0:n,x1:l+n,y0:i,y1:c+i,visible:s,opacity:s?1:0}})),e.mapLevel[r].levelRoot=!0})(e,t,n,r,i),e.mapLevel[r].levelRoot=!0,function(e,t,n,r){let i=uo(t,n)(w(e.data).sum((e=>e.size))).descendants(),a=e.descendants();i.forEach(((e,t)=>{a[t].mapLevel[r].x0=i[t].x0,a[t].mapLevel[r].x1=i[t].x1,a[t].mapLevel[r].y0=i[t].y0,a[t].mapLevel[r].y1=i[t].y1}))}(e,a.node().getBoundingClientRect().width,a.node().getBoundingClientRect().height,r),po(n,r)}var go=(e,t)=>{e.each(((e,n,r)=>{let i=(0,O.select)(r[n]).selectAll("text");e.mapLevel[t].textAttributes={dx:i.attr("dx"),dy:i.attr("dy"),class:i.attr("class"),"font-size":i.style("font-size")}}))};function po(e,t){e.selectAll("text").each(((e,n,r)=>{let i=(0,O.select)(r[n]),a=(0,O.select)(r[n]).datum(),o=i.attr("class");a.mapLevel[t].textLockedAt={opacity:to[o]}}))}function _o(e,t,n,r,i,a,o,l,c,s){if(!e.children)return;i.treemapLevel<e.depth?i.treemapRoute.push(e.crossValue):i.treemapRoute.pop(),i.treemapLevel=e.depth;let u=e.crossValue;(!e.mapLevel[i.treemapLevel]||!e.mapLevel[i.treemapLevel].levelRoot)&&ho(e,u,n,i.treemapLevel,l,a),bo(e,t,n,r,i,a,o,l,i.treemapLevel,u,c,s)}function bo(e,t,n,r,i,a,o,l,c,s,u,f,d=500,h=!0){let g=e.parent,p=o.transition("main transition").duration(d).ease(m.KS);n.each((e=>e.target=e.mapLevel[c])),Xa(e)||yo(n,u),n.transition(p).tween("data",(e=>{let t=P.c(e.current,e.target);return n=>e.current=t(n)})).styleTween("opacity",(e=>()=>e.current.opacity)).attrTween("pointer-events",(e=>()=>e.target.visible?"all":"none")),t.transition(p).filter((e=>e.target.visible)).styleTween("x",(e=>()=>`${e.current.x0}px`)).styleTween("y",(e=>()=>`${e.current.y0}px`)).styleTween("width",(e=>()=>e.current.x1-e.current.x0+"px")).styleTween("height",(e=>()=>e.current.y1-e.current.y0+"px")),r.transition(p).filter((e=>e.target.visible)).attrTween("x",(e=>()=>e.current.x0+So(e.current)/2)).attrTween("y",(e=>()=>e.current.y0+Mo(e.current)/2)).end().catch((()=>wo(n))).then((()=>{Xa(e)||(Za(_),ro(_),async function(e,t,n=400){let r=t.transition("text fade transition").duration(n).ease(m.KS);await e.transition(r).filter((e=>e.target.visible)).tween("data",((e,t,n)=>{let r=n[t],i=P.c(mo(e),vo(r));return t=>e.current.opacity=i(t)})).styleTween("opacity",(e=>()=>e.current.opacity)).end().catch((e=>console.error("Exception in text fade transition",e))).then((()=>e.each(((e,t,n)=>eo(n[t])))))}(r,o,d),h&&go(n,c),wo(n,u,g))})).catch((e=>{console.error("Exception completing promises after main transition",e),wo(n,u,g)})),Xa(e)?Qa(n):(r.each(((e,t,n)=>Ja(n[t]))),Ka(n,c,s));let _=no(n);g?u.hide(!1).text(e.label).onClick((()=>{_o(g,t,n,r,i,a,o,l,u,f);let e=a.node().getRootNode().host.parentElement;ci(e,g,f)}))():u.hide(!0)()}var mo=e=>e.target.textLockedAt.opacity,vo=e=>to[O.select(e).attr("class")],yo=(e,t)=>{t.deactivate(!0),e.each(((e,t,n)=>{O.select(n[t]).selectAll("rect").style("pointer-events","none")}))},wo=(e,t)=>{t&&t.deactivate(!1),e.each(((e,t,n)=>{O.select(n[t]).selectAll("rect").style("pointer-events",null)}))},xo='<button id="goto-parent">Goto parent</button>\n',ko={leaf:"leafnode",branch:"branchnode",root:"rootnode"},So=e=>e.x1-e.x0,Mo=e=>e.y1-e.y0,Ao=(e,t)=>0===t.depth?ko.root:((e,t)=>t.depth===e)(e,t)?ko.leaf:ko.branch;function To(e,t){t.treemaps||(t.treemaps={});let n=Pa(t),r=qa(t,n.map((e=>e.data)));r&&this._container.classList.add("has-legend");let i=Ha().elementsPrefix("treemap");if(e.datum(n).call(i),r){let n=t.realValues[1];if("string"===t.mainValues.find((e=>e.name===n))?.type){let n=Oi().settings(t).scale(r);e.call(n)}else{let t=wa().scale(r);e.call(t)}}let a=i.chartEnter(),o=i.chartDiv();i.chartTitle().each(((e,t,n)=>O.select(n[t]).text(e.split))),a.merge(o).select("svg").select("g.treemap").each((function({split:e,data:n}){let i=O.select(this);t.treemaps[e]||(t.treemaps[e]={}),function(){let e=null,t=null,n=null,r=null,i=null,a=null,o=o=>{a=function(e){let t=null,n=null,r=!0,i=!1,a=Gr(e,".parent-controls",(()=>e.append("div").attr("class","parent-controls").style("display",r?"none":"").html(xo))),o=()=>{a.style("display",r?"none":"").select("#goto-parent").style("pointer-events",i?"none":null).html(`⇪ ${n}`).on("click",(()=>t()))};return o.deactivate=(...e)=>{if(!e.length)return i;i=e[0];let t=a.select("#goto-parent");return i?t.style("pointer-events","none"):t.style("pointer-events",null),o},o.hide=(...e)=>e.length?(r=e[0],o):r,o.text=(...e)=>e.length?(n=e[0],o):n,o.onClick=(...e)=>e.length?(t=e[0],o):t,o}(i),a();let l=n.height;e.treemapLevel||(e.treemapLevel=0),e.treemapRoute||(e.treemapRoute=[]),uo(i.node().getBoundingClientRect().width,i.node().getBoundingClientRect().height)(n);let c=o.selectAll("g").data(n.descendants()),s=c.enter().append("g");s.append("rect"),s.append("text");let u=s.merge(c).sort(((e,t)=>t.depth-e.depth)),f=u.select("rect").attr("class",(e=>`treerect ${Ao(l,e)}`)).style("x",(e=>e.x0)).style("y",(e=>e.y0)).style("width",(e=>So(e))).style("height",(e=>Mo(e)));f.style("fill",(e=>Ao(l,e)===ko.leaf?e.data.color?r(e.data.color):t.colorStyles.series:"transparent"));let d=u.filter((e=>0!==e.value)).select("text").attr("x",(e=>e.x0+So(e)/2)).attr("y",(e=>e.y0+Mo(e)/2)).text((e=>e.label)),h=f.filter((e=>0===e.crossValue.length)).datum();(function(e,t){e.each((e=>{e.mapLevel=[],e.mapLevel[0]={x0:e.x0,x1:So(e)+e.x0,y0:e.y0,y1:Mo(e)+e.y0,visible:!0,opacity:1}})),t.mapLevel[0].levelRoot=!0,po(e,0)})(u,h),Ka(u,0,[]),ro(no(u)),go(u,0),0===e.treemapRoute.length&&e.treemapRoute.push(h.crossValue),f.filter((e=>e.children)).on("click",((n,r)=>_o(r,f,u,d,e,i,o,h,a,t))),function(e,t,n,r,i,a,o,l,c){if(r.treemapLevel>0){let s=o.crossValue;bo(o,e,t,n,r,i,a,o,0,s,l,c,1,!1),r.treemapRoute.slice(1,r.treemapRoute.length).forEach((s=>{let u=t.filter((e=>e.crossValue===s)).datum(),f=u.crossValue;ho(u,f,t,u.depth,o,i),bo(u,e,t,n,r,i,a,o,u.depth,f,l,c,1,!1)}))}}(f,u,d,e,i,o,h,a,t)};return o.settings=(...n)=>n.length?(e=n[0],t=n[1],o):e,o.data=(...e)=>e.length?(n=e[0],o):n,o.color=(...e)=>e.length?(r=e[0],o):r,o.container=(...e)=>e.length?(i=e[0],o):i,o}().settings(t.treemaps[e],t).data(n).container(O.select(O.select(this.parentNode).node().parentNode)).color(r)(i),si().settings(t).centered(!0)(i.selectAll("g"))}))}To.plugin={type:"Treemap",name:"Treemap",category:"Hierarchial Chart",max_cells:3e3,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var Eo=[qi,na,ca,ha,pa,ba,ka,Ca,Na,To,Wa,Ma],Co=(e,t)=>{let n=a.cp(`#${e}`);return n.opacity=t,n+""},Vo={initial:{type:"number",count:1},selectMode:"select"},No=`:host .chart{--d3fc-local-full--gradient:var(--d3fc-full--gradient,linear-gradient(#4d342f 0%,#e4521b 22.5%,#feeb65 42.5%,#f0f0f0 50%,#dcedc8 57.5%,#42b3d5 67.5%,#1a237e 100%));--d3fc-local-positive--gradient:var(--d3fc-positive--gradient,linear-gradient(#dcedc8 0%,#42b3d5 35%,#1a237e 100%));--d3fc-local-negative--gradient:var(--d3fc-negative--gradient,linear-gradient(#feeb65 100%,#e4521b 70%,#4d342f 0%));--d3fc-local-series:var(--d3fc-series,rgba(31,119,180,0.5));--d3fc-local-series-1:var(--d3fc-series-1,#0366d6);--d3fc-local-series-2:var(--d3fc-series-2,#ff7f0e);--d3fc-local-series-3:var(--d3fc-series-3,#2ca02c);--d3fc-local-series-4:var(--d3fc-series-4,#d62728);--d3fc-local-series-5:var(--d3fc-series-5,#9467bd);--d3fc-local-series-6:var(--d3fc-series-6,#8c564b);--d3fc-local-series-7:var(--d3fc-series-7,#e377c2);--d3fc-local-series-8:var(--d3fc-series-8,#7f7f7f);--d3fc-local-series-9:var(--d3fc-series-9,#bcbd22);--d3fc-local-series-10:var(--d3fc-series-10,#17becf);}:host .chart .series{fill:var(--d3fc-local-series);}:host .chart .series-1{fill:var(--d3fc-local-series-1);}:host .chart .series-2{fill:var(--d3fc-local-series-2);}:host .chart .series-3{fill:var(--d3fc-local-series-3);}:host .chart .series-4{fill:var(--d3fc-local-series-4);}:host .chart .series-5{fill:var(--d3fc-local-series-5);}:host .chart .series-6{fill:var(--d3fc-local-series-6);}:host .chart .series-7{fill:var(--d3fc-local-series-7);}:host .chart .series-8{fill:var(--d3fc-local-series-8);}:host .chart .series-9{fill:var(--d3fc-local-series-9);}:host .chart .series-10{fill:var(--d3fc-local-series-10);}:host{user-select:none;}:host .chart{position:absolute;box-sizing:border-box;left:0;top:0;width:100%;height:100%;padding:12px;overflow:hidden;}:host .chart.heatmap d3fc-group.cartesian-chart,:host .chart.treemap d3fc-group.cartesian-chart{grid-template-columns:minmax(0em,max-content)auto 1fr auto minmax(0em,max-content);grid-template-rows:minmax(0em,max-content)auto 1fr auto minmax(0em,max-content);}:host .chart .chart-label{display:none;}:host .chart.heatmap{padding-right:120px;}:host .chart.sunburst{padding:0;font-size:14px;}:host .chart.sunburst .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto;}:host .chart.sunburst .inner-container div{overflow:hidden;}:host .chart.sunburst .inner-container .sunburst-container:not(:only-child) svg{transform:translate(0,-27px);}:host .chart.sunburst .inner-container svg{width:100%;height:100%;}:host .chart.sunburst .inner-container path{fill:var(--d3fc-series,rgba(31,119,180,0.5));}:host .chart.sunburst .inner-container text.segment,:host .chart.sunburst .inner-container text.parent{text-anchor:middle;user-select:none;pointer-events:none;fill:var(--d3fc-treedata--labels,rgb(51,51,51));}:host .chart.sunburst .inner-container div.title-container{margin-top:5px;}:host .chart.has-legend{padding-right:120px;}:host .chart.treemap .treemap-container{position:relative;}:host .chart.treemap .treemap-container:not(:only-child){width:calc(100% - 12px);height:calc(100% - 12px);}:host .chart.treemap .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto;}:host .chart.treemap .inner-container div{overflow:hidden;}:host .chart.treemap .inner-container svg{width:100%;height:100%;}:host .chart.treemap .inner-container .treerect{stroke:var(--d3fc-treedata-axis--lines,var(--d3fc-axis--lines,white));fill:var(--d3fc-series,rgba(31,119,180,0.5));}:host .chart.treemap .inner-container .treerect:hover{cursor:pointer;stroke:var(--d3fc-treedata--hover-highlight,black);stroke-opacity:1;}:host .chart.treemap .inner-container .rootnode{opacity:0;pointer-events:none;z-index:0;}:host .chart.treemap .inner-container .branchnode{opacity:0;}:host .chart.treemap .inner-container .branchnode:hover{fill-opacity:0.1;opacity:1;fill:var(--d3fc-treedata--hover-highlight,black);}:host .chart.treemap .inner-container .leafnode{fill-opacity:0.8;}:host .chart.treemap .inner-container .leafnode:hover{fill-opacity:0.5;}:host .chart.treemap .inner-container #hidden{opacity:0;pointer-events:none;z-index:0;}:host .chart.treemap .inner-container .top{font-size:14px;z-index:5;pointer-events:none;}:host .chart.treemap .inner-container .mid{font-size:8px;opacity:0.7;z-index:4;}:host .chart.treemap .inner-container .lower{font-size:0px;opacity:0;z-index:4;}:host .chart.treemap .inner-container text{fill:var(--d3fc-treedata--labels,rgb(51,51,51));}:host .chart.treemap .inner-container text.title{dominant-baseline:hanging;}:host .chart.treemap .inner-container .parent-controls{position:absolute;top:12px;right:auto;left:30px;width:auto;z-index:4;transition:box-shadow 1s;}:host .chart.treemap .inner-container .parent-controls:hover{box-shadow:2px 2px 6px#000;transition:box-shadow 0.2s;}:host .chart .x-label{height:1.2em!important;line-height:1em!important;}:host .chart .x-label,:host .chart .y-label{color:var(--d3fc-label--color,inherit);font-size:14px;}:host .chart d3fc-canvas.plot-area{display:none;}:host .chart.xyscatter d3fc-canvas.plot-area,:host .chart.xyline d3fc-canvas.plot-area,:host .chart.ohlc d3fc-canvas.plot-area,:host .chart.candlestick d3fc-canvas.plot-area,:host .chart.heatmap d3fc-canvas.plot-area{display:block;}:host .chart .y-axis text,:host .chart .x-axis text{fill:var(--d3fc-axis-ticks--color,rgb(80,80,80));font-size:11px;}:host .chart .y-axis path,:host .chart .x-axis path{stroke:var(--d3fc-axis--lines,rgb(180,210,225));}:host .chart .splitter-label{display:inline-block;margin:0 10px;cursor:pointer;}:host .chart .splitter-label::after{margin-left:5px;color:var(--d3fc-axis--lines,rgb(180,210,225));}:host .chart .splitter-label:hover::after{color:var(--d3fc-axis-ticks--color,rgb(80,80,80));}:host .chart .splitter-label.disabled::after{color:rgba(80,80,80,0.3);}:host .chart .splitter-label.disabled{cursor:default;}:host .chart .y-label.left-label .splitter-label::after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:16px;height:12px;-webkit-mask-image:var(--sort-desc-icon--mask-image);mask-image:var(--sort-desc-icon--mask-image);}:host .chart .y-label.right-label .splitter-label::after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:16px;height:12px;-webkit-mask-image:var(--sort-asc-icon--mask-image);mask-image:var(--sort-asc-icon--mask-image);}:host .chart.ybar .y-axis path,:host .chart.yline .y-axis path,:host .chart.xyline .y-axis path,:host .chart.xyline .x-axis path,:host .chart.yarea .y-axis path,:host .chart.yscatter .y-axis path,:host .chart.xyscatter .y-axis path,:host .chart.xyscatter .x-axis path,:host .chart.xbar .x-axis path{visibility:hidden;}:host .chart .y-label{white-space:nowrap;}:host .chart .nearbyTip{fill:var(--d3fc-series,rgba(31,119,180,0.5));}:host #dragHandles{position:absolute;top:0px;right:0px;left:auto;pointer-events:none;}:host #dragHandles rect{pointer-events:all;}:host .label rect{fill:none;}:host .legend-container{position:absolute;top:12px;right:12px;left:auto;width:150px;height:280px;}:host .legend-container.legend-color{width:90px;height:150px;}:host .legend-container[borderbox-on-hover="true"]{transition:box-shadow 1s;}:host .legend-container[borderbox-on-hover="true"]:hover{background-color:var(--d3fc-legend--background,#ffffff);transition:box-shadow 0.2s,background-color 0.2s;}:host .legend-container .legend{font-size:8pt;width:100%;}:host .legend-container .legend .cell{cursor:pointer;}:host .legend-container .legend .cell path{fill:var(--d3fc-series,rgba(31,119,180,0.5));stroke:var(--d3fc-series,rgb(31,119,180));}:host .legend-container .legend .cell.hidden path{fill:rgba(204,204,204,0.5);stroke:rgb(204,204,204);}:host .legend-container .legend .cell.hidden circle{fill:rgb(204,204,204)!important;}:host .legend-container text{fill:var(--d3fc-legend--text,rgb(51,51,51));}:host .legend-container .label:hover{fill:rgb(34,160,206);}:host .legend-container #legend-axis path{stroke:var(--d3fc-legend--text,rgb(51,51,51));}:host .legend-container .legend-controls{margin-left:12px;}:host .legend-container .legend-controls #up-arrow,:host .legend-container .legend-controls #down-arrow{cursor:pointer;color:rgb(31,119,180);}:host .legend-container .legend-controls #up-arrow.disabled,:host .legend-container .legend-controls #down-arrow.disabled{cursor:default;color:rgb(51,51,51);}:host .heatmap .legend-container.legend-color{height:200px;}:host .treemap .legend-container.legend-color{height:200px;}:host .treemap .legend-container:not(.legend-color){width:100px;}:host .zoom-controls{position:absolute;top:10px;left:0;width:100%;text-align:center;}:host .zoom-controls button{-webkit-appearance:none;background:var(--plugin--background,rgb(247,247,247));border:1px solid var(--inactive--color,rgb(204,204,204));color:var(--d3fc-label--color,inherit);font-size:12px;padding:8px;opacity:0.5;cursor:pointer;}:host .zoom-controls button:hover{opacity:1;}:host .parent-controls{position:absolute;top:30px;right:145px;width:100%;text-align:right;}:host .parent-controls button{-webkit-appearance:none;background:rgb(247,247,247);border:1px solid rgb(204,204,204);padding:10px;opacity:0.5;cursor:pointer;}:host .parent-controls button:hover{background:rgb(230,230,230);}:host div.tooltip{position:absolute;text-align:left;font-size:12px;font-weight:300;white-space:nowrap;padding:0.5em;background:var(--d3fc-tooltip--background,#ffffff);color:var(--d3fc-tooltip--color,black);border:1px solid var(--d3fc-tooltip--border-color,#777777);box-shadow:var(--d3fc-tooltip--box-shadow,none);pointer-events:none;}:host div.tooltip ul{margin:0;padding:0;list-style-type:none;}${function(){let e=document.querySelector("head").querySelectorAll("style"),t=[];return e.forEach((e=>{-1!==e.innerText.indexOf("d3fc-")&&t.push(e.innerText)})),t.join("")}()}`,zo=["crossValues","mainValues","realValues","splitValues","filter","data","size","colorStyles","textStyles","agg_paths","treemaps","axisMemo"];Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),function(...e){e=new Set(e.length>0?e:Eo.map((e=>e.plugin.name))),Eo.forEach((t=>{if(e.has(t.plugin.name)){let e=t.plugin.name.toLowerCase().replace(/[ \t\r\n\/]*/g,""),n=`perspective-viewer-d3fc-${e}`;customElements.define(n,class extends HTMLElement{constructor(){super(),this._chart=null,this._settings=null,this.render_warning=!0}connectedCallback(){this._initialized||(this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`<style>${No}</style>`,this.shadowRoot.innerHTML+='<div id="container" class="chart"></div>',this._container=this.shadowRoot.querySelector(".chart"),this._initialized=!0)}get name(){return t.plugin.name}get category(){return t.plugin.category}get select_mode(){return t.plugin.selectMode||"select"}get min_config_columns(){return t.plugin.initial?.count||Vo.initial.count}get config_column_names(){return t.plugin.initial?.names||Vo.initial.names}get max_cells(){return t.plugin.max_cells||4e3}set max_cells(e){t.plugin.max_cells=e}get max_columns(){return t.plugin.max_columns||50}set max_columns(e){t.plugin.max_columns=e}async render(){var e=document.createElement("canvas"),t=this.shadowRoot.querySelector("#container");e.width=t.offsetWidth,e.height=t.offsetHeight;let n=e.getContext("2d");n.fillStyle=window.getComputedStyle(this).getPropertyValue("--plugin--background")||"white",n.fillRect(0,0,e.width,e.height);let r=window.getComputedStyle(this).getPropertyValue("color"),i=Array.from(this.shadowRoot.querySelectorAll("svg:not(#dragHandles)"));for(let e of i.reverse()){var a=document.createElement("img");a.width=e.parentNode.offsetWidth,a.height=e.parentNode.offsetHeight;let t=e.cloneNode(!0);t.hasAttribute("viewBox")||t.setAttribute("viewBox",`0 0 ${a.width} ${a.height}`),t.setAttribute("xmlns","http://www.w3.org/2000/svg");for(let e of t.querySelectorAll("text"))e.setAttribute("fill",r);var o=(new XMLSerializer).serializeToString(t);o=o.replace(/[^\x00-\x7F]/g,"");let i=new Promise(((e,t)=>{a.onload=e,a.onerror=t}));try{a.src=`data:image/svg+xml;base64,${btoa(o)}`,await i}catch{let e=new Promise(((e,t)=>{a.onload=e,a.onerror=t}));a.src=`data:image/svg+xml;utf8,${o}`,await e}n.drawImage(a,e.parentNode.offsetLeft,e.parentNode.offsetTop,a.width,a.height)}let l=Array.from(this.shadowRoot.querySelectorAll("canvas"));for(let e of l.reverse())n.drawImage(e,e.parentNode.offsetLeft,e.parentNode.offsetTop,e.width/window.devicePixelRatio,e.height/window.devicePixelRatio);return await new Promise((t=>e.toBlob((e=>t(e)))),"image/png")}async draw(e,t,n){null!==this.offsetParent?(this._staged_view=void 0,this._settings&&(this._settings.axisMemo=[[1/0,-1/0],[1/0,-1/0]]),await this.update(e,t,n,!0)):this._staged_view=[e,t,n]}async update(e,n,r,i=!1){if(null===this.offsetParent)return;let o,l,c=this.parentElement,s="Sunburst"!==t.plugin.name;o=n&&r?e.to_json({end_row:r,end_col:n,leaves_only:s}):n?e.to_json({end_col:n,leaves_only:s}):r?e.to_json({end_row:r,leaves_only:s}):e.to_json({leaves_only:s}),l=await Promise.all([c.save(),c.getTable().then((e=>e.schema(!1))),e.expression_schema(!1),e.schema(!1),o,e.get_config()]);let[u,f,d,h,g,p]=l;this.config=u;let _=this.config.columns,b=function(e){let t=f[e];return t||(t=d[e]),t},{columns:m,group_by:v,split_by:y,filter:w}=p,x=v.length>0?g.reduce(((e,t)=>{if(t.__ROW_PATH__&&t.__ROW_PATH__.length==v.length)e.agg_paths.push(e.aggs.slice()),e.rows.push(t);else{let n=t.__ROW_PATH__.filter((e=>void 0!==e)).length;e.aggs[n]=t,e.aggs=e.aggs.slice(0,n+1)}return e}),{rows:[],aggs:[],agg_paths:[]}):{rows:g},k=x.rows.map(((e,t)=>v.length?e:{...e,__ROW_PATH__:[t]})),S={realValues:_,crossValues:v.map((e=>({name:e,type:b(e)}))),mainValues:m.map((e=>({name:e,type:h[e]}))),splitValues:y.map((e=>({name:e,type:b(e)}))),filter:w,data:k,agg_paths:x.agg_paths};this._chart=t;let M={set:(e,t,n)=>(zo.includes(t)||this._container&&this._container.dispatchEvent(new Event("perspective-plugin-update",{bubbles:!0,composed:!0})),e[t]=n,!0)};this._settings=new Proxy({axisMemo:[[1/0,-1/0],[1/0,-1/0]],...this._settings,...S},M),this._settings.splitMainValues&&this._settings.splitMainValues.length>=m.length&&(this._settings.splitMainValues=[]),((e,t)=>{if(!t.colorStyles){let n={scheme:[],gradient:{},interpolator:{},grid:{}},r=(e=>{let t=getComputedStyle(e);return e=>t?.getPropertyValue(e)})(e);n.series=r("--d3fc-local-series");for(let e=1;;e++){let t=`series-${e}`,i=r(`--d3fc-local-${t}`);if(!i)break;n[t]=i,n.scheme.push(i)}n.opacity=(e=>a.cp(e).opacity)(n.series),n.grid.gridLineColor=r`--d3fc-gridline--color`,["full","positive","negative"].forEach((e=>{let t=r(`--d3fc-local-${e}--gradient`);n.gradient[e]=((e,t)=>{let n=rr.K(e)[0].colorStops;return n.map(((e,r)=>[e.length?e.length.value/100:r/(n.length-1),Co(e.value,t)])).sort(((e,t)=>e[0]-t[0]))})(t,n.opacity)})),t.colorStyles=n}if(!t.textStyles){let n=window.getComputedStyle(e),r=n.getPropertyValue("color"),i=`12px ${n.getPropertyValue("font-family")}`;t.textStyles={color:r,font:i}}})(this._container,this._settings),i&&(this._container.innerHTML=""),this._draw(),await new Promise((e=>requestAnimationFrame(e)))}async clear(){this._container&&(this._container.innerHTML="")}_draw(){if(null!==this.offsetParent){let t=O.select(this._container),n=`chart ${e}`;this._settings.size=this._container.getBoundingClientRect(),this._settings.data.length>0?this._chart(t.attr("class",n),this._settings):t.attr("class",`${n} disabled`)}}async resize(e){if(null!==this.offsetParent)if(void 0!==this._settings?.data)this._draw();else{let[e,t,n]=this._staged_view;this._staged_view=void 0,this.draw(e,t,n)}}async restyle(...e){let t=this._settings;t&&(delete t.colorStyles,delete t.textStyles,await this.draw(...e))}async delete(){this._container.innerHTML=""}getContainer(){return this._container}save(){let e={...this._settings};return zo.forEach((t=>{delete e[t]})),e}restore(e){let t={};for(let e of zo)void 0!==this._settings?.[e]&&(t[e]=this._settings?.[e]);this._settings={...t,...e}}}),customElements.whenDefined("perspective-viewer").then((()=>function(e){customElements.get("perspective-viewer").registerPlugin(e)}(n)))}}))}()},9172:(e,t,n)=>{"use strict";n.r(t),n(7308);var r=n(7896),i=n.n(r);const a={types:{float:{filter_operator:"==",aggregate:"sum",format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},string:{filter_operator:"==",aggregate:"count"},integer:{filter_operator:"==",aggregate:"sum",format:{}},boolean:{filter_operator:"==",aggregate:"count"},datetime:{filter_operator:"==",aggregate:"count",format:{dateStyle:"short",timeStyle:"medium"},null_value:-1},date:{filter_operator:"==",aggregate:"count",format:{dateStyle:"short"},null_value:-1}}};function o(e){const t={};if(s().types[e]&&Object.assign(t,s().types[e]),t.type){const e=o(t.type);return Object.assign(e,t),e}return t}function l(e){return e&&"object"==typeof e&&!Array.isArray(e)}function c(e,...t){if(!t.length)return e;const n=t.shift();if(l(e)&&l(n))for(const t in n)l(n[t])?(e[t]||Object.assign(e,{[t]:{}}),c(e[t],n[t])):Object.assign(e,{[t]:n[t]});return c(e,...t)}function s(){return globalThis.__PERSPECTIVE_CONFIG__||(globalThis.__PERSPECTIVE_CONFIG__=c(a,globalThis.__TEMPLATE_CONFIG__||{})),globalThis.__PERSPECTIVE_CONFIG__}function u(e){return e.x>=0?this._column_types[e.x]:this._row_header_types[e.row_header_x-1]}function f(e){let t=e._view_cache.config.row_pivots.length-1,n=Array.from(e.children[0].children[0].children);if(n.length>0){let[r]=n.splice(n.length-1,1);for(let n of r?.children){let r=e.getMeta(n),i=r.column_header?.[r.column_header?.length-1],a=this._config.sort.find((e=>e[0]===i)),o=r.row_header_x===t,l=typeof r.x>"u";o=o||(r.x+1)%this._config.columns.length==0,n.classList.toggle("psp-header-border",o),n.classList.toggle("psp-header-group",!1),n.classList.toggle("psp-header-leaf",!0),n.classList.toggle("psp-is-top",!1),n.classList.toggle("psp-header-corner",l),n.classList.toggle("psp-header-sort-asc",!!a&&"asc"===a[1]),n.classList.toggle("psp-header-sort-desc",!!a&&"desc"===a[1]),n.classList.toggle("psp-header-sort-col-asc",!!a&&"col asc"===a[1]),n.classList.toggle("psp-header-sort-col-desc",!!a&&"col desc"===a[1]);let c=u.call(this,r),s="integer"===c||"float"===c,f="string"===c,d="date"===c,h="datetime"===c;n.classList.toggle("psp-align-right",s),n.classList.toggle("psp-align-left",!s),n.classList.toggle("psp-menu-open",this._open_column_styles_menu[0]===r._virtual_x),n.classList.toggle("psp-menu-enabled",(f||s||d||h)&&!l),n.classList.toggle("psp-is-width-override",void 0!==e._column_sizes?.override[r.size_key])}}}function d(e){let t=e._view_cache.config.row_pivots.length-1,n=Array.from(e.children[0].children[0].children),r=[],i=new Set,a=e.children[0];for(let o=0;o<n.length;o++){let n=a.rows[o],l=new Set;for(let a=0;a<n.cells.length;a++){let c=n.cells[a];c.style.backgroundColor="";let s=e.getMeta(c),u=s.row_header_x===t||s.x>=0;c.classList.toggle("psp-align-right",!1),c.classList.toggle("psp-align-left",!1),c.classList.toggle("psp-header-group",!0),c.classList.toggle("psp-header-leaf",!1),c.classList.toggle("psp-header-border",u),c.classList.toggle("psp-header-group-corner",typeof s.x>"u"),c.classList.toggle("psp-color-mode-bar",!1),c.classList.toggle("psp-header-sort-asc",!1),c.classList.toggle("psp-header-sort-desc",!1),c.classList.toggle("psp-header-sort-col-asc",!1),c.classList.toggle("psp-header-sort-col-desc",!1);let f,d,h=n.cells[a],g=a;for(;r[o]&&r[o][g];++g);for(l.add(g),f=g;f<g+h.colSpan;++f)for(d=o;d<o+h.rowSpan;++d)r[d]||(r[d]=[]),r[d][f]=!0;h.classList.toggle("psp-is-top",0===o||!i.has(f))}i=l}}var h=Symbol("Plugin Symbol");function g(e,t,[,,,,,n,r],[,,,,,i,a]){let o=this._ids?.[e.dy]?.join("|"),l=e.column_header.join("|");if(this.last_reverse_columns?.has(l)&&this.last_reverse_ids?.has(o)){let c=this.last_reverse_ids?.get(o),s=this.last_reverse_columns.get(l);this._is_old_viewport?this.last_meta?.[s]?.[c]>e.user?(t.style.setProperty("--pulse--background-color-start",i),t.style.setProperty("--pulse--background-color-end",a),"pulse_neg"===t.style.animationName?t.style.animation="pulse_neg2 0.5s linear":t.style.animation="pulse_neg 0.5s linear"):this.last_meta?.[s]?.[c]<e.user?(t.style.setProperty("--pulse--background-color-start",n),t.style.setProperty("--pulse--background-color-end",r),"pulse_pos"===t.style.animationName?t.style.animation="pulse_pos2 0.5s linear":t.style.animation="pulse_pos 0.5s linear"):c!==e.dy&&(t.style.animation=""):t.style.animation=""}else t.style.animation=""}function p(e,t){return i().mix(e,`rgb(${t[0]},${t[1]},${t[2]})`,.5).hex()}function _([e,t,n,r],i=[255,255,255]){function a(e,t){return 255*((1-r)*(i[e]/255)+r*(t/255))}return[a(0,e),a(1,t),a(2,n)]}function b([e,t,n]){return Math.sqrt(e*e*.299+t*t*.587+n*n*.114)>130?"#161616":"#ffffff"}function m(e){let t=i()(e),n=function(e){let[t,n,r]=e.rgb(),[i,a,o]=e.set("hsl.h",(e.get("hsl.h")-15)%360).rgb(),[l,c,s]=e.set("hsl.h",(e.get("hsl.h")+15)%360).rgb();return`linear-gradient(to right top,rgb(${i},${a},${o}),rgb(${t},${n},${r}) 50%,rgb(${l},${c},${s}))`}(t),r=t.rgb();return[e,...r,n,`rgba(${r[0]},${r[1]},${r[2]},1)`,`rgba(${r[0]},${r[1]},${r[2]},0)`]}function v(e,t,n){let r,i,a=n.user>0,o=n.user<0;r=void 0!==e?.pos_bg_color?e.pos_bg_color:this._pos_bg_color,i=void 0!==e?.neg_bg_color?e.neg_bg_color:this._neg_bg_color;let l=a?r:o?i:["",...this._plugin_background,""];{let[a,o,c,s,u]=l;if(t.style.position="","color"===e?.number_bg_mode)t.style.animation="",t.style.backgroundColor=a;else if("gradient"===e?.number_bg_mode){let r=Math.max(0,Math.min(1,Math.abs(n.user/e.bg_gradient))),i=b(_([o,c,s,r],this._plugin_background));t.style.animation="",t.style.color=i,t.style.backgroundColor=`rgba(${o},${c},${s},${r})`}else"pulse"===e?.number_bg_mode?(g.call(this,n,t,r,i),t.style.backgroundColor=""):(t.style.animation="",t.style.backgroundColor="")}let[c,s,u,f,d]=(()=>void 0!==e?.pos_fg_color?a?e.pos_fg_color:o?e.neg_fg_color:["",...this._plugin_background,""]:a?this._pos_fg_color:o?this._neg_fg_color:["",...this._plugin_background,""])();if("disabled"===e?.number_fg_mode)if("color"===e?.number_bg_mode){let e=this._plugin_background,n=b(_([l[1],l[2],l[3],1],e));t.style.color=n}else"gradient"===e?.number_bg_mode||(t.style.color="");else"bar"===e?.number_fg_mode?(t.style.color="",t.style.position="relative",""!==d&&t.children.length>0&&t.children[0].nodeType===Node.ELEMENT_NODE&&(t.children[0].style.background=d)):("color"===e?.number_fg_mode||!e?.number_fg_mode)&&(t.style.color=c)}function y(e,t,n){let r=n.column_header?.[n.column_header?.length-1],[a,o,l,c,s]=(()=>void 0!==e?.color?e.color:this._color)();if("foreground"===e?.string_color_mode&&null!==n.user)t.style.color=a,t.style.backgroundColor="","link"===e?.format&&(t.children[0].style.color=a);else if("background"===e?.string_color_mode&&null!==n.user){let e=b(_([o,l,c,1],this._plugin_background));t.style.color=e,t.style.backgroundColor=a}else if("series"===e?.string_color_mode&&null!==n.user){this._series_color_map.has(r)||(this._series_color_map.set(r,new Map),this._series_color_seed.set(r,0));let e=this._series_color_map.get(r);if(!e.has(n.user)){let t=this._series_color_seed.get(r);e.set(n.user,t),this._series_color_seed.set(r,t+1)}let o=e.get(n.user),[l,c,s]=i()(a).hsl();l+=150*o%360;let u=i()(l,c,s,"hsl"),[f,d,h]=u.rgb(),g=u.hex(),p=b(_([f,d,h,1],this._plugin_background));t.style.color=p,t.style.backgroundColor=g}else t.style.backgroundColor="",t.style.color=""}function w(e,t,n){n.column_header?.[n.column_header?.length-1];let[r,i,a,o,l]=(()=>void 0!==e?.color?e.color:this._color)();if("foreground"===e?.datetime_color_mode&&null!==n.user)t.style.color=r,t.style.backgroundColor="";else if("background"===e?.datetime_color_mode&&null!==n.user){let e=b(_([i,a,o,1],this._plugin_background));t.style.color=e,t.style.backgroundColor=r}else t.style.backgroundColor="",t.style.color=""}function x(e,t,n){let[r]=!0===n.user?this._pos_fg_color:!1===n.user?this._neg_fg_color:["",0,0,0,""];t.style.backgroundColor="",t.style.color=r}function k(e,t,n){let r=null!=typeof n.value&&null!=typeof n.value&&n.value?.toString()?.trim().length>0,i=n.row_header_x>=this._config.group_by.length,a=e.getMeta({dx:0,dy:n.y-n.y0+1}),o=a&&a.row_header&&typeof a.row_header[n.row_header_x+1]<"u";t.classList.toggle("psp-tree-label",r&&!i),t.classList.toggle("psp-tree-label-expand",r&&!i&&!o),t.classList.toggle("psp-tree-label-collapse",r&&!i&&o),t.classList.toggle("psp-tree-leaf",r&&i)}function S(e){return e.x>=0?this._column_types[e.x]:this._row_header_types[e.row_header_x-1]}function M(e){let t=e[h]||{};for(let n of e.children[0].children[1].children)for(let r of n.children){let n=e.getMeta(r),i=n.column_header?.[n.column_header?.length-1],a=S.call(this,n),o=t[i],l="integer"===a||"float"===a;l?v.call(this,o,r,n):"boolean"===a?x.call(this,o,r,n):"string"===a?y.call(this,o,r,n):"date"===a||"datetime"===a?w.call(this,o,r,n):(r.style.backgroundColor="",r.style.color=""),r.classList.toggle("psp-bool-type","boolean"===a&&null!==n.user);let c="TH"===r.tagName;c&&k.call(this,e,r,n),r.classList.toggle("psp-align-right",!c&&l),r.classList.toggle("psp-align-left",c||!l),r.classList.toggle("psp-color-mode-bar","bar"===o?.number_fg_mode&&l)}}async function A(e,t,n){let r=e.getMeta(n),i=r.column_header[r.column_header.length-1],a=(t.shiftKey?T:E).call(this,i);this._preserve_focus_state=!0,await e.parentElement.parentElement.restore({sort:a})}function T(e){let t=[],n=!1;for(let r of this._config.sort){let[i,a]=r;if(i===e){n=!0;let r=C.call(this,e,a);r&&t.push(r)}else t.push(r)}return n||t.push([e,"desc"]),t}function E(e){for(let[t,n]of this._config.sort)if(t===e){let t=C.call(this,e,n);return t?[t]:[]}return[[e,"desc"]]}function C(e,t){let n=this._config.split_by.length>0?N:V,r=t?n[t]:"desc";if(r)return[e,r]}var V={desc:"asc",asc:void 0},N={desc:"asc",asc:"col desc","col desc":"col asc","col asc":void 0};function z(e,t,n){let r,i=e.getMeta(t),a=i.column_header[i.column_header.length-1],o=this._schema[a],l="integer"===o||"float"===o,c=document.createElement(`perspective-${{float:"number",integer:"number",string:"string",date:"date",datetime:"datetime"}[o]}-column-style`);if(r=l?{fg_gradient:n,pos_fg_color:this._pos_fg_color[0],neg_fg_color:this._neg_fg_color[0],number_fg_mode:"color",bg_gradient:n,pos_bg_color:this._pos_bg_color[0],neg_bg_color:this._neg_bg_color[0],number_bg_mode:"disabled"}:{color:this._color[0],bg_color:this._color[0]},"string"!==o&&"date"!==o&&"datetime"!==o)if("float"===o)r.fixed=2;else{if("integer"!==o)return this._open_column_styles_menu.pop(),void t.classList.remove("psp-menu-open");r.fixed=0}let s=()=>c.blur(),u=t=>{let n=t.detail;n.pos_fg_color&&(n.pos_fg_color=m(n.pos_fg_color),n.neg_fg_color=m(n.neg_fg_color)),n.pos_bg_color&&(n.pos_bg_color=m(n.pos_bg_color),n.neg_bg_color=m(n.neg_bg_color)),n.color&&(n.color=m(n.color)),n.bg_color&&(n.bg_color=m(n.bg_color)),e[h]=e[h]||{},e[h][a]=n,e.draw({preserve_width:!0}),e.parentElement.parentElement.dispatchEvent(new Event("perspective-config-update"))},f=async()=>{e.removeEventListener("regular-table-scroll",s),c.removeEventListener("perspective-column-style-change",u),c.removeEventListener("blur",f),this._open_column_styles_menu.pop(),e.parentElement.parentElement.dispatchEvent(new Event("perspective-config-update")),t.classList.remove("psp-menu-open"),c.destroy()};c.addEventListener("perspective-column-style-change",u),c.addEventListener("blur",f),e.addEventListener("regular-table-scroll",s);let d=e[h]||{},g=Object.assign({},d[a]=d[a]||{});(g.pos_fg_color||g.pos_bg_color)&&(g.pos_fg_color=g.pos_fg_color?.[0],g.neg_fg_color=g.neg_fg_color?.[0],g.pos_bg_color=g.pos_bg_color?.[0],g.neg_bg_color=g.neg_bg_color?.[0]),g.color&&(g.color=g.color[0]),g.bg_color&&(g.bg_color=g.bg_color[0]),c.open(t,g,r)}async function D(e,t){let n=e.getMeta(t.target),r=t.target.classList.contains("psp-tree-label-collapse");t.shiftKey&&r?this._view.set_depth(n.row_header.filter((e=>void 0!==e)).length-2):t.shiftKey?this._view.set_depth(n.row_header.filter((e=>void 0!==e)).length-1):r?this._view.collapse(n.y):this._view.expand(n.y),this._num_rows=await this._view.num_rows(),this._num_columns=await this._view.num_columns(),e.draw()}async function P(e,t){if(1!==t.which)return;let n=t.target;if("A"===n.tagName)return;for(;"TD"!==n.tagName&&"TH"!==n.tagName;)if(n=n.parentElement,!e.contains(n))return;if(n.classList.contains("psp-tree-label"))return D.call(this,e,t),void t.stopImmediatePropagation();let r=n.getBoundingClientRect();if(n.classList.contains("psp-menu-enabled")&&t.clientY-r.top>16){n.classList.add("psp-menu-open");let r=e.getMeta(n),i=r.column_header?.[r.column_header?.length-1],a=this._schema[i];if(this._open_column_styles_menu.unshift(r._virtual_x),"string"===a||"date"===a||"datetime"===a)z.call(this,e,n);else{let[t,r]=await this._view.get_min_max(i),a=Math.max(Math.abs(t),Math.abs(r));a>1&&(a=Math.round(100*a)/100),z.call(this,e,n,a)}t.preventDefault(),t.stopImmediatePropagation()}else n.classList.contains("psp-header-leaf")&&!n.classList.contains("psp-header-corner")&&(A.call(this,e,t,n),t.stopImmediatePropagation())}function L(e,t){if(1!==t.which)return;let n=t.target;for(;"TD"!==n.tagName&&"TH"!==n.tagName;)if(n=n.parentElement,!e.contains(n))return;(n.classList.contains("psp-tree-label")&&t.offsetX<26||n.classList.contains("psp-header-leaf")&&!n.classList.contains("psp-header-corner"))&&t.stopImmediatePropagation()}function O(e,t=!1){let n=0===this._config.group_by.length&&0===this._config.split_by.length,r=e.hasAttribute("selectable"),i=t||!!e.children[0]._is_edit_mode;return n&&!r&&i}function I(e,t){let n=e[h]||{},r=O.call(this,t);e.parentElement.classList.toggle("edit-mode-allowed",O.call(this,t,!0));for(let t of e.querySelectorAll("td")){let i=e.getMeta(t),a=this.get_psp_type(i);if(r&&this._is_editable[i.x]){let e=i.column_header[i.column_header.length-1];"string"===a&&"link"===n[e]?.format?(t.toggleAttribute("contenteditable",!1),t.classList.toggle("boolean-editable",!1)):"boolean"===a?(t.toggleAttribute("contenteditable",!1),t.classList.toggle("boolean-editable",null!==i.user)):(r!==t.hasAttribute("contenteditable")&&t.toggleAttribute("contenteditable",r),t.classList.toggle("boolean-editable",!1))}else t.toggleAttribute("contenteditable",!1),t.classList.toggle("boolean-editable",!1)}}var R=(e,t,n)=>{let r=e.querySelectorAll("td"),i=n.get(e);if(i){for(let t of r){let n=e.getMeta(t);if(n.x===i.x&&n.y===i.y)return document.activeElement!==t&&t.focus({preventScroll:!0}),!0}document.activeElement!==document.body&&e.contains(document.activeElement)&&document.activeElement.blur()}};function B(){if(this.isContentEditable){let e=document.getSelection().getRangeAt(0),t=e.cloneRange();return t.selectNodeContents(this),t.setEnd(e.endContainer,e.endOffset),t.toString().length}return this.target.selectionStart}function F(e,t,n){let r=e.getMeta(n),i=t._schema[t._column_paths[r.x]];if(r){let e=n.textContent,a=t._ids[r.y-r.y0];if("float"===i||"integer"===i){if(e=parseFloat(e.replace(/,/g,"")),isNaN(e))return!1}else if("date"===i||"datetime"===i){if(e=Date.parse(e),isNaN(e))return!1}else"boolean"===i&&(e="check"!==e&&("close"===e||null));let o={__INDEX__:a,[t._column_paths[r.x]]:e};return t._table.update([o],{port_id:t._edit_port}),!0}}function Y(e,t=!1){let n=0===this._config.group_by.length&&0===this._config.split_by.length,r=e.hasAttribute("selectable"),i=t||!!e.children[0]._is_edit_mode;return n&&!r&&i}var j=function(e){let t;return async function(...n){if(t&&await t&&t)return;let r;t=new Promise((e=>r=e)),await e.apply(this,n),t=void 0,r()}}((async function(e,t,n,r,i){let a=e.getMeta(n),o=this._column_paths.length,l=this._num_rows,c=t.get(e);if(!c)return;a.x+r<o&&0<=a.x+r&&(c.x=a.x+r),a.y+i<l&&0<=a.y+i&&(c.y=a.y+i);let s=Math.max(a.x0-10,0),u=Math.min(a.x0+10,o),f=Math.max(a.y0-5,0),d=Math.min(a.y0+10,l),h=a.x0+r,g=a.y0+i;for(;!R(e,0,t)&&h>=s&&h<u&&g>=f&&g<d;)await e.scrollToCell(h,g,o,l),t.set(e,c),h+=r,g+=i}));function $(e,t,n,r){if(!Y.call(this,t))return;let i=document.activeElement;switch(r.target.classList.remove("psp-error"),r.keyCode){case 13:r.preventDefault(),r.shiftKey?j.call(this,e,n,i,0,-1):j.call(this,e,n,i,0,1);break;case 37:0==B.call(i)&&(r.preventDefault(),j.call(this,e,n,i,-1,0));break;case 38:r.preventDefault(),j.call(this,e,n,i,0,-1);break;case 39:B.call(i)==i.textContent.length&&(r.preventDefault(),j.call(this,e,n,i,1,0));break;case 40:r.preventDefault(),j.call(this,e,n,i,0,1)}}function H(e,t,n){let r=e.getMeta(n.target);if(typeof r?.x<"u"){let i=Y.call(this,t),a=this._is_editable[r.x],o="boolean"===this.get_psp_type(r),l="-"===n.target.textContent;i&&a&&o&&!l&&F(e,this,n.target)}}function U(e,t,n,r){if(Y.call(this,t)&&n.has(e)){r.target.classList.remove("psp-error");let t=n.get(e);n.delete(e),t.content!==r.target.textContent&&(F(e,this,r.target)||(r.target.textContent=t.content,r.target.classList.add("psp-error"),r.target.focus()))}}function W(e,t,n,r){let i=e.getMeta(r.target);if(i){let t={x:i.x,y:i.y,content:r.target.textContent};n.set(e,t)}}async function q({_view:e,_config:t},n,r){let i=t.group_by,a=t.split_by,o=n>=0?n:0,l=o+1,c=await e.to_json({start_row:o,end_row:l}),s=c.map((e=>e.__ROW_PATH__))[0]||[],u=i.map(((e,t)=>{let n=s[t];return n?[e,"==",n]:void 0})).filter((e=>e)),f=i.length>0?r+1:r,d=Object.keys(c[0])[f],h={row:c[0]},g=[];if(d){let e=d.split("|");h.column_names=[e[e.length-1]],g=a.map(((t,n)=>{let r=e[n];return r?[t,"==",r]:void 0})).filter((e=>e)).filter((([,,e])=>"__ROW_PATH__"!==e))}let p=t.filter.concat(u).concat(g);return h.config={filter:p},h}async function G(e,t,n,r){let i=e.getMeta(r.target);if(!t.hasAttribute("selectable")||r.handled||1!==r.which||!i)return;let a=this._ids[i.y-i.y0];if(i&&i.y>=0){let o=n.get(e),l=!!o&&o.reduce(((e,t,n)=>e&&t===a[n]),!0),c=!!o&&a.length===o.length&&l,s={selected:!c},{row:u,column_names:f,config:d}=await q(this,i.y,i.x);c?(n.delete(e),s={...s,row:u,config:{filter:structuredClone(this._config.filter)}}):(n.set(e,a),s={...s,row:u,column_names:f,config:d}),await e.draw({preserve_width:!0}),r.handled=!0,t.dispatchEvent(new CustomEvent("perspective-select",{bubbles:!0,composed:!0,detail:s}))}}function X(e,t,n){if(!t.hasAttribute("selectable"))return;let r=n.has(e),i=n.get(e);for(let t of e.querySelectorAll("td"))if(r){let n=e.getMeta(t),r=this._ids[n.y-n.y0],a=i.reduce(((e,t,n)=>e&&t===r[n]),!0);t.classList.toggle("psp-row-selected",r.length===i.length&&a),t.classList.toggle("psp-row-subselected",r.length!==i.length&&a)}else t.classList.toggle("psp-row-selected",!1),t.classList.toggle("psp-row-subselected",!1);for(let t of e.querySelectorAll("tbody th")){let n=e.getMeta(t),a=this._ids[n.y-n.y0];if(!r||a[n.row_header_x])t.classList.toggle("psp-row-selected",!1),t.classList.toggle("psp-row-subselected",!1);else{let e=i.reduce(((e,t,n)=>e&&t===a[n]),!0);t.classList.toggle("psp-row-selected",a.length===i.length&&e),t.classList.toggle("psp-row-subselected",a.length!==i.length&&e)}}}async function K(e,t,n){n.delete(e);for(let t of e.querySelectorAll("td,th"))t.classList.toggle("psp-row-selected",!1),t.classList.toggle("psp-row-subselected",!1)}var Q={datetime:Intl.DateTimeFormat,date:Intl.DateTimeFormat,integer:Intl.NumberFormat,float:Intl.NumberFormat,boolean:class{format(e){return e?"check":"close"}}},Z=new class{constructor(){this._formatters=new Map}create_datetime_formatter(e,t){let n=o(e),r={...n.format,timeZone:t.timeZone,dateStyle:t.dateStyle,timeStyle:t.timeStyle};return"disabled"===r.dateStyle?r.dateStyle=void 0:void 0===r.dateStyle&&(r.dateStyle=n.format.dateStyle),"disabled"===r.timeStyle?r.timeStyle=void 0:void 0===r.timeStyle&&(r.timeStyle=n.format.timeStyle),new Intl.DateTimeFormat([],r)}create_number_formatter(e,t){let{format:n}=o(e);return void 0!==t.fixed&&(n.minimumFractionDigits=t.fixed,n.maximumFractionDigits=t.fixed),new Q[e]([],n)}create_boolean_formatter(e,t){let n=o(e);return new Q[e]([],n.format)}get(e,t){let n=[e,t.fixed,t.timeZone,t.dateStyle,t.timeStyle].join("-");return this._formatters.has(n)||(o(e),"date"===e||"datetime"===e?this._formatters.set(n,this.create_datetime_formatter(e,t)):"integer"===e||"float"===e?this._formatters.set(n,this.create_number_formatter(e,t)):"boolean"===e?this._formatters.set(n,this.create_boolean_formatter(e,t)):this._formatters.set(n,!1)),this._formatters.get(n)}};function J(e,t,n={},r=!1){if(null===t)return"-";let i=e[e.length-1],a=r&&this._table_schema[i]||this._schema[i]||"string",o=n[i]||{};if("integer"!==a&&"float"!==a||"bar"!==o?.number_fg_mode){if("link"===o?.format&&"string"===a){let e=document.createElement("a");return e.setAttribute("href",t),e.setAttribute("target","_blank"),e.textContent=t,e}if("bold"===o?.format&&"string"===a){let e=document.createElement("b");return e.textContent=t,e}if("italics"===o?.format&&"string"===a){let e=document.createElement("i");return e.textContent=t,e}{let e=Z.get(a,o);return e?e.format(t):t}}{let e=Math.max(0,Math.min(.95,.95*Math.abs(t/o.fg_gradient))),n=this._div_factory.get(),r=t>=0?"left":"right";return n.setAttribute("style",`width:${(100*e).toFixed(2)}%;position:absolute;${r}:0;height:80%;top:10%;pointer-events:none;`),n}}function*ee(e=[],t,n){let r=n[h];for(let n of e){n=["TOTAL",...n];let e=n[n.length-1];n=n.slice(0,n.length-1).fill("");let i=J.call(this,[t[n.length-1]],e,r,!0);n=i instanceof HTMLElement?n.concat(i):n.concat({toString:()=>i}),n.length=t.length+1,yield n}}function te(e,t,n){let r=window.getComputedStyle(e).getPropertyValue(t).trim();return r.length>0?r:n}var ne=class{constructor(e){this._name=e,this._elements=[],this._index=0}clear(){this._index=0}get(){this._elements[this._index]||(this._elements[this._index]=document.createElement(this._name));let e=this._elements[this._index];return this._index+=1,e}};function re(e){return e.x>=0?this._column_types[e.x]:this._row_header_types[e.row_header_x-1]}async function ie(e,t,n,r={}){let a=await n.get_config(),o=a.expressions.map((e=>e[1])),[l,c,s,u,f,d,g]=await Promise.all([t.schema(),t.validate_expressions(o),n.num_rows(),n.schema(),n.expression_schema(),n.column_paths(),this.parentElement.getEditPort()]),_=i()(te(e,"--plugin--background","#FFFFFF")).rgb(),b=m(te(e,"--rt-pos-cell--color","#338DCD")),v=m(te(e,"--rt-neg-cell--color","#FF5942")),y=m(p(b[0],_)),w=m(p(v[0],_)),x=m(te(e,"--active--color","#ff0000")),k={...u,...f},S={...l,...c.expression_schema},M=d.filter((e=>"__ROW_PATH__"!==e&&"__ID__"!==e)),A=[],T=[];for(let e of M){let t=e.split("|"),n=t[t.length-1];T.push(k[n]),A.push(!!l[n])}let E=Object.assign(r,{_edit_port:g,_view:n,_table:t,_table_schema:S,_config:a,_num_rows:s,_schema:k,_ids:[],_open_column_styles_menu:[],_plugin_background:_,_color:x,_pos_fg_color:b,_neg_fg_color:v,_pos_bg_color:y,_neg_bg_color:w,_column_paths:M,_column_types:T,_is_editable:A,_row_header_types:a.group_by.map((e=>S[e])),_series_color_map:new Map,_series_color_seed:new Map,get_psp_type:re});return E._div_factory=E._div_factory||new ne("div"),e.setDataListener(function(){let e,t,n,r,i;return async function(a,o,l,c,s){let u,f={};c-o>0&&s-l>0?(this._is_old_viewport=this._last_window?.start_row===l&&this._last_window?.end_row===s&&this._last_window?.start_col===o&&this._last_window?.end_col===c,u={start_row:l,start_col:o,end_row:s,end_col:c,id:!0},f=await this._view.to_columns(u),this._last_window=u,this._ids=f.__ID__,this._reverse_columns=this._column_paths.slice(o,c).reduce(((e,t,n)=>(e.set(t,n),e)),new Map),this._reverse_ids=this._ids.reduce(((e,t,n)=>(e.set(t?.join("|"),n),e)),new Map)):this._div_factory.clear();let d=[],g=[],p=[],_=[];for(let e=o;e<Math.min(c,this._column_paths.length);++e){let t=this._column_paths[e],n=t.split("|"),r=f[t]||new Array(s-l).fill(null);d.push(r.map((e=>J.call(this,n,e,a[h])))),g.push(r),p.push(n),_.push(t)}return c-o>0&&s-l>0&&(this.last_column_paths=t,this.last_meta=e,this.last_ids=n,this.last_reverse_ids=r,this.last_reverse_columns=i,t=_,e=g,n=this._ids,r=this._reverse_ids,i=this._reverse_columns),{num_rows:this._num_rows,num_columns:this._column_paths.length,row_headers:Array.from(ee.call(this,f.__ROW_PATH__,this._config.group_by,a)),column_headers:p,data:d,metadata:g}}}().bind(E,e),{virtual_mode:window.getComputedStyle(e).getPropertyValue("--datagrid-virtual-mode")?.trim()||"both"}),E}async function ae(e,t,n){let r=e.getMeta(n.target);if(!r)return;let{x:i,y:a}=r,{row:o,column_names:l,config:c}=await q(this,a,i);t.dispatchEvent(new CustomEvent("perspective-click",{bubbles:!0,composed:!0,detail:{row:o,column_names:l,config:c}}))}async function oe(e){let t=this.parentElement,n=await t.getTable(!0);if(this._initialized)await ie.call(this,this.regular_table,n,e,this.model);else{this.innerHTML="",this.appendChild(this.regular_table),this.model=await ie.call(this,this.regular_table,n,e),this.regular_table.addStyleListener(M.bind(this.model,this.regular_table)),this.regular_table.addStyleListener(d.bind(this.model,this.regular_table)),this.regular_table.addStyleListener(f.bind(this.model,this.regular_table)),this.regular_table.addEventListener("click",L.bind(this.model,this.regular_table)),this.regular_table.addEventListener("mousedown",P.bind(this.model,this.regular_table));let r=new WeakMap;this.regular_table.addStyleListener(X.bind(this.model,this.regular_table,t,r)),this.regular_table.addEventListener("mousedown",G.bind(this.model,this.regular_table,t,r)),this.regular_table.addEventListener("psp-deselect-all",K.bind(this.model,this.regular_table,t,r)),this.regular_table.addEventListener("click",ae.bind(this.model,this.regular_table,t));let i=new WeakMap;this.regular_table.addStyleListener(I.bind(this.model,this.regular_table,t)),this.regular_table.addStyleListener(R.bind(this.model,this.regular_table,t,i)),this.regular_table.addEventListener("click",H.bind(this.model,this.regular_table,t)),this.regular_table.addEventListener("focusin",W.bind(this.model,this.regular_table,t,i)),this.regular_table.addEventListener("focusout",U.bind(this.model,this.regular_table,t,i)),this.regular_table.addEventListener("keydown",$.bind(this.model,this.regular_table,t,i)),this._initialized=!0}}function le(e,t=!1){if(!this._initialized)return;t&&(this._cached_column_sizes=e);let n={},{group_by:r,columns:i}=this.model._config,a=r?.length>0?r.length+1:0;for(let t of Object.keys(e))"__ROW_PATH__"===t?n[a-1]=e[t]:n[this.model._column_paths.indexOf(t)+a]=e[t];this.regular_table._column_sizes.override=n}function ce(){if(!this._initialized)return[];if(this._cached_column_sizes){let e=this._cached_column_sizes;return this._cached_column_sizes=void 0,e}let e=this.regular_table._column_sizes.override,{group_by:t,columns:n}=this.model._config,r=t?.length>0?t.length+1:0,i={};for(let t of Object.keys(e))if(void 0!==e[t]){let n=t-r;n>-1?i[this.model._column_paths[n]]=e[t]:-1===n&&(i.__ROW_PATH__=e[t])}return i}function se(e=void 0){typeof e>"u"&&(e=!this._is_edit_mode),this._is_edit_mode=e,this.classList.toggle("editable",e),void 0!==this._edit_mode&&(this._edit_mode.classList.toggle("editable",e),this._edit_mode.children[0].textContent=e?"Editable":"Read Only")}function ue(e=void 0){typeof e>"u"&&(e=!this._is_scroll_lock),this._is_scroll_lock=e,this.classList.toggle("sub-cell-scroll-disabled",e),void 0!==this._scroll_lock&&(this._scroll_lock.classList.toggle("lock-scroll",e),this._scroll_lock.children[0].textContent=e?"Align Scroll":"Free Scroll")}function fe(e){let t={};if((e=JSON.parse(JSON.stringify(e))).columns)for(let n of Object.keys(e.columns)){let r=e.columns[n];void 0!==r.column_size_override&&(t[n]=r.column_size_override,delete r.column_size_override),r?.pos_fg_color&&(r.pos_fg_color=m(r.pos_fg_color),r.neg_fg_color=m(r.neg_fg_color)),r?.pos_bg_color&&(r.pos_bg_color=m(r.pos_bg_color),r.neg_bg_color=m(r.neg_bg_color)),r?.color&&(r.color=m(r.color)),0===Object.keys(r).length&&delete e.columns[n]}"editable"in e&&se.call(this,e.editable),"scroll_lock"in e&&ue.call(this,e.scroll_lock);let n=this.regular_table;try{n._resetAutoSize()}catch{}le.call(this,t,!0),n[h]=e.columns}function de(){this._toolbar||(this._toolbar=document.createElement("perspective-viewer-datagrid-toolbar")),this.parentElement.appendChild(this._toolbar)}function he(){if(this.regular_table){let e=this.regular_table,t={columns:{},scroll_lock:!!this._is_scroll_lock,editable:!!this._is_edit_mode};for(let n of Object.keys(e[h]||{})){let r=Object.assign({},e[h][n]);(r?.pos_fg_color||r?.pos_bg_color)&&(r.pos_fg_color=r.pos_fg_color?.[0],r.neg_fg_color=r.neg_fg_color?.[0],r.pos_bg_color=r.pos_bg_color?.[0],r.neg_bg_color=r.neg_bg_color?.[0]),r?.color&&(r.color=r.color[0]),t.columns[n]=r}let n=ce.call(this);for(let e of Object.keys(n||{}))t.columns[e]||(t.columns[e]={}),t.columns[e].column_size_override=n[e];return JSON.parse(JSON.stringify(t))}return{}}async function ge(e){if(this.parentElement&&await this.activate(e),!this.isConnected||null==this.offsetParent)return;let t=ce.call(this),n=this.regular_table.draw({invalid_columns:!0});this.model._preserve_focus_state?this.model._preserve_focus_state=!1:(this.regular_table.scrollTop=0,this.regular_table.scrollLeft=0,this.regular_table.dispatchEvent(new CustomEvent("psp-deselect-all",{bubbles:!1})),this.regular_table._resetAutoSize()),le.call(this,t),await n,this._toolbar.classList.toggle("aggregated",this.model._config.group_by.length>0||this.model._config.split_by.length>0)}var pe=class extends HTMLElement{constructor(){super(),this.regular_table=document.createElement("regular-table"),this._is_scroll_lock=!1}connectedCallback(){return de.call(this)}disconnectedCallback(){this._toolbar.parentElement.removeChild(this._toolbar)}async activate(e){return await oe.call(this,e)}get name(){return"Datagrid"}get category(){return"Basic"}get select_mode(){return"toggle"}get min_config_columns(){}get config_column_names(){return["Columns"]}get priority(){return 1}async draw(e){return await ge.call(this,e)}async update(e){this.model._num_rows=await e.num_rows(),await this.regular_table.draw()}async resize(){!this.isConnected||null==this.offsetParent||this._initialized&&await this.regular_table.draw()}async clear(){this.regular_table._resetAutoSize(),this.regular_table.clear()}save(){return he.call(this)}restore(e){return fe.call(this,e)}async restyle(e){await this.draw(e)}delete(){this.regular_table.table_model&&this.regular_table._resetAutoSize(),this.regular_table.clear()}},_e=class extends HTMLElement{connectedCallback(){if(this._initialized)return;this._initialized=!0,this.setAttribute("slot","plugin-settings"),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML='\n            <style>\n                :host{position:relative;display:block;}:host #container{position:absolute;display:flex;flex-direction:column;justify-content:stretch;align-items:stretch;top:0;left:0;right:0;bottom:0;}:host #toolbar{display:flex;align-items:center;height:36px;}:host #slot-container{flex:1;position:relative;}#scroll_lock.lock-scroll:before{-webkit-mask-image:var(--toolbar-scroll-lock-active--content);}#scroll_lock:before{-webkit-mask-image:var(--toolbar-scroll-lock--content);}#select_mode:before{content:"highlight_alt";}#edit_mode:before{-webkit-mask-image:var(--toolbar-edit-mode--content);}#edit_mode.editable:before{-webkit-mask-image:var(--toolbar-edit-mode-active--content);}:host(.aggregated) #toolbar #edit_mode{display:none;}.button:before{width:25px;height:21px;content:"";-webkit-mask-image:cover;mask-image:cover;background-color:var(--icon--color,#ccc);margin:0 5px;}.button.editable:before,.button.lock-scroll:before{color:inherit;}.button{display:inline-flex;align-items:center;user-select:none;width:37px;height:22px;box-sizing:border-box;white-space:nowrap;border:1px solid transparent;border-radius:3px;}.button>span{display:none;margin:0;padding:0;}.button:hover{background-color:var(--icon--color);color:var(--plugin--background);opacity:1;display:flex;align-items:center;cursor:pointer;min-width:var(--button--min-width,105px);}.button:hover:before{background-color:var(--plugin--background);margin:0 5px 0 5px;}.button:hover>span{display:contents;font-size:9px;line-height:36px;}\n            </style>\n            <div id="toolbar">\n                <span id="scroll_lock" class="button">\n                    <span>Free Scroll</span>\n                </span>\n                <span id="edit_mode" class="button"><span>Read Only</span></span>\n            </div>\n        ';let e=this.parentElement,t=e.querySelector("perspective-viewer-datagrid");t._scroll_lock=this.shadowRoot.querySelector("#scroll_lock"),t._scroll_lock.addEventListener("click",(()=>ue.call(t))),t._edit_mode=this.shadowRoot.querySelector("#edit_mode"),t._edit_mode.addEventListener("click",(()=>{se.call(t),t.regular_table.draw(),e.dispatchEvent(new Event("perspective-config-update"))}))}};!async function(){customElements.define("perspective-viewer-datagrid-toolbar",_e),customElements.define("perspective-viewer-datagrid",pe),await customElements.whenDefined("perspective-viewer"),customElements.get("perspective-viewer").registerPlugin("perspective-viewer-datagrid")}(),function(){let e=document.createElement("style");e.textContent='regular-table{padding:0;margin:12px 0 0 12px;scrollbar-color:transparent transparent;scrollbar-width:thin;outline:none;}regular-table:hover{scrollbar-color:rgba(0,0,0,0.3)transparent;}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody td,perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table thead th:not(.rt-group-corner){transform:translate(var(--regular-table--transform-x,0px));}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody{transform:translate(0,var(--regular-table--transform-y,0px));}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody tr:first-child td,perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody tr:first-child th{clip-path:polygon(0 var(--regular-table--clip-y,0),0 200%,200% 200%,200% var(--regular-table--clip-y,0));}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table thead th.rt-group-corner{background:var(--plugin--background,white);z-index:1;}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody tr td:first-of-type{clip-path:polygon(var(--regular-table--clip-x,0)0,var(--regular-table--clip-x,0)200%,200% 200%,200% 0);}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody tr:first-child td:first-of-type{clip-path:polygon(var(--regular-table--clip-x,0)var(--regular-table--clip-y,0),var(--regular-table--clip-x,0)200%,200% 200%,200% var(--regular-table--clip-y,0));}regular-table{font-family:inherit;}regular-table div[tabindex]{outline:none;}regular-table>div{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;}regular-table th{text-align:center;}regular-table thead tr:not(:last-child) th{overflow:hidden;max-width:0px;}regular-table thead tr:last-child .rt-float,regular-table tbody .rt-float{text-align:right;}regular-table thead .rt-integer,regular-table tbody .rt-integer{text-align:right;}regular-table tbody th{text-align:left;}regular-table span.rt-tree-container{display:flex;align-items:center;height:100%;}regular-table thead .rt-string,regular-table tbody .rt-string,regular-table thead .rt-date,regular-table tbody .rt-date,regular-table thead .rt-datetime,regular-table tbody .rt-datetime{text-align:left;}regular-table thead tr:last-child th{border-bottom:1px solid#8b868045;}regular-table tbody tr:first-child td,regular-table tbody tr:first-child th{border-top:1px solid transparent!important;}regular-table th{position:relative;}regular-table tr th span.rt-tree-group{margin-left:5px;margin-right:15px;border-left:1px solid#eee;height:100%;}regular-table td,regular-table th{white-space:nowrap;font-size:12px;padding-right:5px;padding-left:5px;padding-top:0px;padding-bottom:0px;height:19px;}regular-table tr:hover td{background:#eee;opacity:1;}regular-table tr:hover{color:#333;}regular-table table *{box-sizing:border-box;}regular-table table{position:absolute;overflow:hidden;color:#666;outline:none;}regular-table span.rt-row-header-icon{color:#aaa;padding-right:4px;font-family:var(--button--font-family,"Material Icons");}regular-table span.rt-column-header-icon{font-size:10px;padding-left:3px;display:inline-block;width:10px;font-family:var(--button--font-family,"Material Icons");}regular-table span.rt-row-header-icon:hover{color:#1a7da1;text-shadow:0px 0px 3px#1a7da1;}regular-table .rt-selected td{background-color:#eee;}regular-table .rt-cell-clip{overflow:hidden;text-overflow:ellipsis;}regular-table td span.rt-group-name,regular-table th span.rt-group-name{margin-right:-5px;padding-right:5px;padding-left:8px;flex:1;height:100%;}regular-table th span.rt-group-name{text-align:left;}regular-table td th span.rt-group-leaf,regular-table th span.rt-group-leaf{margin-left:16px;height:100%;}regular-table .rt-column-resize{height:100%;width:10px;position:absolute;top:0;right:0;cursor:col-resize;}regular-table a{color:var(--rt-pos-cell--color);}regular-table a:visited{color:var(--active--color);}regular-table::-webkit-scrollbar,regular-table::-webkit-scrollbar-corner{background-color:transparent;height:12px;width:12px;}regular-table::-webkit-scrollbar-thumb{background-clip:content-box;background:var(--icon--color);border:5.5px solid var(--plugin--background);max-height:50%;max-width:50%;min-width:10%;min-height:10%;}.psp-header-border:not(.psp-is-top):not(.psp-header-leaf){box-shadow:1px 0px var(--inactive--border-color,#8b868045);}.psp-header-group{box-shadow:0px 10px 0 -9px var(--inactive--border-color,#8b868045);}.psp-is-top{box-shadow:5px 4px 0px -4px var(--inactive--border-color,#8b868045);}.psp-is-top.psp-header-group:not(.psp-header-group-corner){box-shadow:5px 4px 0px -4px var(--inactive--border-color,#8b868045),0px 10px 0 -9px var(--inactive--border-color,#8b868045);}.psp-header-border.psp-header-group:not(.psp-is-top):not(.psp-header-group-corner){box-shadow:1px 0px var(--inactive--border-color,#8b868045),0px 10px 0 -9px var(--inactive--border-color,#8b868045);}.psp-header-leaf.psp-header-border{box-shadow:5px -4px 0px -4px var(--inactive--border-color,#8b868045);}tr:only-child th{box-shadow:none!important;}regular-table tbody tr:hover th.psp-tree-leaf:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover th.psp-tree-label:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover td:not(.psp-row-selected):not(.psp-row-subselected){border-color:var(--rt-hover--border-color,#c5c9d080)!important;background-color:transparent;box-shadow:0px 1px 0px var(--rt-hover--border-color,#c5c9d080),0px 3px 0px rgba(0,0,0,0.05),0px 5px 0px rgba(0,0,0,0.01);}regular-table tbody tr:hover+tr th.psp-tree-leaf:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover+tr th.psp-tree-label:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover+tr td:not(.psp-row-selected):not(.psp-row-subselected){border-top-color:transparent;}regular-table tbody tr th:first-child:not(:empty),regular-table tbody tr th:first-child:empty+th:not(:empty),regular-table tbody tr th:first-child:empty~th:empty+th:not(:empty),regular-table tbody tr td:first-child{border-left-width:1px;border-left-color:transparent;}regular-table tbody tr th:last-child,regular-table tbody tr td:last-child{border-right-width:1px;border-right-color:transparent;}regular-table tbody tr:hover{color:#161616;}regular-table tbody tr:hover th:first-child:not(:empty),regular-table tbody tr:hover th:first-child:empty+th:not(:empty),regular-table tbody tr:hover th:first-child:empty~th:empty+th:not(:empty),regular-table tbody tr:hover td:first-child{border-left-color:var(--rt-hover--border-color,#c5c9d080)!important;}regular-table tbody tr:hover th:last-child,regular-table tbody tr:hover td:last-child{border-right-color:var(--rt-hover--border-color,#c5c9d080)!important;}perspective-viewer[settings] regular-table .psp-header-leaf{height:36px;vertical-align:top;padding-top:3.5px;}perspective-viewer[settings] regular-table .psp-header-leaf:not(.psp-header-corner):before{font-family:var(--button--font-family,inherit);content:var(--column-style-open-button--content,var(--config-button-icon--content,"\\1f527"));position:absolute;width:calc(100% - 8px);left:5px;bottom:0px;padding-bottom:1px;margin-bottom:3px;color:var(--inactive--border-color,#8b868045);font-size:9px;border:1px solid transparent;border-radius:2px;}perspective-viewer[settings] regular-table .psp-header-leaf.psp-menu-enabled:not(.psp-header-corner):before{color:inherit;cursor:pointer;}perspective-viewer[settings] regular-table .psp-header-leaf.psp-menu-open:not(.psp-header-corner){pointer-events:none;}perspective-viewer[settings] regular-table .psp-header-leaf.psp-menu-open:not(.psp-header-corner):before{border:1px solid var(--inactive--border-color);content:var(--column-style-close-button--content,"X");}perspective-viewer[settings] regular-table .psp-header-leaf.psp-menu-enabled:hover:before{border:1px solid var(--inactive--border-color);}perspective-viewer[settings] regular-table .psp-header-leaf .rt-column-resize{height:18px;}.psp-row-selected,:hover .psp-row-selected,:hover th.psp-tree-leaf.psp-row-selected,:hover th.psp-tree-label.psp-row-selected{color:white!important;background-color:#ea7319!important;border-color:#ea7319!important;}.psp-row-selected.psp-tree-label:not(:hover):before{color:white;}.psp-row-subselected,:hover .psp-row-subselected,:hover th.psp-tree-leaf.psp-row-subselected,:hover th.psp-tree-label.psp-row-subselected{background:rgba(234,115,25,0.2)!important;}.psp-error{color:red;}td:focus{outline:#666;outline-style:dotted;outline-width:1px;}perspective-viewer.dragging regular-table{pointer-events:none;}.psp-header-border:last-child{border-right-width:0px;}.psp-header-sort-desc:after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:14px;height:12px;-webkit-mask-image:var(--sort-desc-icon--mask-image);mask-image:var(--sort-desc-icon--mask-image);}.psp-header-sort-asc:after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:14px;height:12px;-webkit-mask-image:var(--sort-asc-icon--mask-image);mask-image:var(--sort-asc-icon--mask-image);}.psp-header-sort-col-desc:after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:14px;height:12px;-webkit-mask-image:var(--sort-col-desc-icon--mask-image);mask-image:var(--sort-col-desc-icon--mask-image);}.psp-header-sort-col-asc:after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:14px;height:12px;-webkit-mask-image:var(--sort-col-asc-icon--mask-image);mask-image:var(--sort-col-asc-icon--mask-image);}tbody th:last-of-type{border-right:1px solid var(--inactive--border-color,#8b868045);overflow:hidden;text-overflow:ellipsis;}tbody th:empty{background-image:linear-gradient(to right,transparent 9px,#eee 10px,transparent 11px);background-repeat:no-repeat;min-width:20px;max-width:20px;pointer-events:none;}.psp-tree-label{max-width:0px;min-width:0px;}.psp-tree-label:before{color:var(--icon--color);font-family:var(--button--font-family,inherit);padding-right:11px;}.psp-tree-label-expand:before{content:var(--tree-label-expand--content,"+");}.psp-tree-label-collapse:before{content:var(--tree-label-collapse--content,"-");}.psp-tree-label-expand,.psp-tree-label-collapse{cursor:pointer;}.psp-tree-label:hover:before{color:var(--active--color);text-shadow:0px 0px 5px var(--active--color);}regular-table thead tr:last-child th{border-bottom-width:1px;border-bottom-color:var(--inactive--border-color,#8b868045);}.psp-tree-leaf{padding-left:24px;}.psp-align-right{text-align:right;}.psp-align-left{text-align:left;}.psp-positive:not(:focus){color:var(--rt-pos-cell--color);}.psp-negative:not(:focus){color:var(--rt-neg-cell--color);}regular-table table tbody td{min-width:52px!important;}.psp-is-width-override .rt-column-resize,.rt-column-resize:hover{border:1px dashed#999;border-bottom-width:0px;border-left-width:0px;}.psp-bool-type{font-family:var(--button--font-family,"Material Icons");}.boolean-editable{cursor:pointer;}regular-table table{user-select:none;color:#161616;border-collapse:separate;}regular-table table th{font-weight:400;}regular-table table td,regular-table table th{border-color:var(--inactive--border-color,#8b868045);height:23px;}regular-table table .psp-header-group{text-overflow:ellipsis;}regular-table table th.psp-header-leaf{border-bottom-width:0px;}regular-table table th.psp-header-leaf span{height:23px;min-height:23px;}regular-table table td,regular-table table th.psp-tree-label,regular-table table th.psp-tree-label,regular-table table th.psp-tree-leaf,regular-table table tbody tr:first-child th{border-style:solid;border-width:0px;border-top-width:1px;}regular-table table tbody th:empty{background-position:0px -10px;}@keyframes pulse_pos{0%{background-color:var(--pulse--background-color-start,rgba(0,128,255,0.5));}100%{background-color:var(--pulse--background-color-end,rgba(0,128,255,0));}}@keyframes pulse_pos2{0%{background-color:var(--pulse--background-color-start,rgba(0,128,255,0.5));}100%{background-color:var(--pulse--background-color-end,rgba(0,128,255,0));}}@keyframes pulse_neg{0%{background-color:var(--pulse--background-color-start,rgba(255,25,0,0.5));}100%{background-color:var(--pulse--background-color-end,rgba(255,25,0,0));}}@keyframes pulse_neg2{0%{background-color:var(--pulse--background-color-start,rgba(255,25,0,0.5));}100%{background-color:var(--pulse--background-color-end,rgba(255,25,0,0));}}',document.head.insertBefore(e,document.head.firstChild)}()},2660:(e,t,n)=>{"use strict";n.r(t),n.d(t,{HTMLPerspectiveViewerPluginElement:()=>o,convert:()=>ue,default:()=>Ve});var r=n(2036);const i=n.p+"3ad444d7560308669cb9.wasm";var a=Object.defineProperty,o=class extends HTMLElement{constructor(){super()}get name(){return"Debug"}get select_mode(){return"select"}get min_config_columns(){}get config_column_names(){}get priority(){return 0}async update(e){return this.draw(e)}async draw(e){this.style.backgroundColor="#fff";let t=await e.to_csv();this.innerHTML=`<pre style='margin:0;overflow:scroll;position:absolute;width:100%;height:100%'>${t}</pre>`}async clear(){this.innerHTML=""}async resize(){}async restyle(){}async save(){}async restore(){}async delete(){}};document.createElement("perspective-viewer-plugin").constructor===HTMLElement&&window.customElements.define("perspective-viewer-plugin",o);var l={};((e,t)=>{for(var n in t)a(e,n,{get:t[n],enumerable:!0})})(l,{ColumnDropDownElement:()=>G,CopyDropDownMenuElement:()=>X,ExportDropDownMenuElement:()=>K,FilterDropDownElement:()=>Q,FunctionDropDownElement:()=>Z,PerspectiveDateColumnStyleElement:()=>J,PerspectiveDatetimeColumnStyleElement:()=>ee,PerspectiveDebugPluginElement:()=>te,PerspectiveNumberColumnStyleElement:()=>ne,PerspectiveStringColumnStyleElement:()=>re,PerspectiveViewerElement:()=>ie,default:()=>se,defineWebComponents:()=>q,getExprTKCommands:()=>W,initSync:()=>le,registerPlugin:()=>H});var c,s=window.ClipboardItem,u=window.ResizeObserver,f=new Array(128).fill(void 0);function d(e){return f[e]}function h(e){return null==e}f.push(void 0,null,!0,!1);var g=null;function p(){return(null===g||0===g.byteLength)&&(g=new Float64Array(c.memory.buffer)),g}var _=null;function b(){return(null===_||0===_.byteLength)&&(_=new Int32Array(c.memory.buffer)),_}var m=0,v=null;function y(){return(null===v||0===v.byteLength)&&(v=new Uint8Array(c.memory.buffer)),v}var w=new TextEncoder("utf-8"),x="function"==typeof w.encodeInto?function(e,t){return w.encodeInto(e,t)}:function(e,t){let n=w.encode(e);return t.set(n),{read:e.length,written:n.length}};function k(e,t,n){if(void 0===n){let n=w.encode(e),r=t(n.length);return y().subarray(r,r+n.length).set(n),m=n.length,r}let r=e.length,i=t(r),a=y(),o=0;for(;o<r;o++){let t=e.charCodeAt(o);if(t>127)break;a[i+o]=t}if(o!==r){0!==o&&(e=e.slice(o)),i=n(i,r,r=o+3*e.length);let t=y().subarray(i+o,i+r);o+=x(e,t).written}return m=o,i}var S=f.length;function M(e){S===f.length&&f.push(f.length+1);let t=S;return S=f[t],f[t]=e,t}var A=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});function T(e,t){return A.decode(y().subarray(e,e+t))}function E(e){let t=d(e);return function(e){e<132||(f[e]=S,S=e)}(e),t}A.decode();var C=null;function V(e){let t=typeof e;if("number"==t||"boolean"==t||null==e)return`${e}`;if("string"==t)return`"${e}"`;if("symbol"==t){let t=e.description;return null==t?"Symbol":`Symbol(${t})`}if("function"==t){let t=e.name;return"string"==typeof t&&t.length>0?`Function(${t})`:"Function"}if(Array.isArray(e)){let t=e.length,n="[";t>0&&(n+=V(e[0]));for(let r=1;r<t;r++)n+=", "+V(e[r]);return n+="]",n}let n,r=/\[object ([^\]]+)\]/.exec(toString.call(e));if(!(r.length>1))return toString.call(e);if(n=r[1],"Object"==n)try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}\n${e.stack}`:n}function N(e,t,n,r){let i={a:e,b:t,cnt:1,dtor:n},a=(...e)=>{i.cnt++;try{return r(i.a,i.b,...e)}finally{0==--i.cnt&&(c.__wbindgen_export_2.get(i.dtor)(i.a,i.b),i.a=0)}};return a.original=i,a}function z(e,t,n){return E(c.__wbindgen_export_3(e,t,M(n)))}function D(e,t,n,r){let i={a:e,b:t,cnt:1,dtor:n},a=(...e)=>{i.cnt++;let t=i.a;i.a=0;try{return r(t,i.b,...e)}finally{0==--i.cnt?c.__wbindgen_export_2.get(i.dtor)(t,i.b):i.a=t}};return a.original=i,a}function P(e,t){try{let r=c.__wbindgen_add_to_stack_pointer(-16);c.__wbindgen_export_4(r,e,t);var n=b()[r/4+0];if(b()[r/4+1])throw E(n)}finally{c.__wbindgen_add_to_stack_pointer(16)}}function L(e,t,n){c.__wbindgen_export_5(e,t,M(n))}function O(e,t,n){c.__wbindgen_export_6(e,t,M(n))}function I(e,t){c.__wbindgen_export_7(e,t)}function R(e,t,n){c.__wbindgen_export_8(e,t,M(n))}var B=128;function F(e,t,n){try{c.__wbindgen_export_9(e,t,function(e){if(1==B)throw new Error("out of js stack");return f[--B]=e,B}(n))}finally{f[B++]=void 0}}var Y=null;function j(){return(null===Y||0===Y.byteLength)&&(Y=new Uint32Array(c.memory.buffer)),Y}function $(e,t){try{return e.apply(this,t)}catch(e){c.__wbindgen_export_11(M(e))}}function H(e){let t=k(e,c.__wbindgen_export_0,c.__wbindgen_export_1),n=m;c.registerPlugin(t,n)}function U(e,t){let n=j().subarray(e/4,e/4+t),r=[];for(let e=0;e<n.length;e++)r.push(E(n[e]));return r}function W(){try{let i=c.__wbindgen_add_to_stack_pointer(-16);c.getExprTKCommands(i);var e=b()[i/4+0],t=b()[i/4+1],n=b()[i/4+2];if(b()[i/4+3])throw E(n);var r=U(e,t).slice();return c.__wbindgen_export_10(e,4*t),r}finally{c.__wbindgen_add_to_stack_pointer(16)}}function q(){c.defineWebComponents()}var G=class{__destroy_into_raw(){let e=this.ptr;return this.ptr=0,e}free(){let e=this.__destroy_into_raw();c.__wbg_columndropdownelement_free(e)}},X=class{static __wrap(e){let t=Object.create(X.prototype);return t.ptr=e,t}__destroy_into_raw(){let e=this.ptr;return this.ptr=0,e}free(){let e=this.__destroy_into_raw();c.__wbg_copydropdownmenuelement_free(e)}constructor(e){let t=c.copydropdownmenuelement_new(M(e));return X.__wrap(t)}open(e){c.copydropdownmenuelement_open(this.ptr,M(e))}hide(){try{let t=c.__wbindgen_add_to_stack_pointer(-16);c.copydropdownmenuelement_hide(t,this.ptr);var e=b()[t/4+0];if(b()[t/4+1])throw E(e)}finally{c.__wbindgen_add_to_stack_pointer(16)}}unsafe_set_model(e){c.copydropdownmenuelement_unsafe_set_model(this.ptr,e)}connected_callback(){c.copydropdownmenuelement_connected_callback(this.ptr)}},K=class{static __wrap(e){let t=Object.create(K.prototype);return t.ptr=e,t}__destroy_into_raw(){let e=this.ptr;return this.ptr=0,e}free(){let e=this.__destroy_into_raw();c.__wbg_exportdropdownmenuelement_free(e)}constructor(e){let t=c.copydropdownmenuelement_new(M(e));return K.__wrap(t)}open(e){c.exportdropdownmenuelement_open(this.ptr,M(e))}hide(){try{let t=c.__wbindgen_add_to_stack_pointer(-16);c.copydropdownmenuelement_hide(t,this.ptr);var e=b()[t/4+0];if(b()[t/4+1])throw E(e)}finally{c.__wbindgen_add_to_stack_pointer(16)}}unsafe_set_model(e){c.exportdropdownmenuelement_unsafe_set_model(this.ptr,e)}connected_callback(){c.copydropdownmenuelement_connected_callback(this.ptr)}},Q=class{__destroy_into_raw(){let e=this.ptr;return this.ptr=0,e}free(){let e=this.__destroy_into_raw();c.__wbg_filterdropdownelement_free(e)}},Z=class{__destroy_into_raw(){let e=this.ptr;return this.ptr=0,e}free(){let e=this.__destroy_into_raw();c.__wbg_functiondropdownelement_free(e)}},J=class{static __wrap(e){let t=Object.create(J.prototype);return t.ptr=e,t}__destroy_into_raw(){let e=this.ptr;return this.ptr=0,e}free(){let e=this.__destroy_into_raw();c.__wbg_perspectivedatecolumnstyleelement_free(e)}constructor(e){let t=c.perspectivedatecolumnstyleelement_new(M(e));return J.__wrap(t)}reset(e){try{let n=c.__wbindgen_add_to_stack_pointer(-16);c.perspectivedatecolumnstyleelement_reset(n,this.ptr,M(e));var t=b()[n/4+0];if(b()[n/4+1])throw E(t)}finally{c.__wbindgen_add_to_stack_pointer(16)}}open(e,t,n){try{let i=c.__wbindgen_add_to_stack_pointer(-16);c.perspectivedatecolumnstyleelement_open(i,this.ptr,M(e),M(t),M(n));var r=b()[i/4+0];if(b()[i/4+1])throw E(r)}finally{c.__wbindgen_add_to_stack_pointer(16)}}close(){try{let t=c.__wbindgen_add_to_stack_pointer(-16);c.perspectivedatecolumnstyleelement_close(t,this.ptr);var e=b()[t/4+0];if(b()[t/4+1])throw E(e)}finally{c.__wbindgen_add_to_stack_pointer(16)}}destroy(){try{let t=this.__destroy_into_raw(),n=c.__wbindgen_add_to_stack_pointer(-16);c.perspectivedatecolumnstyleelement_destroy(n,t);var e=b()[n/4+0];if(b()[n/4+1])throw E(e)}finally{c.__wbindgen_add_to_stack_pointer(16)}}connected_callback(){c.copydropdownmenuelement_connected_callback(this.ptr)}},ee=class{static __wrap(e){let t=Object.create(ee.prototype);return t.ptr=e,t}__destroy_into_raw(){let e=this.ptr;return this.ptr=0,e}free(){let e=this.__destroy_into_raw();c.__wbg_perspectivedatetimecolumnstyleelement_free(e)}constructor(e){let t=c.perspectivedatecolumnstyleelement_new(M(e));return ee.__wrap(t)}reset(e){try{let n=c.__wbindgen_add_to_stack_pointer(-16);c.perspectivedatecolumnstyleelement_reset(n,this.ptr,M(e));var t=b()[n/4+0];if(b()[n/4+1])throw E(t)}finally{c.__wbindgen_add_to_stack_pointer(16)}}open(e,t,n){try{let i=c.__wbindgen_add_to_stack_pointer(-16);c.perspectivedatetimecolumnstyleelement_open(i,this.ptr,M(e),M(t),M(n));var r=b()[i/4+0];if(b()[i/4+1])throw E(r)}finally{c.__wbindgen_add_to_stack_pointer(16)}}close(){try{let t=c.__wbindgen_add_to_stack_pointer(-16);c.perspectivedatecolumnstyleelement_close(t,this.ptr);var e=b()[t/4+0];if(b()[t/4+1])throw E(e)}finally{c.__wbindgen_add_to_stack_pointer(16)}}destroy(){try{let t=this.__destroy_into_raw(),n=c.__wbindgen_add_to_stack_pointer(-16);c.perspectivedatecolumnstyleelement_destroy(n,t);var e=b()[n/4+0];if(b()[n/4+1])throw E(e)}finally{c.__wbindgen_add_to_stack_pointer(16)}}connected_callback(){c.copydropdownmenuelement_connected_callback(this.ptr)}},te=class{static __wrap(e){let t=Object.create(te.prototype);return t.ptr=e,t}__destroy_into_raw(){let e=this.ptr;return this.ptr=0,e}free(){let e=this.__destroy_into_raw();c.__wbg_perspectivedebugpluginelement_free(e)}constructor(e){let t=c.perspectivedebugpluginelement_new(M(e));return te.__wrap(t)}get name(){try{let n=c.__wbindgen_add_to_stack_pointer(-16);c.perspectivedebugpluginelement_name(n,this.ptr);var e=b()[n/4+0],t=b()[n/4+1];return T(e,t)}finally{c.__wbindgen_add_to_stack_pointer(16),c.__wbindgen_export_10(e,t)}}get select_mode(){try{let n=c.__wbindgen_add_to_stack_pointer(-16);c.perspectivedebugpluginelement_select_mode(n,this.ptr);var e=b()[n/4+0],t=b()[n/4+1];return T(e,t)}finally{c.__wbindgen_add_to_stack_pointer(16),c.__wbindgen_export_10(e,t)}}get min_config_columns(){return E(c.perspectivedebugpluginelement_config_column_names(this.ptr))}get config_column_names(){return E(c.perspectivedebugpluginelement_config_column_names(this.ptr))}update(e){return E(c.perspectivedebugpluginelement_draw(this.ptr,M(e)))}draw(e){return E(c.perspectivedebugpluginelement_draw(this.ptr,M(e)))}clear(){return E(c.perspectivedebugpluginelement_clear(this.ptr))}resize(){return E(c.perspectivedebugpluginelement_clear(this.ptr))}restyle(){return E(c.perspectivedebugpluginelement_clear(this.ptr))}save(){return E(c.perspectivedebugpluginelement_clear(this.ptr))}restore(){return E(c.perspectivedebugpluginelement_clear(this.ptr))}delete(){return E(c.perspectivedebugpluginelement_clear(this.ptr))}connectedCallback(){c.copydropdownmenuelement_connected_callback(this.ptr)}},ne=class{static __wrap(e){let t=Object.create(ne.prototype);return t.ptr=e,t}__destroy_into_raw(){let e=this.ptr;return this.ptr=0,e}free(){let e=this.__destroy_into_raw();c.__wbg_perspectivenumbercolumnstyleelement_free(e)}constructor(e){let t=c.perspectivedatecolumnstyleelement_new(M(e));return ne.__wrap(t)}reset(e,t){try{let r=c.__wbindgen_add_to_stack_pointer(-16);c.perspectivenumbercolumnstyleelement_reset(r,this.ptr,M(e),M(t));var n=b()[r/4+0];if(b()[r/4+1])throw E(n)}finally{c.__wbindgen_add_to_stack_pointer(16)}}open(e,t,n){try{let i=c.__wbindgen_add_to_stack_pointer(-16);c.perspectivenumbercolumnstyleelement_open(i,this.ptr,M(e),M(t),M(n));var r=b()[i/4+0];if(b()[i/4+1])throw E(r)}finally{c.__wbindgen_add_to_stack_pointer(16)}}close(){try{let t=c.__wbindgen_add_to_stack_pointer(-16);c.perspectivedatecolumnstyleelement_close(t,this.ptr);var e=b()[t/4+0];if(b()[t/4+1])throw E(e)}finally{c.__wbindgen_add_to_stack_pointer(16)}}destroy(){try{let t=this.__destroy_into_raw(),n=c.__wbindgen_add_to_stack_pointer(-16);c.perspectivenumbercolumnstyleelement_destroy(n,t);var e=b()[n/4+0];if(b()[n/4+1])throw E(e)}finally{c.__wbindgen_add_to_stack_pointer(16)}}connected_callback(){c.copydropdownmenuelement_connected_callback(this.ptr)}},re=class{static __wrap(e){let t=Object.create(re.prototype);return t.ptr=e,t}__destroy_into_raw(){let e=this.ptr;return this.ptr=0,e}free(){let e=this.__destroy_into_raw();c.__wbg_perspectivestringcolumnstyleelement_free(e)}constructor(e){let t=c.perspectivedatecolumnstyleelement_new(M(e));return re.__wrap(t)}reset(e){try{let n=c.__wbindgen_add_to_stack_pointer(-16);c.perspectivestringcolumnstyleelement_reset(n,this.ptr,M(e));var t=b()[n/4+0];if(b()[n/4+1])throw E(t)}finally{c.__wbindgen_add_to_stack_pointer(16)}}open(e,t,n){try{let i=c.__wbindgen_add_to_stack_pointer(-16);c.perspectivestringcolumnstyleelement_open(i,this.ptr,M(e),M(t),M(n));var r=b()[i/4+0];if(b()[i/4+1])throw E(r)}finally{c.__wbindgen_add_to_stack_pointer(16)}}close(){try{let t=c.__wbindgen_add_to_stack_pointer(-16);c.perspectivedatecolumnstyleelement_close(t,this.ptr);var e=b()[t/4+0];if(b()[t/4+1])throw E(e)}finally{c.__wbindgen_add_to_stack_pointer(16)}}destroy(){try{let t=this.__destroy_into_raw(),n=c.__wbindgen_add_to_stack_pointer(-16);c.perspectivestringcolumnstyleelement_destroy(n,t);var e=b()[n/4+0];if(b()[n/4+1])throw E(e)}finally{c.__wbindgen_add_to_stack_pointer(16)}}connected_callback(){c.copydropdownmenuelement_connected_callback(this.ptr)}},ie=class{static __wrap(e){let t=Object.create(ie.prototype);return t.ptr=e,t}__destroy_into_raw(){let e=this.ptr;return this.ptr=0,e}free(){let e=this.__destroy_into_raw();c.__wbg_perspectiveviewerelement_free(e)}constructor(e){let t=c.perspectiveviewerelement_new(M(e));return ie.__wrap(t)}connectedCallback(){c.copydropdownmenuelement_connected_callback(this.ptr)}load(e){return E(c.perspectiveviewerelement_load(this.ptr,M(e)))}delete(){return E(c.perspectiveviewerelement_delete(this.ptr))}getView(){return E(c.perspectiveviewerelement_getView(this.ptr))}getTable(e){return E(c.perspectiveviewerelement_getTable(this.ptr,h(e)?16777215:e?1:0))}flush(){return E(c.perspectiveviewerelement_flush(this.ptr))}restore(e){return E(c.perspectiveviewerelement_restore(this.ptr,M(e)))}save(e){var t=h(e)?0:k(e,c.__wbindgen_export_0,c.__wbindgen_export_1),n=m;return E(c.perspectiveviewerelement_save(this.ptr,t,n))}download(e){return E(c.perspectiveviewerelement_download(this.ptr,h(e)?16777215:e?1:0))}copy(e){return E(c.perspectiveviewerelement_copy(this.ptr,h(e)?16777215:e?1:0))}reset(e){return E(c.perspectiveviewerelement_reset(this.ptr,h(e)?16777215:e?1:0))}notifyResize(e){return E(c.perspectiveviewerelement_notifyResize(this.ptr,h(e)?16777215:e?1:0))}setAutoSize(e){c.perspectiveviewerelement_setAutoSize(this.ptr,e)}getEditPort(){try{let n=c.__wbindgen_add_to_stack_pointer(-16);c.perspectiveviewerelement_getEditPort(n,this.ptr);var e=p()[n/8+0],t=b()[n/4+2];if(b()[n/4+3])throw E(t);return e}finally{c.__wbindgen_add_to_stack_pointer(16)}}restyleElement(){return E(c.perspectiveviewerelement_restyleElement(this.ptr))}resetThemes(e){var t=h(e)?0:function(e,t){let n=t(4*e.length),r=j();for(let t=0;t<e.length;t++)r[n/4+t]=M(e[t]);return m=e.length,n}(e,c.__wbindgen_export_0),n=m;return E(c.perspectiveviewerelement_resetThemes(this.ptr,t,n))}setThrottle(e){c.perspectiveviewerelement_setThrottle(this.ptr,!h(e),h(e)?0:e)}toggleConfig(e){return E(c.perspectiveviewerelement_toggleConfig(this.ptr,h(e)?16777215:e?1:0))}getAllPlugins(){return E(c.perspectiveviewerelement_getAllPlugins(this.ptr))}getPlugin(e){try{let a=c.__wbindgen_add_to_stack_pointer(-16);var t=h(e)?0:k(e,c.__wbindgen_export_0,c.__wbindgen_export_1),n=m;c.perspectiveviewerelement_getPlugin(a,this.ptr,t,n);var r=b()[a/4+0],i=b()[a/4+1];if(b()[a/4+2])throw E(i);return E(r)}finally{c.__wbindgen_add_to_stack_pointer(16)}}unsafeGetModel(){return c.perspectiveviewerelement_unsafeGetModel(this.ptr)}};function ae(){let e={wbg:{}};return e.wbg.__wbindgen_is_undefined=function(e){return void 0===d(e)},e.wbg.__wbindgen_in=function(e,t){return d(e)in d(t)},e.wbg.__wbindgen_number_get=function(e,t){let n=d(t),r="number"==typeof n?n:void 0;p()[e/8+1]=h(r)?0:r,b()[e/4+0]=!h(r)},e.wbg.__wbindgen_boolean_get=function(e){let t=d(e);return"boolean"==typeof t?t?1:0:2},e.wbg.__wbindgen_string_get=function(e,t){let n=d(t),r="string"==typeof n?n:void 0;var i=h(r)?0:k(r,c.__wbindgen_export_0,c.__wbindgen_export_1),a=m;b()[e/4+1]=a,b()[e/4+0]=i},e.wbg.__wbindgen_is_bigint=function(e){return"bigint"==typeof d(e)},e.wbg.__wbindgen_is_object=function(e){let t=d(e);return"object"==typeof t&&null!==t},e.wbg.__wbindgen_is_string=function(e){return"string"==typeof d(e)},e.wbg.__wbindgen_bigint_from_i64=function(e){return M(e)},e.wbg.__wbindgen_bigint_from_u64=function(e){return M(BigInt.asUintN(64,e))},e.wbg.__wbindgen_error_new=function(e,t){return M(new Error(T(e,t)))},e.wbg.__wbg_static_accessor_PSP_0cc65cf7cedd756b=function(){return M(l)},e.wbg.__wbindgen_object_clone_ref=function(e){return M(d(e))},e.wbg.__wbindgen_jsval_eq=function(e,t){return d(e)===d(t)},e.wbg.__wbindgen_string_new=function(e,t){return M(T(e,t))},e.wbg.__wbg_supportedValuesOf_3ebf026c63824cdd=function(e){return M(Intl.supportedValuesOf(d(e)))},e.wbg.__wbindgen_object_drop_ref=function(e){E(e)},e.wbg.__wbindgen_cb_drop=function(e){let t=E(e).original;return 1==t.cnt--&&(t.a=0,!0)},e.wbg.__wbg_expressionschema_1c64e491d62b1d1b=function(e){return M(d(e).expression_schema)},e.wbg.__wbg_restore_eb718ee7976ec471=function(e,t){d(e).restore(d(t))},e.wbg.__wbindgen_is_null=function(e){return null===d(e)},e.wbg.__wbg_contentRect_c7e1558b11513d1f=function(e){return M(d(e).contentRect)},e.wbg.__wbg_new_30a81243dd469d48=function(e){return M(new s(d(e)))},e.wbg.__wbg_update_196e55a30dc22720=function(){return $((function(e,t,n,r,i,a,o){return M(d(e).update(d(t),0===n?void 0:r>>>0,0===i?void 0:a>>>0,0!==o))}),arguments)},e.wbg.__wbg_draw_32806b1e86784164=function(){return $((function(e,t,n,r,i,a,o){return M(d(e).draw(d(t),0===n?void 0:r>>>0,0===i?void 0:a>>>0,0!==o))}),arguments)},e.wbg.__wbg_delete_5c8817fd700368d7=function(e){d(e).delete()},e.wbg.__wbg_setrenderwarning_ceb65bf247059767=function(e,t){d(e).render_warning=0!==t},e.wbg.__wbg_size_7ffac4d854c8e705=function(){return $((function(e){return M(d(e).size())}),arguments)},e.wbg.__wbg_columns_0457c003860eef18=function(){return $((function(e){return M(d(e).columns())}),arguments)},e.wbg.__wbg_schema_1a05ce4246274a86=function(){return $((function(e){return M(d(e).schema())}),arguments)},e.wbg.__wbg_makeport_f690bcff7870545f=function(){return $((function(e){return M(d(e).make_port())}),arguments)},e.wbg.__wbg_numtablerows_a1307ce852d4a523=function(e){return d(e).num_table_rows},e.wbg.__wbg_numtablecolumns_c010fb18b1ec48f8=function(e){return d(e).num_table_columns},e.wbg.__wbg_numviewrows_dca7f36f70a6b540=function(e){return d(e).num_view_rows},e.wbg.__wbg_numviewcolumns_eaa4febb7e77d280=function(e){return d(e).num_view_columns},e.wbg.__wbg_errors_b285d9c234a73267=function(e){return M(d(e).errors)},e.wbg.__wbg_tocolumns_5b35bb76cb5a9987=function(){return $((function(e){return M(d(e).to_columns())}),arguments)},e.wbg.__wbindgen_number_new=function(e){return M(e)},e.wbg.__wbg_onupdate_06de80c880aa7709=function(e,t){d(e).on_update(d(t))},e.wbg.__wbg_removeupdate_278386e2b82d4858=function(e,t){d(e).remove_update(d(t))},e.wbg.__wbg_expressionalias_82d007fdaff2f20f=function(e){return M(d(e).expression_alias)},e.wbg.__wbg_validateexpressions_6a3e2f5364793d59=function(){return $((function(e,t){return M(d(e).validate_expressions(E(t)))}),arguments)},e.wbg.__wbg_view_a76d788536e7f6b7=function(){return $((function(e,t){return M(d(e).view(d(t)))}),arguments)},e.wbg.__wbg_tocsv_7b8fa89086d7ba41=function(){return $((function(e,t){return M(d(e).to_csv(E(t)))}),arguments)},e.wbg.__wbg_toarrow_26f1fe2fb393072b=function(){return $((function(e){return M(d(e).to_arrow())}),arguments)},e.wbg.__wbg_dimensions_6d9d8be25ae12be3=function(){return $((function(e){return M(d(e).dimensions())}),arguments)},e.wbg.__wbg_schema_d005855fb2d3cba0=function(){return $((function(e){return M(d(e).schema())}),arguments)},e.wbg.__wbg_delete_15b63d1e52fba9fb=function(){return $((function(e){return M(d(e).delete())}),arguments)},e.wbg.__wbg_name_d681f031b77c010f=function(e,t){let n=k(d(t).name,c.__wbindgen_export_0,c.__wbindgen_export_1),r=m;b()[e/4+1]=r,b()[e/4+0]=n},e.wbg.__wbg_category_a22b6372e5dfe1df=function(e,t){let n=d(t).category;var r=h(n)?0:k(n,c.__wbindgen_export_0,c.__wbindgen_export_1),i=m;b()[e/4+1]=i,b()[e/4+0]=r},e.wbg.__wbg_maxcolumns_b5c1a694aa5a7216=function(e,t){let n=d(t).max_columns;b()[e/4+1]=h(n)?0:n,b()[e/4+0]=!h(n)},e.wbg.__wbg_maxcells_df33230eaf03adc6=function(e,t){let n=d(t).max_cells;b()[e/4+1]=h(n)?0:n,b()[e/4+0]=!h(n)},e.wbg.__wbg_renderwarning_ffd3dd842629d2f0=function(e){let t=d(e).render_warning;return h(t)?16777215:t?1:0},e.wbg.__wbg_selectmode_a4f42126a3a695e4=function(e){return M(d(e).select_mode)},e.wbg.__wbg_minconfigcolumns_8c52398481b0a488=function(e,t){let n=d(t).min_config_columns;b()[e/4+1]=h(n)?0:n,b()[e/4+0]=!h(n)},e.wbg.__wbg_configcolumnnames_f628b599a2a2fcdf=function(e){let t=d(e).config_column_names;return h(t)?0:M(t)},e.wbg.__wbg_priority_ef18202d7e186f1b=function(e,t){let n=d(t).priority;b()[e/4+1]=h(n)?0:n,b()[e/4+0]=!h(n)},e.wbg.__wbg_save_6911615b0cfdc8ce=function(e){return M(d(e).save())},e.wbg.__wbg_restyle_f64951587dbfc424=function(){return $((function(e,t){return M(d(e).restyle(d(t)))}),arguments)},e.wbg.__wbg_resize_f3184a22d059d3d3=function(){return $((function(e){return M(d(e).resize())}),arguments)},e.wbg.__wbg_new_28fb5a57a43278bf=function(e){return M(new u(d(e)))},e.wbg.__wbg_observe_86cff0707ef94742=function(e,t){d(e).observe(d(t))},e.wbg.__wbg_unobserve_076b14b125b8791c=function(e,t){d(e).unobserve(d(t))},e.wbg.__wbg_bootstrap_4473f4286a3dc4fd=function(e,t,n,r,i,a){let o=function(e,t,n,r){let i=e[n],a=i.prototype;class o extends HTMLElement{constructor(){super(),this._instance=new i(this)}}let l=Object.getOwnPropertyNames(a);for(let e of l)"get"in Object.getOwnPropertyDescriptor(a,e)?Object.defineProperty(o.prototype,e,{get:function(){return this._instance[e]}}):Object.defineProperty(o.prototype,e,{value:function(...t){return this._instance[e].call(this._instance,...t)}});for(let t of r)Object.defineProperty(o,t,{value:function(...n){return e[t].call(e,...n)}});customElements.define(t,o)}(d(e),T(t,n),T(r,i),E(a));return M(o)},e.wbg.__wbg_listenerid_12315eee21527820=function(e,t){let n=d(t).__yew_listener_id;b()[e/4+1]=h(n)?0:n,b()[e/4+0]=!h(n)},e.wbg.__wbg_setlistenerid_3183aae8fa5840fb=function(e,t){d(e).__yew_listener_id=t>>>0},e.wbg.__wbg_setsubtreeid_d32e6327eef1f7fc=function(e,t){d(e).__yew_subtree_id=t>>>0},e.wbg.__wbg_setcachekey_80183b7cfc421143=function(e,t){d(e).__yew_subtree_cache_key=t>>>0},e.wbg.__wbg_subtreeid_e348577f7ef777e3=function(e,t){let n=d(t).__yew_subtree_id;b()[e/4+1]=h(n)?0:n,b()[e/4+0]=!h(n)},e.wbg.__wbg_cachekey_b61393159c57fd7b=function(e,t){let n=d(t).__yew_subtree_cache_key;b()[e/4+1]=h(n)?0:n,b()[e/4+0]=!h(n)},e.wbg.__wbg_new_abda76e883ba8a5f=function(){return M(new Error)},e.wbg.__wbg_stack_658279fe44541cf6=function(e,t){let n=k(d(t).stack,c.__wbindgen_export_0,c.__wbindgen_export_1),r=m;b()[e/4+1]=r,b()[e/4+0]=n},e.wbg.__wbg_error_f851667af71bcfc6=function(e,t){try{console.error(T(e,t))}finally{c.__wbindgen_export_10(e,t)}},e.wbg.__wbindgen_jsval_loose_eq=function(e,t){return d(e)==d(t)},e.wbg.__wbg_String_91fba7ded13ba54c=function(e,t){let n=k(String(d(t)),c.__wbindgen_export_0,c.__wbindgen_export_1),r=m;b()[e/4+1]=r,b()[e/4+0]=n},e.wbg.__wbg_getwithrefkey_15c62c2b8546208d=function(e,t){return M(d(e)[d(t)])},e.wbg.__wbg_set_20cbc34131e76824=function(e,t,n){d(e)[E(t)]=E(n)},e.wbg.__wbg_error_c0a7dc7e3b138aad=function(e,t){var n=U(e,t).slice();c.__wbindgen_export_10(e,4*t),console.error(...n)},e.wbg.__wbg_newwithu8arraysequence_fede89c6795cc33e=function(){return $((function(e){return M(new Blob(d(e)))}),arguments)},e.wbg.__wbg_newwithstrsequenceandoptions_710e3955c3af1c1f=function(){return $((function(e,t){return M(new Blob(d(e),d(t)))}),arguments)},e.wbg.__wbg_write_835b6fdc840018db=function(e,t){return M(d(e).write(d(t)))},e.wbg.__wbg_length_cb56788f94a79587=function(e){return d(e).length},e.wbg.__wbg_item_cd42d84b8a35d126=function(e,t){let n=d(e).item(t>>>0);return h(n)?0:M(n)},e.wbg.__wbg_length_eef5266d0b30c7d7=function(e){return d(e).length},e.wbg.__wbg_getPropertyValue_05e910529ab6e32a=function(){return $((function(e,t,n,r){let i=k(d(t).getPropertyValue(T(n,r)),c.__wbindgen_export_0,c.__wbindgen_export_1),a=m;b()[e/4+1]=a,b()[e/4+0]=i}),arguments)},e.wbg.__wbg_item_4c111cb0cc721409=function(e,t,n){let r=k(d(t).item(n>>>0),c.__wbindgen_export_0,c.__wbindgen_export_1),i=m;b()[e/4+1]=i,b()[e/4+0]=r},e.wbg.__wbg_setProperty_21e2e7868b86a93e=function(){return $((function(e,t,n,r,i){d(e).setProperty(T(t,n),T(r,i))}),arguments)},e.wbg.__wbg_instanceof_CssStyleRule_6e8af49f43f0b7ab=function(e){let t;try{t=d(e)instanceof CSSStyleRule}catch{t=!1}return t},e.wbg.__wbg_selectorText_62ef3bed9323aefc=function(e,t){let n=k(d(t).selectorText,c.__wbindgen_export_0,c.__wbindgen_export_1),r=m;b()[e/4+1]=r,b()[e/4+0]=n},e.wbg.__wbg_style_71d307158ce61414=function(e){return M(d(e).style)},e.wbg.__wbg_cssRules_d2d7f924cdcf6c4c=function(){return $((function(e){return M(d(e).cssRules)}),arguments)},e.wbg.__wbg_new_6ed14e2e6f8b5a03=function(){return $((function(e,t){return M(new CustomEvent(T(e,t)))}),arguments)},e.wbg.__wbg_newwitheventinitdict_3607f3d9a58509d5=function(){return $((function(e,t,n){return M(new CustomEvent(T(e,t),d(n)))}),arguments)},e.wbg.__wbg_setdropEffect_95e777b58aabb679=function(e,t,n){d(e).dropEffect=T(t,n)},e.wbg.__wbg_setData_7cbabb43b90bb947=function(){return $((function(e,t,n,r,i){d(e).setData(T(t,n),T(r,i))}),arguments)},e.wbg.__wbg_setDragImage_12deaa947a938ec4=function(e,t,n,r){d(e).setDragImage(d(t),n,r)},e.wbg.__wbg_readyState_70087d592b243b36=function(e,t){let n=k(d(t).readyState,c.__wbindgen_export_0,c.__wbindgen_export_1),r=m;b()[e/4+1]=r,b()[e/4+0]=n},e.wbg.__wbg_body_be46234bb33edd63=function(e){let t=d(e).body;return h(t)?0:M(t)},e.wbg.__wbg_activeElement_4f793763dfcc99d7=function(e){let t=d(e).activeElement;return h(t)?0:M(t)},e.wbg.__wbg_styleSheets_bdce530fbe6c099e=function(e){return M(d(e).styleSheets)},e.wbg.__wbg_fonts_dfcbe0032e3ae560=function(e){return M(d(e).fonts)},e.wbg.__wbg_createElement_e2a0e21263eb5416=function(){return $((function(e,t,n){return M(d(e).createElement(T(t,n)))}),arguments)},e.wbg.__wbg_createElementNS_0047de728927ea00=function(){return $((function(e,t,n,r,i){return M(d(e).createElementNS(0===t?void 0:T(t,n),T(r,i)))}),arguments)},e.wbg.__wbg_createTextNode_866e33a51b47f04c=function(e,t,n){return M(d(e).createTextNode(T(t,n)))},e.wbg.__wbg_width_f0cbf7dcbbe056da=function(e){return d(e).width},e.wbg.__wbg_height_e46975153da440ae=function(e){return d(e).height},e.wbg.__wbg_width_6762f1c0e103466e=function(e){return d(e).width},e.wbg.__wbg_height_7228c2f4dd8e75bd=function(e){return d(e).height},e.wbg.__wbg_top_98bc5382de3ec5d2=function(e){return d(e).top},e.wbg.__wbg_left_09342c290d46b4a6=function(e){return d(e).left},e.wbg.__wbg_get_36817a0b6bd3b305=function(e,t,n,r){let i=d(t)[T(n,r)];var a=h(i)?0:k(i,c.__wbindgen_export_0,c.__wbindgen_export_1),o=m;b()[e/4+1]=o,b()[e/4+0]=a},e.wbg.__wbg_set_6903780050f0d9a9=function(){return $((function(e,t,n,r,i){d(e)[T(t,n)]=T(r,i)}),arguments)},e.wbg.__wbg_delete_d197db23212363f3=function(e,t,n){delete d(e)[T(t,n)]},e.wbg.__wbg_add_ea314b325ad27189=function(){return $((function(e,t){d(e).add(...d(t))}),arguments)},e.wbg.__wbg_add_73f794d491a0e44f=function(){return $((function(e,t,n){d(e).add(T(t,n))}),arguments)},e.wbg.__wbg_remove_10fbe66510bfee98=function(){return $((function(e,t){d(e).remove(...d(t))}),arguments)},e.wbg.__wbg_remove_f021903057d23f5e=function(){return $((function(e,t,n){d(e).remove(T(t,n))}),arguments)},e.wbg.__wbg_toggle_e36c504dbc3d7694=function(){return $((function(e,t,n){return d(e).toggle(T(t,n))}),arguments)},e.wbg.__wbg_dataTransfer_445ade328cdd17c8=function(e){let t=d(e).dataTransfer;return h(t)?0:M(t)},e.wbg.__wbg_instanceof_Element_cb847a3fc7b1b1a4=function(e){let t;try{t=d(e)instanceof Element}catch{t=!1}return t},e.wbg.__wbg_namespaceURI_436d78f0f18e05c1=function(e,t){let n=d(t).namespaceURI;var r=h(n)?0:k(n,c.__wbindgen_export_0,c.__wbindgen_export_1),i=m;b()[e/4+1]=i,b()[e/4+0]=r},e.wbg.__wbg_tagName_92d4c105959ede9f=function(e,t){let n=k(d(t).tagName,c.__wbindgen_export_0,c.__wbindgen_export_1),r=m;b()[e/4+1]=r,b()[e/4+0]=n},e.wbg.__wbg_classList_c4ebb3813d3a2f5d=function(e){return M(d(e).classList)},e.wbg.__wbg_scrollTop_296f89e3a4486106=function(e){return d(e).scrollTop},e.wbg.__wbg_scrollLeft_7d962ecb3da16acc=function(e){return d(e).scrollLeft},e.wbg.__wbg_setscrollLeft_5124e83b21ab4746=function(e,t){d(e).scrollLeft=t},e.wbg.__wbg_clientWidth_1fa51f20a3bebbbf=function(e){return d(e).clientWidth},e.wbg.__wbg_clientHeight_0fe149fdad1fe046=function(e){return d(e).clientHeight},e.wbg.__wbg_setinnerHTML_76167cda24d9b96b=function(e,t,n){d(e).innerHTML=T(t,n)},e.wbg.__wbg_children_93bcc921a4904ad4=function(e){return M(d(e).children)},e.wbg.__wbg_attachShadow_c071102f3dae5d9a=function(){return $((function(e,t){return M(d(e).attachShadow(d(t)))}),arguments)},e.wbg.__wbg_getAttribute_2c20e00a5cd314af=function(e,t,n,r){let i=d(t).getAttribute(T(n,r));var a=h(i)?0:k(i,c.__wbindgen_export_0,c.__wbindgen_export_1),o=m;b()[e/4+1]=o,b()[e/4+0]=a},e.wbg.__wbg_getBoundingClientRect_aaa701cbcb448965=function(e){return M(d(e).getBoundingClientRect())},e.wbg.__wbg_hasAttribute_8d21af81e8fc2f17=function(e,t,n){return d(e).hasAttribute(T(t,n))},e.wbg.__wbg_matches_bda2f7b6478030a6=function(){return $((function(e,t,n){return d(e).matches(T(t,n))}),arguments)},e.wbg.__wbg_releasePointerCapture_b0063bfa1890f17b=function(){return $((function(e,t){d(e).releasePointerCapture(t)}),arguments)},e.wbg.__wbg_removeAttribute_ad7a5bf2eed30373=function(){return $((function(e,t,n){d(e).removeAttribute(T(t,n))}),arguments)},e.wbg.__wbg_setAttribute_79c9562d32d05e66=function(){return $((function(e,t,n,r,i){d(e).setAttribute(T(t,n),T(r,i))}),arguments)},e.wbg.__wbg_setPointerCapture_5479dc0d082282b7=function(){return $((function(e,t){d(e).setPointerCapture(t)}),arguments)},e.wbg.__wbg_toggleAttribute_b07fecd058040a59=function(){return $((function(e,t,n,r){return d(e).toggleAttribute(T(t,n),0!==r)}),arguments)},e.wbg.__wbg_target_b629c177f9bee3da=function(e){let t=d(e).target;return h(t)?0:M(t)},e.wbg.__wbg_bubbles_80a0700df9c59aee=function(e){return d(e).bubbles},e.wbg.__wbg_cancelBubble_c9a8182589205d54=function(e){return d(e).cancelBubble},e.wbg.__wbg_composedPath_d4428cc409ddd3e6=function(e){return M(d(e).composedPath())},e.wbg.__wbg_preventDefault_16b2170b12f56317=function(e){d(e).preventDefault()},e.wbg.__wbg_stopPropagation_7647c9985222f9b0=function(e){d(e).stopPropagation()},e.wbg.__wbg_addEventListener_615d4590d38da1c9=function(){return $((function(e,t,n,r){d(e).addEventListener(T(t,n),d(r))}),arguments)},e.wbg.__wbg_addEventListener_cf5b03cd29763277=function(){return $((function(e,t,n,r,i){d(e).addEventListener(T(t,n),d(r),d(i))}),arguments)},e.wbg.__wbg_dispatchEvent_615d1ccbba577081=function(){return $((function(e,t){return d(e).dispatchEvent(d(t))}),arguments)},e.wbg.__wbg_removeEventListener_86fd19ed073cd1ed=function(){return $((function(e,t,n,r){d(e).removeEventListener(T(t,n),d(r))}),arguments)},e.wbg.__wbg_instanceof_FontFace_52e8786298dcabeb=function(e){let t;try{t=d(e)instanceof FontFace}catch{t=!1}return t},e.wbg.__wbg_family_afd8897a6b516d76=function(e,t){let n=k(d(t).family,c.__wbindgen_export_0,c.__wbindgen_export_1),r=m;b()[e/4+1]=r,b()[e/4+0]=n},e.wbg.__wbg_weight_a1f1e299df7b3fa2=function(e,t){let n=k(d(t).weight,c.__wbindgen_export_0,c.__wbindgen_export_1),r=m;b()[e/4+1]=r,b()[e/4+0]=n},e.wbg.__wbg_loaded_02544538272a8a04=function(){return $((function(e){return M(d(e).loaded)}),arguments)},e.wbg.__wbg_values_aafc66d1486c9292=function(e){return M(d(e).values())},e.wbg.__wbg_next_92f073c7b53427b2=function(){return $((function(e){return M(d(e).next())}),arguments)},e.wbg.__wbg_item_2ab86c1e3cb70ed3=function(e,t){let n=d(e).item(t>>>0);return h(n)?0:M(n)},e.wbg.__wbg_getwithindex_aec05ea9d2417c75=function(e,t){let n=d(e)[t>>>0];return h(n)?0:M(n)},e.wbg.__wbg_scrollTop_99ac74051927ce93=function(e){return d(e).scrollTop},e.wbg.__wbg_setscrollTop_a800ac5312e75de8=function(e,t){d(e).scrollTop=t},e.wbg.__wbg_dataset_704ec547006a213c=function(e){return M(d(e).dataset)},e.wbg.__wbg_style_2141664e428fef46=function(e){return M(d(e).style)},e.wbg.__wbg_offsetParent_fadc40e6ce156dc2=function(e){let t=d(e).offsetParent;return h(t)?0:M(t)},e.wbg.__wbg_offsetWidth_56caa7d0f7e171a2=function(e){return d(e).offsetWidth},e.wbg.__wbg_offsetHeight_31cde48f5fbc2368=function(e){return d(e).offsetHeight},e.wbg.__wbg_blur_b94a30ed202c3612=function(){return $((function(e){d(e).blur()}),arguments)},e.wbg.__wbg_click_f3e37a4a2595187d=function(e){d(e).click()},e.wbg.__wbg_focus_6497e1b44dabfb24=function(){return $((function(e){d(e).focus()}),arguments)},e.wbg.__wbg_checked_44c09d0c819e33ad=function(e){return d(e).checked},e.wbg.__wbg_setchecked_cbd6f423c4deba69=function(e,t){d(e).checked=0!==t},e.wbg.__wbg_value_1f2c9e357d18d3ea=function(e,t){let n=k(d(t).value,c.__wbindgen_export_0,c.__wbindgen_export_1),r=m;b()[e/4+1]=r,b()[e/4+0]=n},e.wbg.__wbg_setvalue_a706abe70dab1b65=function(e,t,n){d(e).value=T(t,n)},e.wbg.__wbg_selectedIndex_1e9fee59fa44bd02=function(e){return d(e).selectedIndex},e.wbg.__wbg_setvalue_7f698ba375d14330=function(e,t,n){d(e).value=T(t,n)},e.wbg.__wbg_value_00fb0fdc46959169=function(e,t){let n=k(d(t).value,c.__wbindgen_export_0,c.__wbindgen_export_1),r=m;b()[e/4+1]=r,b()[e/4+0]=n},e.wbg.__wbg_setvalue_f92ff20dd33356a8=function(e,t,n){d(e).value=T(t,n)},e.wbg.__wbg_setselectionStart_dd9b85d67b4216ee=function(){return $((function(e,t,n){d(e).selectionStart=0===t?void 0:n>>>0}),arguments)},e.wbg.__wbg_selectionEnd_cd4e4c1adfe0d246=function(){return $((function(e,t){let n=d(t).selectionEnd;b()[e/4+1]=h(n)?0:n,b()[e/4+0]=!h(n)}),arguments)},e.wbg.__wbg_setselectionEnd_7c74ebb970b35942=function(){return $((function(e,t,n){d(e).selectionEnd=0===t?void 0:n>>>0}),arguments)},e.wbg.__wbg_keyCode_b33194be2ceec53b=function(e){return d(e).keyCode},e.wbg.__wbg_shiftKey_31e62e9d172b26f0=function(e){return d(e).shiftKey},e.wbg.__wbg_clientX_35f23f953e04ec0e=function(e){return d(e).clientX},e.wbg.__wbg_clientY_8104e462abc0b3ec=function(e){return d(e).clientY},e.wbg.__wbg_offsetX_413d9f02022e72ad=function(e){return d(e).offsetX},e.wbg.__wbg_offsetY_488f80a0a9666028=function(e){return d(e).offsetY},e.wbg.__wbg_shiftKey_fdd99b6df96e25c5=function(e){return d(e).shiftKey},e.wbg.__wbg_button_a1c470d5e4c997f2=function(e){return d(e).button},e.wbg.__wbg_relatedTarget_66d2be52fe1361a2=function(e){let t=d(e).relatedTarget;return h(t)?0:M(t)},e.wbg.__wbg_clipboard_72ae7717d527a067=function(e){let t=d(e).clipboard;return h(t)?0:M(t)},e.wbg.__wbg_isConnected_93fb8849454bdb93=function(e){return d(e).isConnected},e.wbg.__wbg_parentNode_e81e6d5dc2fc35b0=function(e){let t=d(e).parentNode;return h(t)?0:M(t)},e.wbg.__wbg_parentElement_0e8c9afce5cb9d6e=function(e){let t=d(e).parentElement;return h(t)?0:M(t)},e.wbg.__wbg_lastChild_e0fcecf63df5f824=function(e){let t=d(e).lastChild;return h(t)?0:M(t)},e.wbg.__wbg_nextSibling_653f43ab9380175f=function(e){let t=d(e).nextSibling;return h(t)?0:M(t)},e.wbg.__wbg_setnodeValue_10d5890cd7e3f998=function(e,t,n){d(e).nodeValue=0===t?void 0:T(t,n)},e.wbg.__wbg_settextContent_19dc6a6146112f16=function(e,t,n){d(e).textContent=0===t?void 0:T(t,n)},e.wbg.__wbg_appendChild_b8199dc1655c852d=function(){return $((function(e,t){return M(d(e).appendChild(d(t)))}),arguments)},e.wbg.__wbg_cloneNode_4c5e9ec3203eb137=function(){return $((function(e,t){return M(d(e).cloneNode(0!==t))}),arguments)},e.wbg.__wbg_contains_d7dbb4dfe10d9428=function(e,t){return d(e).contains(d(t))},e.wbg.__wbg_getRootNode_d1b23203c654b1e5=function(e){return M(d(e).getRootNode())},e.wbg.__wbg_insertBefore_77a7d032a91abf86=function(){return $((function(e,t,n){return M(d(e).insertBefore(d(t),d(n)))}),arguments)},e.wbg.__wbg_removeChild_794db72cbb6f21d3=function(){return $((function(e,t){return M(d(e).removeChild(d(t)))}),arguments)},e.wbg.__wbg_getEntriesByName_bf69b2da670dc020=function(e,t,n,r,i){return M(d(e).getEntriesByName(T(t,n),T(r,i)))},e.wbg.__wbg_mark_88960258286b2684=function(){return $((function(e,t,n){d(e).mark(T(t,n))}),arguments)},e.wbg.__wbg_measure_6cfb450367bf8564=function(){return $((function(e,t,n,r,i){d(e).measure(T(t,n),T(r,i))}),arguments)},e.wbg.__wbg_now_c644db5194be8437=function(e){return d(e).now()},e.wbg.__wbg_startTime_0f0e575a7b97165d=function(e){return d(e).startTime},e.wbg.__wbg_pointerId_d2caae4465ba386f=function(e){return d(e).pointerId},e.wbg.__wbg_instanceof_ShadowRoot_7088dfa874f5499c=function(e){let t;try{t=d(e)instanceof ShadowRoot}catch{t=!1}return t},e.wbg.__wbg_host_33f0224f975dc46a=function(e){return M(d(e).host)},e.wbg.__wbg_length_551f829bae645f61=function(e){return d(e).length},e.wbg.__wbg_item_494a4f50d5ab293f=function(e,t){let n=d(e).item(t>>>0);return h(n)?0:M(n)},e.wbg.__wbg_which_0dd05aa408002d08=function(e){return d(e).which},e.wbg.__wbg_createObjectURL_adf40f2719ba3b9b=function(){return $((function(e,t){let n=k(URL.createObjectURL(d(t)),c.__wbindgen_export_0,c.__wbindgen_export_1),r=m;b()[e/4+1]=r,b()[e/4+0]=n}),arguments)},e.wbg.__wbg_instanceof_Window_e266f02eee43b570=function(e){let t;try{t=d(e)instanceof Window}catch{t=!1}return t},e.wbg.__wbg_document_950215a728589a2d=function(e){let t=d(e).document;return h(t)?0:M(t)},e.wbg.__wbg_navigator_b18e629f7f0b75fa=function(e){return M(d(e).navigator)},e.wbg.__wbg_innerWidth_7e9d12e05bcb598e=function(){return $((function(e){return M(d(e).innerWidth)}),arguments)},e.wbg.__wbg_innerHeight_3ef25a30618357e0=function(){return $((function(e){return M(d(e).innerHeight)}),arguments)},e.wbg.__wbg_performance_8629f414811abc46=function(e){let t=d(e).performance;return h(t)?0:M(t)},e.wbg.__wbg_getComputedStyle_ae586cab8f5c81f8=function(){return $((function(e,t){let n=d(e).getComputedStyle(d(t));return h(n)?0:M(n)}),arguments)},e.wbg.__wbg_requestAnimationFrame_afe426b568f84138=function(){return $((function(e,t){return d(e).requestAnimationFrame(d(t))}),arguments)},e.wbg.__wbg_setTimeout_6609c9aa64f32bfc=function(){return $((function(e,t,n){return d(e).setTimeout(d(t),n)}),arguments)},e.wbg.__wbg_debug_7960d327fd96f71a=function(e,t,n,r){console.debug(d(e),d(t),d(n),d(r))},e.wbg.__wbg_error_fe807da27c4a4ced=function(e){console.error(d(e))},e.wbg.__wbg_error_62b53e8733a5a02b=function(e,t,n){console.error(d(e),d(t),d(n))},e.wbg.__wbg_error_fd84ca2a8a977774=function(e,t,n,r){console.error(d(e),d(t),d(n),d(r))},e.wbg.__wbg_info_5566be377f5b52ae=function(e,t,n,r){console.info(d(e),d(t),d(n),d(r))},e.wbg.__wbg_trace_62f71326d384be35=function(e,t,n,r){console.trace(d(e),d(t),d(n),d(r))},e.wbg.__wbg_warn_e57696dbb3977030=function(e){console.warn(d(e))},e.wbg.__wbg_warn_48cbddced45e5414=function(e,t,n,r){console.warn(d(e),d(t),d(n),d(r))},e.wbg.__wbindgen_is_function=function(e){return"function"==typeof d(e)},e.wbg.__wbg_self_e7c1f827057f6584=function(){return $((function(){return M(self.self)}),arguments)},e.wbg.__wbg_window_a09ec664e14b1b81=function(){return $((function(){return M(window.window)}),arguments)},e.wbg.__wbg_globalThis_87cbb8506fecf3a9=function(){return $((function(){return M(globalThis.globalThis)}),arguments)},e.wbg.__wbg_global_c85a9259e621f3db=function(){return $((function(){return M(n.g.global)}),arguments)},e.wbg.__wbg_newnoargs_2b8b6bd7753c76ba=function(e,t){return M(new Function(T(e,t)))},e.wbg.__wbg_new_b525de17f44a8943=function(){return M(new Array)},e.wbg.__wbg_new_f841cc6f2098f4b5=function(){return M(new Map)},e.wbg.__wbg_next_b7d530c04fd8b217=function(e){return M(d(e).next)},e.wbg.__wbg_value_6ac8da5cc5b3efda=function(e){return M(d(e).value)},e.wbg.__wbg_iterator_55f114446221aa5a=function(){return M(Symbol.iterator)},e.wbg.__wbg_new_f9876326328f45ed=function(){return M(new Object)},e.wbg.__wbg_new_1a153916efe94e88=function(e,t){return M(new Intl.DateTimeFormat(d(e),d(t)))},e.wbg.__wbg_at_155d8a5ce48004cd=function(e,t){return M(d(e).at(t))},e.wbg.__wbg_get_27fe3dac1c4d0224=function(e,t){return M(d(e)[t>>>0])},e.wbg.__wbg_set_17224bc548dd1d7b=function(e,t,n){d(e)[t>>>0]=E(n)},e.wbg.__wbg_from_67ca20fa722467e6=function(e){return M(Array.from(d(e)))},e.wbg.__wbg_isArray_39d28997bf6b96b4=function(e){return Array.isArray(d(e))},e.wbg.__wbg_length_e498fbc24f9c1d4f=function(e){return d(e).length},e.wbg.__wbg_push_49c286f04dd3bf59=function(e,t){return d(e).push(d(t))},e.wbg.__wbg_instanceof_ArrayBuffer_a69f02ee4c4f5065=function(e){let t;try{t=d(e)instanceof ArrayBuffer}catch{t=!1}return t},e.wbg.__wbg_slice_cd850bbc3b09b547=function(e,t,n){return M(d(e).slice(t>>>0,n>>>0))},e.wbg.__wbg_instanceof_Error_749a7378f4439ee0=function(e){let t;try{t=d(e)instanceof Error}catch{t=!1}return t},e.wbg.__wbg_message_a95c3ef248e4b57a=function(e){return M(d(e).message)},e.wbg.__wbg_call_95d1ea488d03e4e8=function(){return $((function(e,t){return M(d(e).call(d(t)))}),arguments)},e.wbg.__wbg_call_9495de66fdbe016b=function(){return $((function(e,t,n){return M(d(e).call(d(t),d(n)))}),arguments)},e.wbg.__wbg_set_388c4c6422704173=function(e,t,n){return M(d(e).set(d(t),d(n)))},e.wbg.__wbg_next_88560ec06a094dea=function(){return $((function(e){return M(d(e).next())}),arguments)},e.wbg.__wbg_done_1ebec03bbd919843=function(e){return d(e).done},e.wbg.__wbg_isSafeInteger_8c4789029e885159=function(e){return Number.isSafeInteger(d(e))},e.wbg.__wbg_getTimezoneOffset_2a6b27fb18493a56=function(e){return d(e).getTimezoneOffset()},e.wbg.__wbg_new_f127e324c1313064=function(e){return M(new Date(d(e)))},e.wbg.__wbg_entries_4e1315b774245952=function(e){return M(Object.entries(d(e)))},e.wbg.__wbg_is_8f1618fe9a4fd388=function(e,t){return Object.is(d(e),d(t))},e.wbg.__wbg_keys_60443f4f867207f9=function(e){return M(Object.keys(d(e)))},e.wbg.__wbg_get_baf4855f9a986186=function(){return $((function(e,t){return M(Reflect.get(d(e),d(t)))}),arguments)},e.wbg.__wbg_has_3feea89d34bd7ad5=function(){return $((function(e,t){return Reflect.has(d(e),d(t))}),arguments)},e.wbg.__wbg_set_6aa458a4ebdb65cb=function(){return $((function(e,t,n){return Reflect.set(d(e),d(t),d(n))}),arguments)},e.wbg.__wbg_buffer_cf65c07de34b9a08=function(e){return M(d(e).buffer)},e.wbg.__wbg_stringify_029a979dfb73aa17=function(){return $((function(e){return M(JSON.stringify(d(e)))}),arguments)},e.wbg.__wbg_resolvedOptions_8d355f78be16b46d=function(e){return M(d(e).resolvedOptions())},e.wbg.__wbg_instanceof_Promise_4333c4e5587e8936=function(e){let t;try{t=d(e)instanceof Promise}catch{t=!1}return t},e.wbg.__wbg_new_9d3a9ce4282a18a8=function(e,t){try{var n={a:e,b:t};let r=new Promise(((e,t)=>{let r=n.a;n.a=0;try{return function(e,t,n,r){c.__wbindgen_export_12(e,t,M(n),M(r))}(r,n.b,e,t)}finally{n.a=r}}));return M(r)}finally{n.a=n.b=0}},e.wbg.__wbg_resolve_fd40f858d9db1a04=function(e){return M(Promise.resolve(d(e)))},e.wbg.__wbg_then_ec5db6d509eb475f=function(e,t){return M(d(e).then(d(t)))},e.wbg.__wbg_then_f753623316e2873a=function(e,t,n){return M(d(e).then(d(t),d(n)))},e.wbg.__wbg_newwithbyteoffsetandlength_9fb2f11355ecadf5=function(e,t,n){return M(new Uint8Array(d(e),t>>>0,n>>>0))},e.wbg.__wbg_new_537b7341ce90bb31=function(e){return M(new Uint8Array(d(e)))},e.wbg.__wbg_instanceof_Uint8Array_01cebe79ca606cca=function(e){let t;try{t=d(e)instanceof Uint8Array}catch{t=!1}return t},e.wbg.__wbg_buffer_5f1fc856188c4b44=function(e){return M(d(e).buffer)},e.wbg.__wbg_length_27a2afe8ab42b09f=function(e){return d(e).length},e.wbg.__wbg_byteLength_29d6f6f493852fd4=function(e){return d(e).byteLength},e.wbg.__wbg_byteOffset_85a4ff4bd899e78b=function(e){return d(e).byteOffset},e.wbg.__wbg_set_17499e8aa4003ebd=function(e,t,n){d(e).set(d(t),n>>>0)},e.wbg.__wbindgen_bigint_get_as_i64=function(e,t){let n=d(t),r="bigint"==typeof n?n:void 0;((null===C||0===C.byteLength)&&(C=new BigInt64Array(c.memory.buffer)),C)[e/8+1]=h(r)?BigInt(0):r,b()[e/4+0]=!h(r)},e.wbg.__wbindgen_debug_string=function(e,t){let n=k(V(d(t)),c.__wbindgen_export_0,c.__wbindgen_export_1),r=m;b()[e/4+1]=r,b()[e/4+0]=n},e.wbg.__wbindgen_throw=function(e,t){throw new Error(T(e,t))},e.wbg.__wbindgen_memory=function(){return M(c.memory)},e.wbg.__wbindgen_closure_wrapper3496=function(e,t,n){return M(N(e,t,37,z))},e.wbg.__wbindgen_closure_wrapper3498=function(e,t,n){return M(D(e,t,40,P))},e.wbg.__wbindgen_closure_wrapper3500=function(e,t,n){return M(N(e,t,40,L))},e.wbg.__wbindgen_closure_wrapper3502=function(e,t,n){return M(D(e,t,37,O))},e.wbg.__wbindgen_closure_wrapper3504=function(e,t,n){return M(D(e,t,37,O))},e.wbg.__wbindgen_closure_wrapper3506=function(e,t,n){return M(N(e,t,37,L))},e.wbg.__wbindgen_closure_wrapper9571=function(e,t,n){return M(D(e,t,2249,I))},e.wbg.__wbindgen_closure_wrapper9595=function(e,t,n){return M(D(e,t,2254,R))},e.wbg.__wbindgen_closure_wrapper9656=function(e,t,n){return M(D(e,t,2270,F))},e}function oe(e,t){return c=e.exports,ce.__wbindgen_wasm_module=t,C=null,g=null,_=null,Y=null,v=null,c}function le(e){let t=ae();return e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e)),oe(new WebAssembly.Instance(e,t),e)}async function ce(e){let t=ae();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));let{instance:n,module:r}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}let n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{let n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await e,t);return oe(n,r)}var se=ce;function ue(e,{warn:t=!0,replace_defaults:n=!1}={}){if("object"!=typeof e||e instanceof ArrayBuffer)return e;{let r=JSON.parse(JSON.stringify(e));return"viewers"in r&&"detail"in r?function(e,t){for(let n in e.viewers)e.viewers[n]=fe(e.viewers[n],!0,t),"master"in e.viewers[n]||(e.viewers[n].master=!1,t.warn&&console.warn('Deprecated perspective missing attribute "master" set to default')),"linked"in e.viewers[n]||(e.viewers[n].linked=!1,t.warn&&console.warn('Deprecated perspective missing attribute "linked" set to default'));return e}(r,{warn:t,replace_defaults:n}):fe(r,!1,{warn:t,replace_defaults:n})}}function fe(e,t,n){return function(e,t,n){for(let r of t)e=r(e,n);return e}(e,[ge,pe,_e,ve,!!n.replace_defaults&&de,ye,we,me,Se,t?ke:xe].filter((e=>!!e)),n)}function de(e,t){for(let n of["group_by","split_by","filter","sort"])null===e[n]&&(e[n]=[],t.warn&&console.warn(`Deprecated perspective missing attribute "${n}" set to default"`)),"aggregates"in e&&null===e.aggregates&&(e.aggregates={},t.warn&&console.warn('Deprecated perspective missing attribute "aggregates" set to default"'));return e}function he(e,t){return function(n,r){let i=0;for(let a of t)if(a in n){if(i++>0)throw new Error(`Duplicate "${e}" fields`);n[e]=n[a],a!==e&&(delete n[a],r.warn&&console.warn(`Deprecated perspective attribute "${a}" renamed "${e}"`))}return n}}var ge=he("group_by",["group_by","row_pivots","row-pivot","row-pivots","row_pivot"]),pe=he("split_by",["split_by","column_pivots","column-pivot","column-pivots","column_pivot","col_pivots","col-pivot","col-pivots","col_pivot"]),_e=he("filter",["filter","filters"]);function be(e,t,n,r,i){if(e.test(n)){let a=n.replace(e,t);i.warn&&console.warn(`Deprecated perspective "expression" attribute value "${n}" updated to "${a}"`);for(let e of["group_by","split_by"])if(e in r)for(let t in r[e])r[e][t]===n.replace(/"/g,"")&&(r[e][t]=a,i.warn&&console.warn(`Deprecated perspective expression in "${e}" attribute "${n}" replaced with "${a}"`));for(let e of r.filter||[])e[0]===n.replace(/"/g,"")&&(e[0]=a,i.warn&&console.warn(`Deprecated perspective expression in "filter" attribute "${n}" replaced with "${a}"`));for(let e of r.sort||[])e[0]===n.replace(/"/g,"")&&(e[0]=a,i.warn&&console.warn(`Deprecated perspective expression in "sort" attribute "${n}" replaced with "${a}"`));return a}return n}function me(e){return void 0===e.title&&(e.title=null),e}function ve(e,t){if(e["computed-columns"]){if("expressions"in e)throw new Error('Duplicate "expressions" and "computed-columns');e.expressions=e["computed-columns"],delete e["computed-columns"],t.warn&&console.warn('Deprecated perspective attribute "computed-columns" renamed "expressions"');let n=[[/^year_bucket\("(.+?)"\)/,"bucket(\"$1\", 'y')"],[/^month_bucket\("(.+?)"\)/,"bucket(\"$1\", 'M')"],[/^day_bucket\("(.+?)"\)/,"bucket(\"$1\", 'd')"],[/^hour_bucket\("(.+?)"\)/,"bucket(\"$1\", 'h')"],[/^minute_bucket\("(.+?)"\)/,"bucket(\"$1\", 'm')"],[/^second_bucket\("(.+?)"\)/,"bucket(\"$1\", 's')"]];for(let r in e.expressions){let i=e.expressions[r];for(let[r,a]of n)i=be(r,a,i,e,t);e.expressions[r]=i}}return e}function ye(e,t){let n={datagrid:"Datagrid",Datagrid:"Datagrid",d3_y_area:"Y Area","Y Area":"Y Area",d3_y_line:"Y Line","Y Line":"Y Line",d3_xy_line:"X/Y Line","X/Y Line":"X/Y Line",d3_y_scatter:"Y Scatter","Y Scatter":"Y Scatter",d3_xy_scatter:"X/Y Scatter","X/Y Scatter":"X/Y Scatter",d3_x_bar:"X Bar","X Bar":"X Bar",d3_y_bar:"Y Bar","Y Bar":"Y Bar",d3_heatmap:"Heatmap",Heatmap:"Heatmap",d3_treemap:"Treemap",Treemap:"Treemap",d3_sunburst:"Sunburst",Sunburst:"Sunburst"};return"plugin"in e&&e.plugin!==n[e.plugin]&&(e.plugin=n[e.plugin],t.warn&&console.warn(`Deprecated perspective "plugin" attribute value "${e.plugin}" updated to "${n[e.plugin]}"`)),e}function we(e,t){if("Datagrid"===e.plugin&&e.plugin_config){if(!e.plugin_config.columns){t.warn&&console.warn('Deprecated perspective attribute "plugin_config" moved to "plugin_config.columns"');let n={};for(let r of Object.keys(e.plugin_config)){let i=e.plugin_config[r];delete e.plugin_config[r],"string"==typeof i.color_mode&&("foreground"===i.color_mode?i.number_fg_mode="color":"bar"===i.color_mode?i.number_fg_mode="bar":"background"===i.color_mode?i.number_bg_mode="color":"gradient"===i.color_mode?i.number_bg_mode="gradient":console.warn(`Unknown color_mode ${i.color_mode}`),delete i.color_mode,t.warn&&console.warn('Deprecated perspective attribute "color_mode" renamed "number_bg_mode"')),n[r]=i}e.plugin_config.columns=n,t.replace_defaults&&(e.plugin_config.editable=!1,e.plugin_config.scroll_lock=!0)}for(let n of Object.keys(e.plugin_config.columns)){let r=e.plugin_config.columns[n];"string"==typeof r.number_color_mode&&("foreground"===r.number_color_mode?r.number_fg_mode="color":"bar"===r.number_color_mode?r.number_fg_mode="bar":"background"===r.number_color_mode?r.number_bg_mode="color":"gradient"===r.number_color_mode&&(r.number_bg_mode="gradient"),delete r.number_color_mode,t.warn&&console.warn('Deprecated perspective attribute "number_color_mode" renamed "number_bg_mode"')),void 0!==r.gradient&&("gradient"===r.number_bg_mode?r.bg_gradient=r.gradient:"bar"===r.number_fg_mode&&(r.fg_gradient=r.gradient),delete r.gradient,t.warn&&console.warn('Deprecated perspective attribute "gradient" renamed "bg_gradient"')),void 0!==r.pos_color&&(void 0!==r.number_bg_mode?r.pos_bg_color=r.pos_color:void 0!==r.number_fg_mode&&(r.pos_fg_color=r.pos_color),delete r.pos_color,t.warn&&console.warn('Deprecated perspective attribute "pos_color" renamed "pos_bg_color"')),void 0!==r.neg_color&&(void 0!==r.number_bg_mode?r.neg_bg_color=r.neg_color:void 0!==r.number_fg_mode&&(r.neg_fg_color=r.neg_color),delete r.neg_color,t.warn&&console.warn('Deprecated perspective attribute "neg_color" renamed "neg_bg_color"'))}}return e}function xe(e,t){let n=["editable","selectable","name","table","master","linked"];for(let r of n)r in e&&(delete e[r],t.warn&&console.warn(`Deprecated perspective attribute "${r}" removed`));return e}function ke(e,t){let n=["editable","selectable","name","table","master","linked"];for(let r of n)r in e&&null===e[r]&&(delete e[r],t.warn&&console.warn(`Deprecated perspective attribute "${r}" removed`));return e}function Se(e,t){return"name"in e&&("title"in e&&void 0!==e.title&&(e.title=e.name,t.warn&&console.warn('"name" conflicts with "title"')),delete e.name,t.warn&&console.warn('"name" unified with "title"')),e}function Me(e){return 559903==new Uint32Array(e.slice(0,4))[0]}window.addEventListener("unhandledrejection",(e=>{"View method cancelled"===e.reason?.message&&e.preventDefault()}));var Ae=async function(){let e=await i,t=[],n=0,a=new r.ek((e=>{e&&(n+=e.byteLength,t.push(e))}));if(e instanceof URL||"string"==typeof e){let r=(await fetch(e.toString())).body?.getReader(),i=0;if(void 0!==r)for(;;){let{value:e,done:o}=await r.read();if(o||void 0===e)break;0===i&&Me(e?.buffer)||1===i?(i=1,a.push(e,o)):(i=2,n+=e.byteLength,t.push(e))}}else if(e instanceof Uint8Array)Me(e.buffer)?a.push(e,!0):(n=e.byteLength,t=[e]);else{let r=new Uint8Array(e);Me(e)?a.push(r,!0):(n=r.byteLength,t=[r])}let o=0,c=new Uint8Array(n);for(let e of t)c.set(e,o),o+=e.byteLength;return await se(c),q(),l}(),Te=class extends HTMLElement{constructor(){super(),this.__load_wasm()}async __load_wasm(){await Ae,void 0===this._instance&&(this._instance=new ie(this))}},Ee=ie.prototype,Ce=Object.getOwnPropertyNames(Ee);for(let e of Ce)Object.defineProperty(Te.prototype,e,{value:async function(...t){return await this.__load_wasm(),await this._instance[e].call(this._instance,...t)}});for(let e of["registerPlugin","getExprTKCommands"])Object.defineProperty(Te,e,{value:async function(...t){let n=await Ae;return n[e].call(n,...t)}});customElements.define("perspective-viewer",Te);var Ve={}},7748:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>X,get_type_config:()=>H,override:()=>U,shared_worker:()=>G,websocket:()=>q,worker:()=>W});var r=n(4488),i=n.n(r),a=n(2036);const o=n.p+"2fa644521b73c4857f3d.wasm";var l=Object.defineProperty,c={};((e,t)=>{for(var n in t)l(e,n,{get:t[n],enumerable:!0})})(c,{COLUMN_SEPARATOR_STRING:()=>x,CONFIG_ALIASES:()=>u,CONFIG_VALID_KEYS:()=>f,DATA_TYPES:()=>s,FILTER_OPERATORS:()=>b,SORT_ORDERS:()=>g,SORT_ORDER_IDS:()=>p,TYPE_AGGREGATES:()=>_,TYPE_FILTERS:()=>k});var s={integer:"integer",float:"float",string:"string",boolean:"boolean",date:"date",datetime:"datetime",object:"object"},u={row_pivot:"group_by","row-pivot":"group_by","row-pivots":"group_by",col_pivot:"split_by",col_pivots:"split_by",column_pivot:"split_by","column-pivot":"split_by","column-pivots":"split_by",filters:"filter",sorts:"sort"},f=["viewport","group_by","split_by","aggregates","columns","filter","sort","computed_columns","expressions","group_by_depth","split_by_depth","filter_op"],d=["any","avg","abs sum","count","distinct count","dominant","first by index","last by index","last minus first","last","high","join","low","high minus low","max","mean","median","min","pct sum parent","pct sum grand total","stddev","sum","sum abs","sum not null","unique","var"],h=["any","count","distinct count","distinct leaf","dominant","first by index","join","last by index","last","unique"],g=["none","asc","desc","col asc","col desc","asc abs","desc abs","col asc abs","col desc abs"],p=[2,0,1,0,1,3,4,3,4],_={string:h,float:d,integer:d,boolean:["any","count","distinct count","distinct leaf","dominant","first by index","last by index","last","unique"],datetime:h,date:h},b={lessThan:"<",greaterThan:">",equals:"==",lessThanOrEquals:"<=",greaterThanOrEquals:">=",doesNotEqual:"!=",isNull:"is null",isNotNull:"is not null",isIn:"in",isNotIn:"not in",contains:"contains",bitwiseAnd:"&",bitwiseOr:"|",and:"and",or:"or",beginsWith:"begins with",endsWith:"ends with"},m=[b.bitwiseAnd,b.bitwiseOr,b.equals,b.doesNotEqual,b.or,b.and,b.isNull,b.isNotNull],v=[b.lessThan,b.greaterThan,b.equals,b.lessThanOrEquals,b.greaterThanOrEquals,b.doesNotEqual,b.isNull,b.isNotNull],y=[b.equals,b.contains,b.doesNotEqual,b.isIn,b.isNotIn,b.beginsWith,b.endsWith,b.isNull,b.isNotNull],w=[b.lessThan,b.greaterThan,b.equals,b.lessThanOrEquals,b.greaterThanOrEquals,b.doesNotEqual,b.isNull,b.isNotNull],x="|",k={string:y,float:v,integer:v,boolean:m,datetime:w,date:w},S={types:{float:{filter_operator:"==",aggregate:"sum",format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},string:{filter_operator:"==",aggregate:"count"},integer:{filter_operator:"==",aggregate:"sum",format:{}},boolean:{filter_operator:"==",aggregate:"count"},datetime:{filter_operator:"==",aggregate:"count",format:{dateStyle:"short",timeStyle:"medium"},null_value:-1},date:{filter_operator:"==",aggregate:"count",format:{dateStyle:"short"},null_value:-1}}};function M(e){return e&&"object"==typeof e&&!Array.isArray(e)}function A(e,...t){if(!t.length)return e;let n=t.shift();if(M(e)&&M(n))for(let t in n)M(n[t])?(e[t]||Object.assign(e,{[t]:{}}),A(e[t],n[t])):Object.assign(e,{[t]:n[t]});return A(e,...t)}function T(){return globalThis.__PERSPECTIVE_CONFIG__||(globalThis.__PERSPECTIVE_CONFIG__=A(S,globalThis.__TEMPLATE_CONFIG__||{})),globalThis.__PERSPECTIVE_CONFIG__}var E=new WeakMap,C=0;function V(e,t){return function(){let n,r=Array.prototype.slice.call(arguments,0,arguments.length);for(let e=r.length-1;e>=0;e--)"function"==typeof r[e]&&(n=r.splice(e,1)[0]);let i=E.get(n);E.delete(n);let a={cmd:t||"view_method",name:this._name,method:e,args:r,subscribe:!0,callback_id:i};this._worker.post(a,n,(()=>{})),this._worker.unsubscribe(t,n)}}function N(e,t){return function(){let n,r=Array.prototype.slice.call(arguments,0,arguments.length);for(let e=r.length-1;e>=0;e--)"function"==typeof r[e]&&(n=r.splice(e,1)[0]);C++,E.set(n,C);let i={cmd:t||"view_method",name:this._name,method:e,args:r,subscribe:!0,callback_id:C};this._worker.post(i,n,(()=>{}),!0)}}function z(e,t){return function(){var n=Array.prototype.slice.call(arguments,0,arguments.length);return new Promise(function(r,i){var a={cmd:t||"view_method",name:this._name,method:e,args:n,subscribe:!1};this._worker.post(a,r,i)}.bind(this))}}function D(e,t,n){return new Promise(((r,i)=>{this._worker=e,this._name=Math.random()+"",this._worker.post({cmd:"view",view_name:this._name,table_name:t,config:n},(()=>{r(this)}),i),!0===this._worker._initialized&&!this._worker._features?.wait_for_response&&r(this)}))}function P(e){let t=e;do{for(let n of Object.getOwnPropertyNames(t)){let t=e[n];"constructor"!==n&&"function"==typeof t&&(e[n]=t.bind(e))}}while(t=t!==Object&&Object.getPrototypeOf(t))}function L(e,t,n){return new Promise(((r,i)=>{this._worker=e,this._name=n.name||Math.random()+"",P(this),t.to_arrow?(this._worker.post({cmd:"table",name:this._name,args:[],options:n||{}}),t.to_arrow().then((e=>{this._worker.post({cmd:"table",name:this._name,args:[e],options:n||{}},(()=>{t.on_update((e=>{this.update(e.delta)}),{mode:"row"}),r(this)}),i)}))):this._worker.post({cmd:"table",name:this._name,args:[t],options:n||{}},(()=>{r(this)}),i),!0===this._worker._initialized&&!this._worker._features?.wait_for_response&&r(this)}))}function O(e,t){this._worker=e,this._name=t}D.prototype,D.prototype.get_config=z("get_config"),D.prototype.get_min_max=z("get_min_max"),D.prototype.to_json=z("to_json"),D.prototype.to_arrow=z("to_arrow"),D.prototype.to_columns=z("to_columns"),D.prototype.to_csv=z("to_csv"),D.prototype.schema=z("schema"),D.prototype.expression_schema=z("expression_schema"),D.prototype.column_paths=z("column_paths"),D.prototype.num_columns=z("num_columns"),D.prototype.num_rows=z("num_rows"),D.prototype.dimensions=z("dimensions"),D.prototype.set_depth=z("set_depth"),D.prototype.get_row_expanded=z("get_row_expanded"),D.prototype.expand=z("expand"),D.prototype.collapse=z("collapse"),D.prototype.delete=z("delete"),D.prototype.col_to_js_typed_array=z("col_to_js_typed_array"),D.prototype.on_update=N("on_update","view_method"),D.prototype.remove_update=V("remove_update","view_method"),D.prototype.on_delete=N("on_delete","view_method"),D.prototype.remove_delete=V("remove_delete","view_method"),String.prototype.includes||(String.prototype.includes=function(e,t){return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;for(var i,a,o=0|t,l=Math.max(o>=0?o:r-Math.abs(o),0);l<r;){if((i=n[l])===(a=e)||"number"==typeof i&&"number"==typeof a&&isNaN(i)&&isNaN(a))return!0;l++}return!1}}),L.prototype.type="table",O.prototype=L.prototype,L.prototype.view=function(e){return new D(this._worker,this._name,e)},L.prototype.query_columns=z("query_columns","table_method"),L.prototype.get_index=z("get_index","table_method"),L.prototype.get_limit=z("get_limit","table_method"),L.prototype.make_port=z("make_port","table_method"),L.prototype.remove_port=z("remove_port","table_method"),L.prototype.schema=z("schema","table_method"),L.prototype.validate_expressions=z("validate_expressions","table_method"),L.prototype.is_valid_filter=z("is_valid_filter","table_method"),L.prototype.size=z("size","table_method"),L.prototype.num_rows=z("num_rows","table_method"),L.prototype.num_columns=z("num_columns","table_method"),L.prototype.columns=z("columns","table_method"),L.prototype.clear=z("clear","table_method"),L.prototype.replace=z("replace","table_method"),L.prototype.delete=z("delete","table_method"),L.prototype.on_delete=N("on_delete","table_method"),L.prototype.remove=z("remove","table_method"),L.prototype.remove_delete=V("remove_delete","table_method"),L.prototype.update=function(e,t){return new Promise(((n,r)=>{this._worker.post({name:this._name,cmd:"table_method",method:"update",args:[e,t||{}]},n,r,!1)}))},L.prototype.execute=function(e){this._worker.post({cmd:"table_execute",name:this._name,f:e.toString()})};var I=class{constructor(){this._initialized=!1,this._worker={initialized:{value:!1},transferable:!1,msg_id:0,handlers:{},messages:[]},P(this)}unsubscribe(e,t){for(let e of Object.keys(this._worker.handlers))this._worker.handlers[e].resolve===t&&delete this._worker.handlers[e]}post(e,t,n,r=!1){++this._worker.msg_id,(t||n)&&(this._worker.handlers[this._worker.msg_id]={resolve:t,reject:n,keep_alive:r}),e.id=this._worker.msg_id,this._worker.initialized.value?this.send(e):this._worker.messages.push((()=>{this.send(e),("table"===e.cmd||"view"===e.cmd)&&!this._features?.wait_for_response&&t&&t()}))}async memory_usage(){return await new Promise(((e,t)=>{this.post({cmd:"memory_usage"},e,t)}))}initialize_profile_thread(){this._worker.initialized.value?this.send({id:-1,cmd:"init_profile_thread"}):this._worker.messages.push((()=>this.send({id:-1,cmd:"init_profile_thread"})))}send(){throw new Error("send() not implemented")}async open_table(e){return new O(this,e)}_handle(e){if(!this._worker.initialized.value){this._initialized||(this._initialized=!0);let t=this._worker.messages;if(this._worker.initialized.value=!0,this._worker.messages=[],e.data?.data){this._features={};for(let t of e.data.data)this._features[t]=!0}if(t)for(let e in t)t.hasOwnProperty(e)&&t[e]()}if(e.data.id){let t=this._worker.handlers[e.data.id];t&&(e.data.error?t.reject(e.data.error):t.resolve(e.data.data),t.keep_alive||delete this._worker.handlers[e.data.id])}}table(e,t){return new L(this,e,t||{})}terminate(){this._worker.terminate(),this._worker=void 0}},R=class extends I{_ping(){this._ping_loop&&this._ws.send("ping"),this._ping_loop=setTimeout(this._ping.bind(this),3e4)}_close(){clearTimeout(this._ping_loop),this._ping_loop=void 0,this._on_close_callback?.()}_onmessage(e){if("pong"!==e.data)if(this._pending_binary){let t=e.data;if(this._full_binary.set(new Uint8Array(t),this._total_chunk_length),this._total_chunk_length+=t.byteLength,this._total_chunk_length!==this._pending_binary_length)return;t=this._full_binary.buffer;let n={data:{id:this._pending_binary,data:t}};if(void 0!==this._pending_port_id){let e={port_id:this._pending_port_id,delta:t};n.data.data=e}this._handle(n),delete this._pending_binary,delete this._pending_binary_length,delete this._pending_port_id,this._total_chunk_length=0,this._full_binary=null}else(e=JSON.parse(e.data)).binary_length?(this._pending_binary=e.id,this._pending_binary_length=e.binary_length,e.data&&void 0!==e.data.port_id&&(this._pending_port_id=e.data.port_id),this._full_binary=new Uint8Array(this._pending_binary_length)):this._handle({data:e})}constructor(e){super(),this._ws=e,this._ws.binaryType="arraybuffer",this._full_binary,this._total_chunk_length=0,this._pending_binary_length=0,this._ws.onopen=()=>{this.send({id:-1,cmd:"init"})},this._ping(),this._ws.onclose=this._close.bind(this),this._ws.onmessage=this._onmessage.bind(this)}send(e){if(this._ws.readyState!==i().CLOSED){if(e.args&&e.args.length>0&&e.args[0]instanceof ArrayBuffer&&void 0!==e.args[0].byteLength){let t=e;return e.binary_length=e.args[0].byteLength,this._ws.send(JSON.stringify(t)),void this._ws.send(e.args[0])}this._ws.send(JSON.stringify(e))}else console.warn("Websocket connection is already closed.")}terminate(){return new Promise((e=>{this._on_close_callback=e,this._ws.close()}))}},B=!1;function F(e){return 559903==new Uint32Array(e.slice(0,4))[0]}var Y=function(){let e;return function(){return e||(e=new class{async worker(){return await new Worker(n.p+"perspective.worker.js")}async wasm(){let e=await o,t=[],n=0,r=new a.ek((e=>{e&&(n+=e.byteLength,t.push(e))}));if(e instanceof ArrayBuffer&&!e.buffer&&(e=new Uint8Array(e)),e.buffer&&e.buffer instanceof ArrayBuffer)B=!0,F(e.buffer)?r.push(e,!0):(n=e.byteLength,t=[e]);else if(e instanceof ArrayBuffer)n=e.byteLength,t=[new Uint8Array(e)];else{let i=(await fetch(e)).body.getReader(),a=0;for(;;){let{value:e,done:o}=await i.read();if(o)break;0===a&&F(e.buffer)||1===a?(a=1,r.push(e,o)):(a=2,n+=e.byteLength,t.push(e))}}let i=0,l=new Uint8Array(n);for(let e of t)l.set(e,i),i+=e.byteLength;return this._wasm=l.buffer,this._wasm}}),e}}(),j=class extends I{constructor(e){var t;e&&(t=e,globalThis.__PERSPECTIVE_CONFIG__&&console.warn("Config already initialized!"),globalThis.__PERSPECTIVE_CONFIG__=A(S,t)),super(),this.register()}async register(){let e,t={cmd:"init",config:T()};if(typeof WebAssembly>"u")throw new Error("WebAssembly not supported.");for(var n in[e,t.buffer]=await Promise.all([Y().worker(),Y().wasm()]),this._worker)e[n]=this._worker[n];this._worker=e,this._worker.addEventListener("message",this._handle.bind(this)),this._worker.postMessage(t),this._detect_transferable()}send(e){this._worker.transferable&&e.args&&e.args[0]instanceof ArrayBuffer?this._worker.postMessage(e,[e.args[0]]):this._worker.postMessage(e)}terminate(){this._worker.terminate(),this._worker=void 0}get transferable(){return this._worker?.transferable||!1}get inline(){return B}_detect_transferable(){var e=new ArrayBuffer(1);this._worker.postMessage(e,[e]),this._worker.transferable=0===e.byteLength}},$=function(){let e,t;return{getInstance:function(n){void 0===e&&(e=new j(n));let r=JSON.stringify(n);if(t&&r!==t)throw new Error("Configuration object for shared_worker() has changed - this is probably a bug in your application.");return t=r,e}}}(),H=function e(t){let n={};if(T().types[t]&&Object.assign(n,T().types[t]),n.type){let t=e(n.type);return Object.assign(t,n),t}return n};function U(e){return Y().set(e)}function W(e){return new j(e)}function q(e=window.location.origin.replace("http","ws")){return new R(new WebSocket(e))}function G(e){return $.getInstance(e)}var X={override:U,worker:W,websocket:q,shared_worker:G,...Object.keys(c)}},7896:function(e,t,n){var r;e=n.nmd(e),function(){var n,i,a,o,l,c,s,u,f,d,h,g,p,_,b,m,v,y,w,x,k,S,M,A,T,E,C,V,N,z,D,P,L,O,I,R,B,F,Y,j,$,H,U,W,q,G,X,K,Q,Z,J,ee,te,ne,re,ie,ae,oe,le,ce,se,ue,fe,de,he,ge,pe,_e,be,me,ve,ye,we,xe,ke,Se,Me,Ae,Te,Ee,Ce=[].slice;Se=function(){var e,t,n,r,i;for(e={},r=0,t=(i="Boolean Number String Function Array Date RegExp Undefined Null".split(" ")).length;r<t;r++)n=i[r],e["[object "+n+"]"]=n.toLowerCase();return function(t){var n;return n=Object.prototype.toString.call(t),e[n]||"object"}}(),X=function(e,t,n){return null==t&&(t=0),null==n&&(n=1),e<t&&(e=t),e>n&&(e=n),e},Me=function(e){return e.length>=3?Array.prototype.slice.call(e):e[0]},k=function(e){var t,n;for(e._clipped=!1,e._unclipped=e.slice(0),t=n=0;n<3;t=++n)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]<0&&(e[t]=0),e[t]>255&&(e[t]=255)):3===t&&(e[t]<0&&(e[t]=0),e[t]>1&&(e[t]=1));return e._clipped||delete e._unclipped,e},o=Math.PI,ve=Math.round,M=Math.cos,V=Math.floor,re=Math.pow,K=Math.log,we=Math.sin,xe=Math.sqrt,_=Math.atan2,J=Math.max,p=Math.abs,s=2*o,l=o/3,i=o/180,c=180/o,x=function(){return arguments[0]instanceof n?arguments[0]:function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,arguments,(function(){}))},x.default=x,g=[],null!==e&&null!=e.exports&&(e.exports=x),void 0===(r=function(){return x}.apply(t,[]))||(e.exports=r),x.version="1.4.1",h={},f=[],d=!1,n=function(){function e(){var e,t,n,r,i,a,o,l,c;for(a=this,t=[],l=0,r=arguments.length;l<r;l++)null!=(e=arguments[l])&&t.push(e);if(t.length>1&&(o=t[t.length-1]),null!=h[o])a._rgb=k(h[o](Me(t.slice(0,-1))));else{for(d||(f=f.sort((function(e,t){return t.p-e.p})),d=!0),c=0,i=f.length;c<i&&!(o=(n=f[c]).test.apply(n,t));c++);o&&(a._rgb=k(h[o].apply(h,t)))}null==a._rgb&&console.warn("unknown format: "+t),null==a._rgb&&(a._rgb=[0,0,0]),3===a._rgb.length&&a._rgb.push(1)}return e.prototype.toString=function(){return this.hex()},e}(),x._input=h,x.brewer=y={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var e,t;for(e in t=[],y)t.push(y[e.toLowerCase()]=y[e])}(),x.colors=Ae={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},H=function(){var e,t,n,r,i,o,l;return r=(t=Me(arguments))[0],e=t[1],n=t[2],o=(r+16)/116,i=isNaN(e)?o:o+e/500,l=isNaN(n)?o:o-n/200,o=a.Yn*U(o),i=a.Xn*U(i),l=a.Zn*U(l),[Ee(3.2404542*i-1.5371385*o-.4985314*l),Ee(-.969266*i+1.8760108*o+.041556*l),n=Ee(.0556434*i-.2040259*o+1.0572252*l),t.length>3?t[3]:1]},Ee=function(e){return 255*(e<=.00304?12.92*e:1.055*re(e,1/2.4)-.055)},U=function(e){return e>a.t1?e*e*e:a.t2*(e-a.t0)},a={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},fe=function(){var e,t,n,r,i,a,o;return n=(r=Me(arguments))[0],t=r[1],e=r[2],a=(i=_e(n,t,e))[0],[116*(o=i[1])-16,500*(a-o),200*(o-i[2])]},be=function(e){return(e/=255)<=.04045?e/12.92:re((e+.055)/1.055,2.4)},Te=function(e){return e>a.t3?re(e,1/3):e/a.t2+a.t0},_e=function(){var e,t,n,r;return n=(r=Me(arguments))[0],t=r[1],e=r[2],n=be(n),t=be(t),e=be(e),[Te((.4124564*n+.3575761*t+.1804375*e)/a.Xn),Te((.2126729*n+.7151522*t+.072175*e)/a.Yn),Te((.0193339*n+.119192*t+.9503041*e)/a.Zn)]},x.lab=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ce.call(arguments).concat(["lab"]),(function(){}))},h.lab=H,n.prototype.lab=function(){return fe(this._rgb)},b=function(e){var t,n,r,i,a,o,l,c,s,u,f;return 2===(e=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)i=e[n],r.push(x(i));return r}()).length?(s=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)i=e[n],r.push(i.lab());return r}(),a=s[0],o=s[1],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push(a[t]+e*(o[t]-a[t]));return r}(),x.lab.apply(x,n)}):3===e.length?(u=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)i=e[n],r.push(i.lab());return r}(),a=u[0],o=u[1],l=u[2],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push((1-e)*(1-e)*a[t]+2*(1-e)*e*o[t]+e*e*l[t]);return r}(),x.lab.apply(x,n)}):4===e.length?(f=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)i=e[n],r.push(i.lab());return r}(),a=f[0],o=f[1],l=f[2],c=f[3],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push((1-e)*(1-e)*(1-e)*a[t]+3*(1-e)*(1-e)*e*o[t]+3*(1-e)*e*e*l[t]+e*e*e*c[t]);return r}(),x.lab.apply(x,n)}):5===e.length&&(n=b(e.slice(0,3)),r=b(e.slice(2,5)),t=function(e){return e<.5?n(2*e):r(2*(e-.5))}),t},x.bezier=function(e){var t;return(t=b(e)).scale=function(){return x.scale(t)},t},x.cubehelix=function(e,t,n,r,i){var a,o,l;return null==e&&(e=300),null==t&&(t=-1.5),null==n&&(n=1),null==r&&(r=1),null==i&&(i=[0,1]),a=0,"array"===Se(i)?o=i[1]-i[0]:(o=0,i=[i,i]),(l=function(l){var c,u,f,d,h;return c=s*((e+120)/360+t*l),d=re(i[0]+o*l,r),u=(0!==a?n[0]+l*a:n)*d*(1-d)/2,f=M(c),h=we(c),x(k([255*(d+u*(-.14861*f+1.78277*h)),255*(d+u*(-.29227*f-.90649*h)),255*(d+u*(1.97294*f)),1]))}).start=function(t){return null==t?e:(e=t,l)},l.rotations=function(e){return null==e?t:(t=e,l)},l.gamma=function(e){return null==e?r:(r=e,l)},l.hue=function(e){return null==e?n:("array"===Se(n=e)?0==(a=n[1]-n[0])&&(n=n[1]):a=0,l)},l.lightness=function(e){return null==e?i:("array"===Se(e)?(i=e,o=e[1]-e[0]):(i=[e,e],o=0),l)},l.scale=function(){return x.scale(l)},l.hue(n),l},x.random=function(){var e,t;for(e="#",t=0;t<6;++t)e+="0123456789abcdef".charAt(V(16*Math.random()));return new n(e)},g=[],I=function(e,t,n,r){var i,a,o,l;for(null==n&&(n=.5),null==r&&(r="rgb"),"object"!==Se(e)&&(e=x(e)),"object"!==Se(t)&&(t=x(t)),o=0,a=g.length;o<a;o++)if(r===(i=g[o])[0]){l=i[1](e,t,n,r);break}if(null==l)throw"color mode "+r+" is not supported";return l.alpha(e.alpha()+n*(t.alpha()-e.alpha()))},x.interpolate=I,n.prototype.interpolate=function(e,t,n){return I(this,e,t,n)},x.mix=I,n.prototype.mix=n.prototype.interpolate,h.rgb=function(){var e,t,n,r;for(e in n=[],t=Me(arguments))r=t[e],n.push(r);return n},x.rgb=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ce.call(arguments).concat(["rgb"]),(function(){}))},n.prototype.rgb=function(e){return null==e&&(e=!0),e?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},n.prototype.rgba=function(e){return null==e&&(e=!0),e?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},f.push({p:3,test:function(e){var t;return t=Me(arguments),"array"===Se(t)&&3===t.length||4===t.length&&"number"===Se(t[3])&&t[3]>=0&&t[3]<=1?"rgb":void 0}}),h.lrgb=h.rgb,F=function(e,t,r,i){var a,o;return a=e._rgb,o=t._rgb,new n(xe(re(a[0],2)*(1-r)+re(o[0],2)*r),xe(re(a[1],2)*(1-r)+re(o[1],2)*r),xe(re(a[2],2)*(1-r)+re(o[2],2)*r),i)},u=function(e){var t,r,i,a,o;for(t=1/e.length,o=[0,0,0,0],i=0,r=e.length;i<r;i++)a=e[i]._rgb,o[0]+=re(a[0],2)*t,o[1]+=re(a[1],2)*t,o[2]+=re(a[2],2)*t,o[3]+=a[3]*t;return o[0]=xe(o[0]),o[1]=xe(o[1]),o[2]=xe(o[2]),o[3]>1&&(o[3]=1),new n(k(o))},g.push(["lrgb",F]),x.average=function(e,t){var n,r,i,a,l,c,s,f,d,h,g,p,b;if(null==t&&(t="rgb"),d=e.length,e=e.map((function(e){return x(e)})),s=e.splice(0,1)[0],"lrgb"===t)return u(e);for(f in a=[],l=0,c=0,p=s.get(t))p[f]=p[f]||0,a.push(isNaN(p[f])?0:1),"h"!==t.charAt(f)||isNaN(p[f])||(n=p[f]/180*o,l+=M(n),c+=we(n));for(r=s.alpha(),g=0,h=e.length;g<h;g++)for(f in b=(i=e[g]).get(t),r+=i.alpha(),p)isNaN(b[f])||(a[f]+=1,"h"===t.charAt(f)?(n=b[f]/180*o,l+=M(n),c+=we(n)):p[f]+=b[f]);for(f in p)if("h"===t.charAt(f)){for(n=_(c/a[f],l/a[f])/o*180;n<0;)n+=360;for(;n>=360;)n-=360;p[f]=n}else p[f]=p[f]/a[f];return x(p,t).alpha(r/d)},z=function(e){var t,n;if(e.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]),[(n=parseInt(e,16))>>16,n>>8&255,255&n,1];if(e.match(/^#?([A-Fa-f0-9]{8})$/))return 9===e.length&&(e=e.substr(1)),[(n=parseInt(e,16))>>24&255,n>>16&255,n>>8&255,ve((255&n)/255*100)/100];if(null!=h.css&&(t=h.css(e)))return t;throw"unknown color: "+e},le=function(e,t){var n,r,i,a,o,l;return null==t&&(t="auto"),o=e[0],i=e[1],r=e[2],n=e[3],"auto"===t&&(t=n<1?"rgba":"rgb"),o=Math.round(o),i=Math.round(i),r=Math.round(r),l=(l="000000"+(o<<16|i<<8|r).toString(16)).substr(l.length-6),a=(a="0"+ve(255*n).toString(16)).substr(a.length-2),"#"+function(){switch(t.toLowerCase()){case"rgba":return l+a;case"argb":return a+l;default:return l}}()},h.hex=function(e){return z(e)},x.hex=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ce.call(arguments).concat(["hex"]),(function(){}))},n.prototype.hex=function(e){return null==e&&(e="auto"),le(this._rgb,e)},f.push({p:4,test:function(e){if(1===arguments.length&&"string"===Se(e))return"hex"}}),L=function(){var e,t,n,r,i,a,o,l,c,s,u,f,d,h;if(i=(e=Me(arguments))[0],u=e[1],o=e[2],0===u)c=r=t=255*o;else{for(n=[0,0,0],f=2*o-(d=o<.5?o*(1+u):o+u-o*u),(h=[0,0,0])[0]=(i/=360)+1/3,h[1]=i,h[2]=i-1/3,a=l=0;l<=2;a=++l)h[a]<0&&(h[a]+=1),h[a]>1&&(h[a]-=1),6*h[a]<1?n[a]=f+6*(d-f)*h[a]:2*h[a]<1?n[a]=d:3*h[a]<2?n[a]=f+(d-f)*(2/3-h[a])*6:n[a]=f;c=(s=[ve(255*n[0]),ve(255*n[1]),ve(255*n[2])])[0],r=s[1],t=s[2]}return e.length>3?[c,r,t,e[3]]:[c,r,t]},se=function(e,t,n){var r,i,a,o,l;return void 0!==e&&e.length>=3&&(e=(o=e)[0],t=o[1],n=o[2]),e/=255,t/=255,n/=255,a=Math.min(e,t,n),i=((J=Math.max(e,t,n))+a)/2,J===a?(l=0,r=Number.NaN):l=i<.5?(J-a)/(J+a):(J-a)/(2-J-a),e===J?r=(t-n)/(J-a):t===J?r=2+(n-e)/(J-a):n===J&&(r=4+(e-t)/(J-a)),(r*=60)<0&&(r+=360),[r,l,i]},x.hsl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ce.call(arguments).concat(["hsl"]),(function(){}))},h.hsl=L,n.prototype.hsl=function(){return se(this._rgb)},O=function(){var e,t,n,r,i,a,o,l,c,s,u,f,d,h,g,p,_,b;if(i=(e=Me(arguments))[0],p=e[1],b=e[2],b*=255,0===p)c=r=t=b;else switch(360===i&&(i=0),i>360&&(i-=360),i<0&&(i+=360),o=b*(1-p),l=b*(1-p*(n=(i/=60)-(a=V(i)))),_=b*(1-p*(1-n)),a){case 0:c=(s=[b,_,o])[0],r=s[1],t=s[2];break;case 1:c=(u=[l,b,o])[0],r=u[1],t=u[2];break;case 2:c=(f=[o,b,_])[0],r=f[1],t=f[2];break;case 3:c=(d=[o,l,b])[0],r=d[1],t=d[2];break;case 4:c=(h=[_,o,b])[0],r=h[1],t=h[2];break;case 5:c=(g=[b,o,l])[0],r=g[1],t=g[2]}return[c,r,t,e.length>3?e[3]:1]},ue=function(){var e,t,n,r,i,a,o,l,c;return a=(o=Me(arguments))[0],n=o[1],e=o[2],i=Math.min(a,n,e),t=(J=Math.max(a,n,e))-i,c=J/255,0===J?(r=Number.NaN,l=0):(l=t/J,a===J&&(r=(n-e)/t),n===J&&(r=2+(e-a)/t),e===J&&(r=4+(a-n)/t),(r*=60)<0&&(r+=360)),[r,l,c]},x.hsv=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ce.call(arguments).concat(["hsv"]),(function(){}))},h.hsv=O,n.prototype.hsv=function(){return ue(this._rgb)},te=function(e){return"number"===Se(e)&&e>=0&&e<=16777215?[e>>16,e>>8&255,255&e,1]:(console.warn("unknown num color: "+e),[0,0,0,1])},ge=function(){var e;return((e=Me(arguments))[0]<<16)+(e[1]<<8)+e[2]},x.num=function(e){return new n(e,"num")},n.prototype.num=function(e){return null==e&&(e="rgb"),ge(this._rgb,e)},h.num=te,f.push({p:1,test:function(e){if(1===arguments.length&&"number"===Se(e)&&e>=0&&e<=16777215)return"num"}}),N=function(){var e,t,n,r,i,a,o,l,c,s,u,f,d,h,g,p,_,b,m,v;if(l=(n=Me(arguments))[0],i=n[1],t=n[2],o=o/100*255,e=255*(i/=100),0===i)f=o=r=t;else switch(360===l&&(l=0),l>360&&(l-=360),l<0&&(l+=360),u=(s=t*(1-i))+e*(1-(a=(l/=60)-(c=V(l)))),m=s+e*a,v=s+e,c){case 0:f=(d=[v,m,s])[0],o=d[1],r=d[2];break;case 1:f=(h=[u,v,s])[0],o=h[1],r=h[2];break;case 2:f=(g=[s,v,m])[0],o=g[1],r=g[2];break;case 3:f=(p=[s,u,v])[0],o=p[1],r=p[2];break;case 4:f=(_=[m,s,v])[0],o=_[1],r=_[2];break;case 5:f=(b=[v,s,u])[0],o=b[1],r=b[2]}return[f,o,r,n.length>3?n[3]:1]},oe=function(){var e,t,n,r,i,a,o,l,c;return l=(c=Me(arguments))[0],i=c[1],t=c[2],o=Math.min(l,i,t),n=100*(r=(J=Math.max(l,i,t))-o)/255,e=o/(255-r)*100,0===r?a=Number.NaN:(l===J&&(a=(i-t)/r),i===J&&(a=2+(t-l)/r),t===J&&(a=4+(l-i)/r),(a*=60)<0&&(a+=360)),[a,n,e]},x.hcg=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ce.call(arguments).concat(["hcg"]),(function(){}))},h.hcg=N,n.prototype.hcg=function(){return oe(this._rgb)},A=function(e){var t,n,r,i,a,o,l,c;if(e=e.toLowerCase(),null!=x.colors&&x.colors[e])return z(x.colors[e]);if(a=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(l=a.slice(1,4),i=o=0;o<=2;i=++o)l[i]=+l[i];l[3]=1}else if(a=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(l=a.slice(1,5),i=c=0;c<=3;i=++c)l[i]=+l[i];else if(a=e.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(l=a.slice(1,4),i=t=0;t<=2;i=++t)l[i]=ve(2.55*l[i]);l[3]=1}else if(a=e.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(l=a.slice(1,5),i=n=0;n<=2;i=++n)l[i]=ve(2.55*l[i]);l[3]=+l[3]}else(a=e.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?((r=a.slice(1,4))[1]*=.01,r[2]*=.01,(l=L(r))[3]=1):(a=e.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&((r=a.slice(1,4))[1]*=.01,r[2]*=.01,(l=L(r))[3]=+a[4]);return l},ae=function(e){var t;return"rgb"==(t=e[3]<1?"rgba":"rgb")?t+"("+e.slice(0,3).map(ve).join(",")+")":"rgba"===t?t+"("+e.slice(0,3).map(ve).join(",")+","+e[3]+")":void 0},me=function(e){return ve(100*e)/100},P=function(e,t){var n;return n=t<1?"hsla":"hsl",e[0]=me(e[0]||0),e[1]=me(100*e[1])+"%",e[2]=me(100*e[2])+"%","hsla"===n&&(e[3]=t),n+"("+e.join(",")+")"},h.css=function(e){return A(e)},x.css=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ce.call(arguments).concat(["css"]),(function(){}))},n.prototype.css=function(e){return null==e&&(e="rgb"),"rgb"===e.slice(0,3)?ae(this._rgb):"hsl"===e.slice(0,3)?P(this.hsl(),this.alpha()):void 0},h.named=function(e){return z(Ae[e])},f.push({p:5,test:function(e){if(1===arguments.length&&null!=Ae[e])return"named"}}),n.prototype.name=function(e){var t,n;for(n in arguments.length&&(Ae[e]&&(this._rgb=z(Ae[e])),this._rgb[3]=1),t=this.hex("rgb"),Ae)if(t===Ae[n])return n;return t},W=function(){var e,t,n,r;return n=(r=Me(arguments))[0],e=r[1],t=r[2],[n,M(t*=i)*e,we(t)*e]},q=function(){var e,t,n,r,i,a,o,l,c;return o=(n=Me(arguments))[0],i=n[1],a=n[2],e=(l=W(o,i,a))[0],t=l[1],r=l[2],[(c=H(e,t,r))[0],c[1],r=c[2],n.length>3?n[3]:1]},$=function(){var e,t,n,r,i,a;return i=(a=Me(arguments))[0],e=a[1],t=a[2],n=xe(e*e+t*t),r=(_(t,e)*c+360)%360,0===ve(1e4*n)&&(r=Number.NaN),[i,n,r]},de=function(){var e,t,n,r,i,a,o;return i=(a=Me(arguments))[0],n=a[1],t=a[2],r=(o=fe(i,n,t))[0],e=o[1],t=o[2],$(r,e,t)},x.lch=function(){var e;return e=Me(arguments),new n(e,"lch")},x.hcl=function(){var e;return e=Me(arguments),new n(e,"hcl")},h.lch=q,h.hcl=function(){var e,t,n,r;return t=(r=Me(arguments))[0],e=r[1],n=r[2],q([n,e,t])},n.prototype.lch=function(){return de(this._rgb)},n.prototype.hcl=function(){return de(this._rgb).reverse()},ie=function(e){var t,n,r,i,a,o;return null==e&&(e="rgb"),a=(o=Me(arguments))[0],r=o[1],t=o[2],r/=255,t/=255,[(1-(a/=255)-(i=1-Math.max(a,Math.max(r,t))))*(n=i<1?1/(1-i):0),(1-r-i)*n,(1-t-i)*n,i]},S=function(){var e,t,n,r,i,a;return n=(t=Me(arguments))[0],i=t[1],a=t[2],r=t[3],e=t.length>4?t[4]:1,1===r?[0,0,0,e]:[n>=1?0:255*(1-n)*(1-r),i>=1?0:255*(1-i)*(1-r),a>=1?0:255*(1-a)*(1-r),e]},h.cmyk=function(){return S(Me(arguments))},x.cmyk=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ce.call(arguments).concat(["cmyk"]),(function(){}))},n.prototype.cmyk=function(){return ie(this._rgb)},h.gl=function(){var e,t,n,r,i;for(r=function(){var e,n;for(t in n=[],e=Me(arguments))i=e[t],n.push(i);return n}.apply(this,arguments),e=n=0;n<=2;e=++n)r[e]*=255;return r},x.gl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ce.call(arguments).concat(["gl"]),(function(){}))},n.prototype.gl=function(){var e;return[(e=this._rgb)[0]/255,e[1]/255,e[2]/255,e[3]]},he=function(e,t,n){var r;return e=(r=Me(arguments))[0],t=r[1],n=r[2],.2126*(e=Q(e))+.7152*(t=Q(t))+.0722*Q(n)},Q=function(e){return(e/=255)<=.03928?e/12.92:re((e+.055)/1.055,2.4)},j=function(e,t,r,i){var a,o;return a=e._rgb,o=t._rgb,new n(a[0]+r*(o[0]-a[0]),a[1]+r*(o[1]-a[1]),a[2]+r*(o[2]-a[2]),i)},g.push(["rgb",j]),n.prototype.luminance=function(e,t){var n,r,i,a;return null==t&&(t="rgb"),arguments.length?(i=this._rgb,0===e?i=[0,0,0,this._rgb[3]]:1===e?i=[255,255,255,this[3]]:(n=he(this._rgb),r=20,a=function(n,i){var o,l;return o=(l=n.interpolate(i,.5,t)).luminance(),Math.abs(e-o)<1e-7||!r--?l:o>e?a(n,l):a(l,i)},i=n>e?a(x("black"),this).rgba():a(this,x("white")).rgba()),x(i).alpha(this.alpha())):he(this._rgb)},ke=function(e){var t,n,r,i;return(i=e/100)<66?(r=255,n=-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*K(n),t=i<20?0:.8274096064007395*(t=i-10)-254.76935184120902+115.67994401066147*K(t)):(r=351.97690566805693+.114206453784165*(r=i-55)-40.25366309332127*K(r),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*K(n),t=255),[r,n,t]},pe=function(){var e,t,n,r,i,a,o;for(r=(i=Me(arguments))[0],i[1],e=i[2],n=1e3,t=4e4;t-n>.4;)(a=ke(o=.5*(t+n)))[2]/a[0]>=e/r?t=o:n=o;return ve(o)},x.temperature=x.kelvin=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ce.call(arguments).concat(["temperature"]),(function(){}))},h.temperature=h.kelvin=h.K=ke,n.prototype.temperature=function(){return pe(this._rgb)},n.prototype.kelvin=n.prototype.temperature,x.contrast=function(e,t){var r,i,a,o;return"string"!==(a=Se(e))&&"number"!==a||(e=new n(e)),"string"!==(o=Se(t))&&"number"!==o||(t=new n(t)),(r=e.luminance())>(i=t.luminance())?(r+.05)/(i+.05):(i+.05)/(r+.05)},x.distance=function(e,t,r){var i,a,o,l,c,s,u;for(a in null==r&&(r="lab"),"string"!==(c=Se(e))&&"number"!==c||(e=new n(e)),"string"!==(s=Se(t))&&"number"!==s||(t=new n(t)),o=e.get(r),l=t.get(r),u=0,o)u+=(i=(o[a]||0)-(l[a]||0))*i;return Math.sqrt(u)},x.deltaE=function(e,t,r,i){var a,l,c,s,u,f,d,h,g,b,m,v,y,w,x,k,S,A,T,E,C,V,N,z;for(null==r&&(r=1),null==i&&(i=1),"string"!==(x=Se(e))&&"number"!==x||(e=new n(e)),"string"!==(k=Se(t))&&"number"!==k||(t=new n(t)),a=(S=e.lab())[0],c=S[1],u=S[2],l=(A=t.lab())[0],s=A[1],f=A[2],d=xe(c*c+u*u),h=xe(s*s+f*f),E=a<16?.511:.040975*a/(1+.01765*a),T=.0638*d/(1+.0131*d)+.638,w=d<1e-6?0:180*_(u,c)/o;w<0;)w+=360;for(;w>=360;)w-=360;return C=w>=164&&w<=345?.56+p(.2*M(o*(w+168)/180)):.36+p(.4*M(o*(w+35)/180)),y=xe((g=d*d*d*d)/(g+1900)),xe((V=(a-l)/(r*E))*V+(N=(v=d-h)/(i*T))*N+((b=c-s)*b+(m=u-f)*m-v*v)/((z=T*(y*C+1-y))*z))},n.prototype.get=function(e){var t,n,r,i,a;return r=(i=e.split("."))[0],t=i[1],a=this[r](),t?(n=r.indexOf(t))>-1?a[n]:console.warn("unknown channel "+t+" in mode "+r):a},n.prototype.set=function(e,t){var n,r,i,a,o;if(i=(a=e.split("."))[0],n=a[1])if(o=this[i](),(r=i.indexOf(n))>-1)if("string"===Se(t))switch(t.charAt(0)){case"+":case"-":o[r]+=+t;break;case"*":o[r]*=+t.substr(1);break;case"/":o[r]/=+t.substr(1);break;default:o[r]=+t}else o[r]=t;else console.warn("unknown channel "+n+" in mode "+i);else o=t;return x(o,i).alpha(this.alpha())},n.prototype.clipped=function(){return this._rgb._clipped||!1},n.prototype.alpha=function(e){return arguments.length?x.rgb([this._rgb[0],this._rgb[1],this._rgb[2],e]):this._rgb[3]},n.prototype.darken=function(e){var t;return null==e&&(e=1),(t=this.lab())[0]-=a.Kn*e,x.lab(t).alpha(this.alpha())},n.prototype.brighten=function(e){return null==e&&(e=1),this.darken(-e)},n.prototype.darker=n.prototype.darken,n.prototype.brighter=n.prototype.brighten,n.prototype.saturate=function(e){var t;return null==e&&(e=1),(t=this.lch())[1]+=e*a.Kn,t[1]<0&&(t[1]=0),x.lch(t).alpha(this.alpha())},n.prototype.desaturate=function(e){return null==e&&(e=1),this.saturate(-e)},n.prototype.premultiply=function(){var e,t;return t=this.rgb(),e=this.alpha(),x(t[0]*e,t[1]*e,t[2]*e,e)},ee=function(e,t){return e*t/255},T=function(e,t){return e>t?t:e},G=function(e,t){return e>t?e:t},ye=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},ne=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},w=function(e,t){return 255*(1-(1-t/255)/(e/255))},E=function(e,t){return 255===e||(e=t/255*255/(1-e/255))>255?255:e},(m=function(e,t,n){if(!m[n])throw"unknown blend mode "+n;return m[n](e,t)}).normal=(v=function(e){return function(t,n){var r,i;return r=x(n).rgb(),i=x(t).rgb(),x(e(r,i),"rgb")}})((C=function(e){return function(t,n){var r,i,a;for(a=[],r=i=0;i<=3;r=++i)a[r]=e(t[r],n[r]);return a}})((function(e,t){return e}))),m.multiply=v(C(ee)),m.screen=v(C(ye)),m.overlay=v(C(ne)),m.darken=v(C(T)),m.lighten=v(C(G)),m.dodge=v(C(E)),m.burn=v(C(w)),x.blend=m,x.analyze=function(e){var t,n,r,i;for(r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},n=0,t=e.length;n<t;n++)null==(i=e[n])||isNaN(i)||(r.values.push(i),r.sum+=i,i<r.min&&(r.min=i),i>r.max&&(r.max=i),r.count+=1);return r.domain=[r.min,r.max],r.limits=function(e,t){return x.limits(r,e,t)},r},x.scale=function(e,t){var n,r,i,a,o,l,c,s,u,f,d,h,g,p,_,b,m,v,y,w,k;return u="rgb",f=x("#ccc"),p=0,o=[0,1],g=[],h=[0,0],n=!1,i=[],d=!1,s=0,c=1,a=!1,r={},_=!0,l=1,w=function(e){var t,n,r,a,o,l;if(null==e&&(e=["#fff","#000"]),null!=e&&"string"===Se(e)&&null!=x.brewer&&(e=x.brewer[e]||x.brewer[e.toLowerCase()]||e),"array"===Se(e)){for(1===e.length&&(e=[e[0],e[0]]),t=r=0,a=(e=e.slice(0)).length-1;0<=a?r<=a:r>=a;t=0<=a?++r:--r)n=e[t],"string"===Se(n)&&(e[t]=x(n));for(g.length=0,t=l=0,o=e.length-1;0<=o?l<=o:l>=o;t=0<=o?++l:--l)g.push(t/(e.length-1))}return y(),i=e},m=function(e){var t,r;if(null!=n){for(r=n.length-1,t=0;t<r&&e>=n[t];)t++;return t-1}return 0},k=function(e){return e},v=function(e,t){var a,o,d,p,b,v,y;if(null==t&&(t=!1),isNaN(e)||null===e)return f;if(y=t?e:n&&n.length>2?m(e)/(n.length-2):c!==s?(e-s)/(c-s):1,t||(y=k(y)),1!==l&&(y=re(y,l)),y=h[0]+y*(1-h[0]-h[1]),y=Math.min(1,Math.max(0,y)),d=Math.floor(1e4*y),_&&r[d])a=r[d];else{if("array"===Se(i))for(o=p=0,v=g.length-1;0<=v?p<=v:p>=v;o=0<=v?++p:--p){if(y<=(b=g[o])){a=i[o];break}if(y>=b&&o===g.length-1){a=i[o];break}if(y>b&&y<g[o+1]){y=(y-b)/(g[o+1]-b),a=x.interpolate(i[o],i[o+1],y,u);break}}else"function"===Se(i)&&(a=i(y));_&&(r[d]=a)}return a},y=function(){return r={}},w(e),(b=function(e){var t;return t=x(v(e)),d&&t[d]?t[d]():t}).classes=function(e){var t;return null!=e?("array"===Se(e)?(n=e,o=[e[0],e[e.length-1]]):(t=x.analyze(o),n=0===e?[t.min,t.max]:x.limits(t,"e",e)),b):n},b.domain=function(e){var t,n,r,a,l,u,f;if(!arguments.length)return o;if(s=e[0],c=e[e.length-1],g=[],r=i.length,e.length===r&&s!==c)for(l=0,a=e.length;l<a;l++)n=e[l],g.push((n-s)/(c-s));else for(t=f=0,u=r-1;0<=u?f<=u:f>=u;t=0<=u?++f:--f)g.push(t/(r-1));return o=[s,c],b},b.mode=function(e){return arguments.length?(u=e,y(),b):u},b.range=function(e,t){return w(e),b},b.out=function(e){return d=e,b},b.spread=function(e){return arguments.length?(p=e,b):p},b.correctLightness=function(e){return null==e&&(e=!0),a=e,y(),k=a?function(e){var t,n,r,i,a,o,l,c;for(o=(t=v(0,!0).lab()[0])>(n=v(1,!0).lab()[0]),r=v(e,!0).lab()[0]-(i=t+(n-t)*e),l=0,c=1,a=20;Math.abs(r)>.01&&a-- >0;)o&&(r*=-1),r<0?(l=e,e+=.5*(c-e)):(c=e,e+=.5*(l-e)),r=v(e,!0).lab()[0]-i;return e}:function(e){return e},b},b.padding=function(e){return null!=e?("number"===Se(e)&&(e=[e,e]),h=e,b):h},b.colors=function(t,r){var a,l,c,s,u,f,d,h;if(arguments.length<2&&(r="hex"),u=[],0===arguments.length)u=i.slice(0);else if(1===t)u=[b(.5)];else if(t>1)l=o[0],a=o[1]-l,u=function(){f=[];for(var e=0;0<=t?e<t:e>t;0<=t?e++:e--)f.push(e);return f}.apply(this).map((function(e){return b(l+e/(t-1)*a)}));else{if(e=[],d=[],n&&n.length>2)for(c=h=1,s=n.length;1<=s?h<s:h>s;c=1<=s?++h:--h)d.push(.5*(n[c-1]+n[c]));else d=o;u=d.map((function(e){return b(e)}))}return x[r]&&(u=u.map((function(e){return e[r]()}))),u},b.cache=function(e){return null!=e?(_=e,b):_},b.gamma=function(e){return null!=e?(l=e,b):l},b.nodata=function(e){return null!=e?(f=x(e),b):f},b},null==x.scales&&(x.scales={}),x.scales.cool=function(){return x.scale([x.hsl(180,1,.9),x.hsl(250,.7,.4)])},x.scales.hot=function(){return x.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},x.analyze=function(e,t,n){var r,i,a,o,l,c;if(l={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),r=function(e){null==e||isNaN(e)||(l.values.push(e),l.sum+=e,e<l.min&&(l.min=e),e>l.max&&(l.max=e),l.count+=1)},c=function(e,i){if(n(e,i))return null!=t&&"function"===Se(t)?r(t(e)):null!=t&&"string"===Se(t)||"number"===Se(t)?r(e[t]):r(e)},"array"===Se(e))for(o=0,a=e.length;o<a;o++)c(e[o]);else for(i in e)c(e[i],i);return l.domain=[l.min,l.max],l.limits=function(e,t){return x.limits(l,e,t)},l},x.limits=function(e,t,n){var r,i,a,o,l,c,s,u,f,d,h,g,_,b,m,v,y,w,k,S,M,A,T,E,C,N,z,D,P,L,O,I,R,B,F,Y,j,$,H,U,W,q,G,X,Q,Z,ee,te,ne,ie,ae,oe,le,ce,se;if(null==t&&(t="equal"),null==n&&(n=7),"array"===Se(e)&&(e=x.analyze(e)),C=e.min,J=e.max,e.sum,ce=e.values.sort((function(e,t){return e-t})),1===n)return[C,J];if(T=[],"c"===t.substr(0,1)&&(T.push(C),T.push(J)),"e"===t.substr(0,1)){for(T.push(C),S=O=1,F=n-1;1<=F?O<=F:O>=F;S=1<=F?++O:--O)T.push(C+S/n*(J-C));T.push(J)}else if("l"===t.substr(0,1)){if(C<=0)throw"Logarithmic scales are only possible for values > 0";for(N=Math.LOG10E*K(C),E=Math.LOG10E*K(J),T.push(C),S=se=1,Y=n-1;1<=Y?se<=Y:se>=Y;S=1<=Y?++se:--se)T.push(re(10,N+S/n*(E-N)));T.push(J)}else if("q"===t.substr(0,1)){for(T.push(C),S=r=1,q=n-1;1<=q?r<=q:r>=q;S=1<=q?++r:--r)I=(ce.length-1)*S/n,(R=V(I))===I?T.push(ce[R]):(B=I-R,T.push(ce[R]*(1-B)+ce[R+1]*B));T.push(J)}else if("k"===t.substr(0,1)){for(D=ce.length,b=new Array(D),w=new Array(n),ie=!0,P=0,v=null,(v=[]).push(C),S=i=1,G=n-1;1<=G?i<=G:i>=G;S=1<=G?++i:--i)v.push(C+S/n*(J-C));for(v.push(J);ie;){for(M=a=0,X=n-1;0<=X?a<=X:a>=X;M=0<=X?++a:--a)w[M]=0;for(S=o=0,Q=D-1;0<=Q?o<=Q:o>=Q;S=0<=Q?++o:--o){for(le=ce[S],z=Number.MAX_VALUE,M=l=0,Z=n-1;0<=Z?l<=Z:l>=Z;M=0<=Z?++l:--l)(k=p(v[M]-le))<z&&(z=k,m=M);w[m]++,b[S]=m}for(L=new Array(n),M=c=0,ee=n-1;0<=ee?c<=ee:c>=ee;M=0<=ee?++c:--c)L[M]=null;for(S=s=0,te=D-1;0<=te?s<=te:s>=te;S=0<=te?++s:--s)null===L[y=b[S]]?L[y]=ce[S]:L[y]+=ce[S];for(M=u=0,ne=n-1;0<=ne?u<=ne:u>=ne;M=0<=ne?++u:--u)L[M]*=1/w[M];for(ie=!1,M=f=0,j=n-1;0<=j?f<=j:f>=j;M=0<=j?++f:--f)if(L[M]!==v[S]){ie=!0;break}v=L,++P>200&&(ie=!1)}for(A={},M=d=0,$=n-1;0<=$?d<=$:d>=$;M=0<=$?++d:--d)A[M]=[];for(S=h=0,H=D-1;0<=H?h<=H:h>=H;S=0<=H?++h:--h)A[y=b[S]].push(ce[S]);for(ae=[],M=g=0,U=n-1;0<=U?g<=U:g>=U;M=0<=U?++g:--g)ae.push(A[M][0]),ae.push(A[M][A[M].length-1]);for(ae=ae.sort((function(e,t){return e-t})),T.push(ae[0]),S=_=1,W=ae.length-1;_<=W;S=_+=2)oe=ae[S],isNaN(oe)||-1!==T.indexOf(oe)||T.push(oe)}return T},D=function(e,t,n){var r,i,a,o;return e=(r=Me(arguments))[0],t=r[1],n=r[2],isNaN(e)&&(e=0),(e/=360)<1/3?a=1-((i=(1-t)/3)+(o=(1+t*M(s*e)/M(l-s*e))/3)):e<2/3?i=1-((o=(1-t)/3)+(a=(1+t*M(s*(e-=1/3))/M(l-s*e))/3)):o=1-((a=(1-t)/3)+(i=(1+t*M(s*(e-=2/3))/M(l-s*e))/3)),[255*(o=X(n*o*3)),255*(a=X(n*a*3)),255*(i=X(n*i*3)),r.length>3?r[3]:1]},ce=function(){var e,t,n,r,i,a,o;return i=(a=Me(arguments))[0],t=a[1],e=a[2],s=2*Math.PI,i/=255,t/=255,e/=255,0==(o=1-Math.min(i,t,e)/(r=(i+t+e)/3))?n=0:(n=(i-t+(i-e))/2,n/=Math.sqrt((i-t)*(i-t)+(i-e)*(t-e)),n=Math.acos(n),e>t&&(n=s-n),n/=s),[360*n,o,r]},x.hsi=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ce.call(arguments).concat(["hsi"]),(function(){}))},h.hsi=D,n.prototype.hsi=function(){return ce(this._rgb)},R=function(e,t,n,r){var i,a,o,l,c,s,u,f,d,h;return"hsl"===r?(d=e.hsl(),h=t.hsl()):"hsv"===r?(d=e.hsv(),h=t.hsv()):"hcg"===r?(d=e.hcg(),h=t.hcg()):"hsi"===r?(d=e.hsi(),h=t.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",d=e.hcl(),h=t.hcl()),"h"===r.substr(0,1)&&(a=d[0],u=d[1],l=d[2],o=h[0],f=h[1],c=h[2]),isNaN(a)||isNaN(o)?isNaN(a)?isNaN(o)?i=Number.NaN:(i=o,1!==l&&0!==l||"hsv"===r||(s=f)):(i=a,1!==c&&0!==c||"hsv"===r||(s=u)):i=a+n*(o>a&&o-a>180?o-(a+360):o<a&&a-o>180?o+360-a:o-a),null==s&&(s=u+n*(f-u)),x[r](i,s,l+n*(c-l))},Y=function(e,t,n,r){var i,a;return i=e.num(),a=t.num(),x.num(i+(a-i)*n,"num")},(g=g.concat(function(){var e,t,n,r;for(r=[],t=0,e=(n=["hsv","hsl","hsi","hcl","lch","hcg"]).length;t<e;t++)Z=n[t],r.push([Z,R]);return r}())).push(["num",Y]),B=function(e,t,r,i){var a,o;return a=e.lab(),o=t.lab(),new n(a[0]+r*(o[0]-a[0]),a[1]+r*(o[1]-a[1]),a[2]+r*(o[2]-a[2]),i)},g.push(["lab",B])}.call(this)},9524:function(e,t,n){!function(e,t,n,r,i,a,o,l,c,s,u,f,d){"use strict";var h=function(e,t,n){var r=t[n];if("function"!=typeof r)throw new Error("Attempt to rebind ".concat(n," which isn't a function on the source object"));return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=r.apply(t,i);return o===t?e:o}},g=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];for(var a=0,o=r;a<o.length;a++){var l=o[a];e[l]=h(e,t,l)}return e},p=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];for(var a=function(e){return function(t){return e.reduce((function(e,t){return e&&t(e)}),t)}}(r),o=0,l=Object.keys(t);o<l.length;o++){var c=l[o],s=a(c);s&&(e[s]=h(e,t,c))}return e},_=function(e){return e.map((function(e){return"string"==typeof e?new RegExp("^".concat(e,"$")):e}))},b=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t=_(t),function(e){return t.every((function(t){return!t.test(e)}))&&e}},m=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t=_(t),function(e){return t.some((function(t){return t.test(e)}))&&e}},v=function(e){return function(t){return e[t]}},y=function(e){return function(t){return e+((n=t)[0].toUpperCase()+n.slice(1));var n}};function w(e){return e}function x(e){}function k(e){return"function"==typeof e?e:function(){return e}}function S(e){return"number"==typeof e&&isNaN(e)?void 0:e}function M(){var e=function(){return 10},t=x,n=w,r=function(e){return null!=e},i=function(i){var a=e.apply(this,arguments),o=i.slice(0,a).map(n);return i.map((function(e,i){return i>=a&&(o.shift(),o.push(n(e,i))),i<a-1||o.some((function(e){return!r(e)}))?t(void 0,i):t(o,i)}))};return i.period=function(){return arguments.length?(e=k(arguments.length<=0?void 0:arguments[0]),i):e},i.accumulator=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.defined=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i.value=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},i}function A(){var e=w,n=function(){return 9},r=function(r){var i,a=n.apply(this,arguments),o=2/(a+1),l=function(e){var n=[];return function(r){var i;return n.length<e&&(null!=r?n.push(r):n=[]),n.length>=e&&(i=t.mean(n)),i}}(a);return r.map((function(t,n){var r=e(t,n);return S(i=void 0===i?l(r):r*o+(1-o)*i)}))};return r.period=function(){return arguments.length?(n=k(arguments.length<=0?void 0:arguments[0]),r):n},r.value=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},r}function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),e}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}function z(e){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},z(e)}function D(e,t){return D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},D(e,t)}function P(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function L(e,t,n){return L=P()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&D(i,n.prototype),i},L.apply(null,arguments)}function O(e){var t="function"==typeof Map?new Map:void 0;return O=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return L(e,arguments,z(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),D(r,e)},O(e)}function I(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){var t=P();return function(){var n,r=z(e);if(t){var i=z(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return I(this,n)}}function B(e,t){return Y(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return n}}(e,t)||$(e,t)||U()}function F(e){return function(e){if(Array.isArray(e))return H(e)}(e)||j(e)||$(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e){if(Array.isArray(e))return e}function j(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function $(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function W(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=$(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function q(){var e=M().accumulator((function(e){return e&&t.mean(e)})),n=function(t){return e(t)};return g(n,e,"period","value"),n}function G(){var e={distance:function(e,t){return t-e},offset:function(e,t){return e instanceof Date?new Date(e.getTime()+t):e+t},clampUp:function(e){return e},clampDown:function(e){return e},copy:function(){return e}};return e}var X=function(e,t,n,r){var i=0,a=1,o=6,l=432e6,c={},s=function(t){return 0===e(t)||6===e(t)};return c.clampDown=function(n){if(n&&s(n)){var r=t.ceil(n);return e(r)===i?t.offset(r,-1):e(r)===a?t.offset(r,-2):r}return n},c.clampUp=function(n){if(n&&s(n)){var r=t.floor(n);return e(r)===o?t.offset(r,2):e(r)===i?t.offset(r,1):r}return n},c.distance=function(e,t){e=c.clampUp(e),t=c.clampDown(t);var r=n.ceil(e);if(t<r)return t.getTime()-e.getTime();var i=r.getTime()-e.getTime(),a=n.ceil(t),o=a.getTime()-t.getTime();return Math.round((a.getTime()-r.getTime())/6048e5)*l+i-o},c.offset=function(e,i){var a=s(e)?c.clampUp(e):e;if(0===i)return a;var o=i<0,u=i>0,f=i,d=o?r.floor(a):n.ceil(a);if(f-=d.getTime()-a.getTime(),o&&f>0||u&&f<0)return new Date(a.getTime()+i);a=o?d:t.offset(d,2);var h=Math.floor(f/l);return a=t.offset(a,7*h),f-=h*l,new Date(a.getTime()+f)},c.copy=function(){return c},c},K=864e5,Q="00:00:00.000";function Z(e){if(1!==arguments.length||"string"!=typeof e)throw"Expected single argument of type string";var t=function(e,t){return!!Number.isInteger(e)&&e>=0&&e<=t},n=[0,0,0,0],r=e.split(":");if(r.length<2||r.length>3)throw"Expected an argument wiht 2 or 3 colon delimited parts.";if(n[0]=t(parseInt(r[0],10),23)?parseInt(r[0],10):function(){throw"'Hours' component must be an int between 0 and 23, but was '".concat(r[0],"'")}(),n[1]=t(parseInt(r[1],10),59)?parseInt(r[1],10):function(){throw"'Minutes' component must be an int between 0 and 59, but was '".concat(r[1],"'")}(),3===r.length){var i=r[2].split(".").map((function(e){return parseInt(e,10)}));n[2]=t(i[0],59)?i[0]:function(){throw"'Seconds' component must be an int between 0 and 59, but was '".concat(i[0],"'")}(),2===i.length&&(n[3]=t(i[1],999)?i[1]:function(){throw"'Miliseconds' component must be an int between 0 and 999, but was '".concat(i[1],"'")}())}return"".concat(n[0].toString(10).padStart(2,"0"),":").concat(n[1].toString(10).padStart(2,"0"),":").concat(n[2].toString(10).padStart(2,"0"),".").concat(n[3].toString(10).padStart(3,"0"))}var J=function(e,t){var n=e.map((function(e){return function(e,t){if(2!=arguments.length||!Array.isArray(e)||2!==e.length||"string"!=typeof e[0]||"string"!=typeof e[1])throw"Expected argument is a single string[] of length 2.";"SOD"===e[0]&&(e[0]=Q),"EOD"===e[1]&&(e[1]=Q);var n=Z(e[0]),r=Z(e[1]);if(r!==Q&&n>r)throw"Time range start time '".concat(n,"' must be before end time '").concat(r,"' or both must equal ").concat(Q);var i={startTime:n,endTime:r,lenghtInMs:t.setTime(new Date(r===Q?K:0),r)-t.setTime(new Date(0),n),isInRange:function(e){var n=t.getTimeString(e);return i.startTime<=n&&(i.endTime===Q||i.endTime>n)}};return i}(e,t)})).sort((function(e,t){return e.startTime<t.startTime?-1:e.startTime>t.startTime?1:0}));return{totalTradingTimeInMiliseconds:K-n.reduce((function(e,t){return e+t.lenghtInMs}),0),nonTradingTimeRanges:n,totalTradingMillisecondsBetween:function(e,r){if(e.getTime()===r.getTime())return 0;if(t.dayInterval(e).getTime()!==t.dayInterval(r).getTime()&&t.getStartOfNextDay(e).getTime()!==r.getTime())throw"tradingDay.totalTradingMillisecondsBetween arguments must be on the same day or intervalEnd must be the start of the next day instead: intervalStart: '".concat(e,"'; intervalEnd: '").concat(r,"'");var i,a=0,o=W(n.filter((function(n){return n.endTime===Q||t.setTime(e,n.endTime)>=e})));try{for(o.s();!(i=o.n()).done;){var l=i.value,c=t.setTime(e,l.startTime),s=l.endTime===Q?t.getStartOfNextDay(e):t.setTime(e,l.endTime);if(e<c&&r<c)return a+t.msInterval.count(e,r);if(e<c&&(a+=t.msInterval.count(e,c)),r<s)return a;e=s}}catch(e){o.e(e)}finally{o.f()}return a+t.msInterval.count(e,r)},offset:function(e,r){if(0===r)return[e,r];var i=t.msInterval.offset(e,r),a=r>0?n.filter((function(n){return t.setTime(e,n.startTime)>=e})):n.filter((function(n){return t.setTime(e,n.startTime)<e})).reverse();if(0===a.length)return[t.msInterval.offset(e,r),0];if(r>0){var o,l=W(a);try{for(l.s();!(o=l.n()).done;){var c=o.value,s=t.setTime(e,c.startTime);s<=i&&(r-=t.msInterval.count(e,s),e=c.endTime===Q?t.getStartOfNextDay(e):t.setTime(e,c.endTime),i=t.msInterval.offset(e,r))}}catch(e){l.e(e)}finally{l.f()}r-=t.msInterval.count(e,i)}else{var u,f=W(a);try{for(f.s();!(u=f.n()).done;){var d=u.value,h=d.endTime===Q?t.getStartOfNextDay(e):t.setTime(e,d.endTime);i<h&&(r+=t.msInterval.count(h,e)+1,e=t.msInterval.offset(t.setTime(e,d.startTime),-1),i=t.msInterval.offset(e,r))}}catch(e){f.e(e)}finally{f.f()}r+=t.msInterval.count(i,e)}if(0!==r)throw"tradingDay.offset was called with an offset that spans more than a day";return[i,r]}}},ee=function(e,t,n,r,i){var a={getTimeComponentArrayFromString:function(e){return[e.slice(0,2),e.slice(3,5),e.slice(6,8),e.slice(9,12)]},getTimeString:function(e){var t=B(n(e).map((function(e){return e.toString(10).padStart(2,"0")})),4),r=t[0],i=t[1],a=t[2],o=t[3];return"".concat(r,":").concat(i,":").concat(a,".").concat(o.padStart(3,"0"))},setTime:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=B(a.getTimeComponentArrayFromString(n),4),l=o[0],c=o[1],s=o[2],u=o[3];return i.offset(e(t,l,c,s,u),r)},getStartOfNextDay:function(e){return r.offset(r.floor(e),1)},getEndOfPreviousDay:function(e){return i.offset(r.floor(e),-1)}};return a.dayInterval=r,a.msInterval=i,a.getDay=t,a},te=ee((function(e,t,n,r,i){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),t,n,r,i)}),(function(e){return e.getDay()}),(function(e){return[e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]}),r.timeDay,r.timeMillisecond),ne=function(e,t){var n=function(t){return void 0===e[t]?[]:e[t]},r=[J(n("Sunday"),t),J(n("Monday"),t),J(n("Tuesday"),t),J(n("Wednesday"),t),J(n("Thursday"),t),J(n("Friday"),t),J(n("Saturday"),t)],i=r.reduce((function(e,t){return e+t.totalTradingTimeInMiliseconds}),0);if(0===i)throw"Trading pattern must yield at least 1 ms of trading time";var a={tradingDays:r,totalTradingWeekMilliseconds:i,clampUp:function(e){var n,i=W(r[t.getDay(e)].nonTradingTimeRanges);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.isInRange(e))return o.endTime===Q?a.clampUp(t.getStartOfNextDay(e)):t.setTime(e,o.endTime)}}catch(e){i.e(e)}finally{i.f()}return e},clampDown:function(e){var n,i=W(r[t.getDay(e)].nonTradingTimeRanges);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.isInRange(e))return o.startTime===Q?a.clampDown(t.getEndOfPreviousDay(e)):t.setTime(e,o.startTime,-1)}}catch(e){i.e(e)}finally{i.f()}return e},distance:function(e,n){if(e.getTime()===n.getTime())return 0;var r=B(e<=n?[e,n,1]:[n,e,-1],3),i=r[0],o=r[1],l=r[2];if(t.dayInterval(i).getTime()===t.dayInterval(o).getTime())return a.tradingDays[t.getDay(i)].totalTradingMillisecondsBetween(i,o);var c=a.tradingDays[t.getDay(i)].totalTradingMillisecondsBetween(i,t.dayInterval.offset(t.dayInterval(i),1))+a.tradingDays[t.getDay(o)].totalTradingMillisecondsBetween(t.dayInterval(o),o);return 1===t.dayInterval.count(i,o)?c:(i=t.dayInterval.offset(t.dayInterval(i),1),o=t.dayInterval(o),l*t.dayInterval.range(i,o).reduce((function(e,n,r,i){var o=r<i.length-1?i[r+1]:t.dayInterval.offset(n,1),l=o-n!==K,c=a.tradingDays[t.getDay(n)];return e+(l?c.totalTradingMillisecondsBetween(n,o):c.totalTradingTimeInMiliseconds)}),c))},offset:function(e,n){e=n>=0?a.clampUp(e):a.clampDown(e);var r=function(e,n,r){if(r<0){var i=t.dayInterval(n),o=e.totalTradingMillisecondsBetween(i,n);return Math.abs(r)<=o?e.offset(n,r):[a.clampDown(t.msInterval.offset(i,-1)),r+o+1]}var l=t.getStartOfNextDay(n),c=e.totalTradingMillisecondsBetween(n,l);return r<c?e.offset(n,r):[a.clampUp(l),r-c]};if(0===n)return e;var i,o=n<0?function(e,n,r){return[a.clampDown(t.dayInterval.offset(e,-1)),n+r]}:function(e,n,r){return[a.clampUp(t.dayInterval.offset(e)),n-r]},l=a.tradingDays[t.getDay(e)],c=B(r(l,e,n),2);for(e=c[0],n=c[1];0!==n;)if(l=a.tradingDays[t.getDay(e)],i=e,t.dayInterval.offset(i)-t.dayInterval(i)!==K){var s=B(r(l,e,n),2);e=s[0],n=s[1]}else{var u=B(Math.abs(n)>=l.totalTradingTimeInMiliseconds?o(e,n,l.totalTradingTimeInMiliseconds):r(l,e,n),2);e=u[0],n=u[1]}return e},copy:function(){return a}};return a},re=ee((function(e,t,n,r,i){return new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),t,n,r,i))}),(function(e){return e.getUTCDay()}),(function(e){return[e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]}),r.utcDay,r.utcMillisecond);function ie(){var e=[function(e){return e}],n=[0,0],r="percent",i=null,a=[],o=function(o){var l,c=new Array(o.length),s=W(e);try{for(s.s();!(l=s.n()).done;)for(var u=l.value,f=0;f<o.length;f++){var d=u(o[f],f);Array.isArray(d)?c.push.apply(c,F(d)):c.push(d)}}catch(e){s.e(e)}finally{s.f()}var h=[t.min(c),t.max(c)];if(h[0]=null==h[0]?t.min(a):t.min([h[0]].concat(F(a))),h[1]=null==h[1]?t.max(a):t.max([h[1]].concat(F(a))),null!=i){var g=Math.max(Math.abs(h[1]-i),Math.abs(h[0]-i));h[0]=i-g,h[1]=i+g}switch(r){case"domain":h[0]-=n[0],h[1]+=n[1];break;case"percent":var p=h[1]-h[0];h[0]-=n[0]*p,h[1]+=n[1]*p;break;default:throw new Error("Unknown padUnit: ".concat(r))}return h};return o.accessors=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.pad=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.padUnit=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.include=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],o):a},o.symmetricalAbout=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],o):i},o}function ae(){var e=[],t=[0,0],n="percent",r=null,i=[],a=ie(),o=function(e){return null!=e?e.valueOf():null},l=function(l){var c=e.map((function(e){return function(){var t=e.apply(void 0,arguments);return Array.isArray(t)?t.map(o):o(t)}}));return a.accessors(c).pad(t).padUnit(n).symmetricalAbout(null!=r?r.valueOf():null).include(i.map((function(e){return e.valueOf()}))),a(l).map((function(e){return new Date(e)}))};return l.accessors=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],l):e},l.pad=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],l):t},l.padUnit=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],l):n},l.include=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],l):i},l.symmetricalAbout=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],l):r},l}function oe(){var e=1,t=20,n=.1,r=.1,a=i.randomNormal(),o=function(){for(var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=e/t,l=[],c=0;c<t+1;c++){l.push(i);var s=a()*Math.sqrt(o)*r+(n-r*r/2)*o;i*=Math.exp(s)}return l};return o.period=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.steps=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.mu=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.sigma=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.random=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],o):a},o}function le(){var e=10,n=function(n){return e<=1?n.map((function(e){return[e]})):t.range(0,Math.ceil(n.length/e)).map((function(t){return n.slice(t*e,(t+1)*e)}))};return n.bucketSize=function(t){return arguments.length?(e=t,n):e},n}var ce=function(e){return"function"==typeof e?e:function(){return e}},se=function(){var e=null,t=function(e){return e.date},n=function(e){return e.open},r=function(e){return e.high},i=function(e){return e.low},a=function(e){return e.close},l="vertical",c=ce(3),s=function(s){var u=e||o.path();return s.forEach((function(e,o){var s=t(e,o),f=n(e,o),d=r(e,o),h=i(e,o),g=a(e,o),p=c(e,o)/2;"vertical"===l?(u.moveTo(s,h),u.lineTo(s,d),u.moveTo(s,f),u.lineTo(s-p,f),u.moveTo(s,g),u.lineTo(s+p,g)):(u.moveTo(h,s),u.lineTo(d,s),u.moveTo(f,s),u.lineTo(f,s+p),u.moveTo(g,s),u.lineTo(g,s-p))})),e?null:u.toString()};return s.context=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],s):e},s.x=function(){return arguments.length?(t=ce(arguments.length<=0?void 0:arguments[0]),s):t},s.open=function(){return arguments.length?(n=ce(arguments.length<=0?void 0:arguments[0]),s):n},s.high=function(){return arguments.length?(r=ce(arguments.length<=0?void 0:arguments[0]),s):r},s.low=function(){return arguments.length?(i=ce(arguments.length<=0?void 0:arguments[0]),s):i},s.close=function(){return arguments.length?(a=ce(arguments.length<=0?void 0:arguments[0]),s):a},s.width=function(){return arguments.length?(c=ce(arguments.length<=0?void 0:arguments[0]),s):c},s.orient=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],s):l},s},ue=function(){var e=null,t=function(e){return e.x},n=function(e){return e.y},r="center",i="center",a=function(e){return e.height},l=ce(3),c=function(c,s){var u=e||o.path();return c.forEach((function(e,o){var c,f,d=t.call(this,e,s||o),h=n.call(this,e,s||o),g=a.call(this,e,s||o),p=l.call(this,e,s||o);switch(r){case"left":c=p;break;case"right":c=0;break;case"center":c=p/2;break;default:throw new Error("Invalid horizontal alignment "+r)}switch(i){case"bottom":f=-g;break;case"top":f=0;break;case"center":f=g/2;break;default:throw new Error("Invalid vertical alignment "+i)}u.rect(d-c,h-f,p,g)}),this),e?null:u.toString()};return c.context=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],c):e},c.x=function(){return arguments.length?(t=ce(arguments.length<=0?void 0:arguments[0]),c):t},c.y=function(){return arguments.length?(n=ce(arguments.length<=0?void 0:arguments[0]),c):n},c.width=function(){return arguments.length?(l=ce(arguments.length<=0?void 0:arguments[0]),c):l},c.horizontalAlign=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],c):r},c.height=function(){return arguments.length?(a=ce(arguments.length<=0?void 0:arguments[0]),c):a},c.verticalAlign=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],c):i},c},fe=function(){var e=null,t=function(e){return e.date},n=function(e){return e.open},r=function(e){return e.high},i=function(e){return e.low},a=function(e){return e.close},l=ce(3),c=function(c){var s=e||o.path();return c.forEach((function(e,o){var c=t(e,o),u=n(e,o),f=r(e,o),d=i(e,o),h=a(e,o),g=l(e,o),p=g/2;s.rect(c-p,u,g,h-u),s.moveTo(c,Math.min(h,u)),s.lineTo(c,f),s.moveTo(c,Math.max(h,u)),s.lineTo(c,d)})),e?null:s.toString()};return c.context=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],c):e},c.x=function(){return arguments.length?(t=ce(arguments.length<=0?void 0:arguments[0]),c):t},c.open=function(){return arguments.length?(n=ce(arguments.length<=0?void 0:arguments[0]),c):n},c.high=function(){return arguments.length?(r=ce(arguments.length<=0?void 0:arguments[0]),c):r},c.low=function(){return arguments.length?(i=ce(arguments.length<=0?void 0:arguments[0]),c):i},c.close=function(){return arguments.length?(a=ce(arguments.length<=0?void 0:arguments[0]),c):a},c.width=function(){return arguments.length?(l=ce(arguments.length<=0?void 0:arguments[0]),c):l},c},de=function(){var e=null,t=function(e){return e.value},n=function(e){return e.median},r=function(e){return e.upperQuartile},i=function(e){return e.lowerQuartile},a=function(e){return e.high},l=function(e){return e.low},c="vertical",s=ce(5),u=ce(.5),f=function(f){var d=e||o.path();return f.forEach((function(e,o){var f=t(e,o),h=s(e,o),g=h/2,p=h*u(e,o)/2,_=a(e,o),b=r(e,o),m=n(e,o),v=i(e,o),y=l(e,o),w=v-b;"vertical"===c?(d.moveTo(f-p,_),d.lineTo(f+p,_),d.moveTo(f,_),d.lineTo(f,b),d.rect(f-g,b,h,w),d.moveTo(f-g,m),d.lineTo(f+g,m),d.moveTo(f,v),d.lineTo(f,y),d.moveTo(f-p,y),d.lineTo(f+p,y)):(d.moveTo(y,f-p),d.lineTo(y,f+p),d.moveTo(y,f),d.lineTo(v,f),d.rect(v,f-g,-w,h),d.moveTo(m,f-g),d.lineTo(m,f+g),d.moveTo(b,f),d.lineTo(_,f),d.moveTo(_,f-p),d.lineTo(_,f+p))})),e?null:d.toString()};return f.context=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],f):e},f.value=function(){return arguments.length?(t=ce(arguments.length<=0?void 0:arguments[0]),f):t},f.median=function(){return arguments.length?(n=ce(arguments.length<=0?void 0:arguments[0]),f):n},f.upperQuartile=function(){return arguments.length?(r=ce(arguments.length<=0?void 0:arguments[0]),f):r},f.lowerQuartile=function(){return arguments.length?(i=ce(arguments.length<=0?void 0:arguments[0]),f):i},f.high=function(){return arguments.length?(a=ce(arguments.length<=0?void 0:arguments[0]),f):a},f.low=function(){return arguments.length?(l=ce(arguments.length<=0?void 0:arguments[0]),f):l},f.width=function(){return arguments.length?(s=ce(arguments.length<=0?void 0:arguments[0]),f):s},f.orient=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],f):c},f.cap=function(){return arguments.length?(u=ce(arguments.length<=0?void 0:arguments[0]),f):u},f},he=function(){var e=null,t=function(e){return e.x},n=function(e){return e.high},r=function(e){return e.low},i="vertical",a=ce(5),l=function(l){var c=e||o.path();return l.forEach((function(e,o){var l=t(e,o),s=a(e,o)/2,u=n(e,o),f=r(e,o);"vertical"===i?(c.moveTo(l-s,u),c.lineTo(l+s,u),c.moveTo(l,u),c.lineTo(l,f),c.moveTo(l-s,f),c.lineTo(l+s,f)):(c.moveTo(f,l-s),c.lineTo(f,l+s),c.moveTo(f,l),c.lineTo(u,l),c.moveTo(u,l-s),c.lineTo(u,l+s))})),e?null:c.toString()};return l.context=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],l):e},l.value=function(){return arguments.length?(t=ce(arguments.length<=0?void 0:arguments[0]),l):t},l.high=function(){return arguments.length?(n=ce(arguments.length<=0?void 0:arguments[0]),l):n},l.low=function(){return arguments.length?(r=ce(arguments.length<=0?void 0:arguments[0]),l):r},l.width=function(){return arguments.length?(a=ce(arguments.length<=0?void 0:arguments[0]),l):a},l.orient=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],l):i},l},ge=function(e){return"function"==typeof e?e:function(){return e}},pe=1e-6,_e=function(e){return e.selection()!==e},be=function(e,t){e=e||"g";var n=function(e,t){return t},r=null,i=function(i,a){a=a||function(e){return e};var o=i.selection(),l=_e(i)?i:null,c=o.selectChildren(null==t?e:"".concat(e,".").concat(t)).data(a,n),s=c.enter().append(e).attr("class",t),u=c.exit();c=c.merge(s);var f=l||r;return f&&(c=c.transition(f).style("opacity",1),s.style("opacity",pe),u=u.transition(f).style("opacity",pe)),u.remove(),c.enter=function(){return s},c.exit=function(){return u},c};return i.element=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.className=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.key=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},i.transition=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i},me=function(e,t){if(function(e,t){return!(e.x>=t.x+t.width||e.x+e.width<=t.x||e.y>=t.y+t.height||e.y+e.height<=t.y)}(e,t)){var n=Math.max(e.x,t.x),r=Math.min(e.x+e.width,t.x+t.width),i=Math.max(e.y,t.y);return(r-n)*(Math.min(e.y+e.height,t.y+t.height)-i)}return 0},ve=function(e,n){return t.sum(e.map((function(t,r){return n===r?0:me(e[n],t)})))},ye=function(e,t,n,r,i){return{x:e,y:t,width:n,height:r,location:i}},we=function(e){var t=e.x,n=e.y,r=e.width,i=e.height;return[ye(t,n,r,i,"bottom-right"),ye(t-r,n,r,i,"bottom-left"),ye(t-r,n-i,r,i,"top-left"),ye(t,n-i,r,i,"top-right"),ye(t,n-i/2,r,i,"middle-right"),ye(t-r/2,n,r,i,"bottom-center"),ye(t-r,n-i/2,r,i,"middle-left"),ye(t-r/2,n-i,r,i,"top-center")]},xe=function(e,t,n){return[].concat(F(e.slice(0,t)),[n],F(e.slice(t+1)))},ke=function(e,t){return e<t},Se=function e(){var n,r=null,i=ke,a=function(){return 0},o=function o(l,c){r||(r=t.sum(n.map((function(e,t){return a(e,t,n)}))));var s=function(e,t){return r-a(n[t],t,n)+a(e,t,xe(n,t,e))}(l,c);return i(s,r)?e().locationScore(a).winningScore(i).score(s).rectangles(xe(n,c,l)):o};return o.rectangles=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.score=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.winningScore=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],o):i},o.locationScore=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],o):a},o},Me=function(e){return Math.floor(Math.random()*e.length)},Ae=function(e){return"function"==typeof e?e:function(){return e}};function Te(){var e=arguments;return function(t,n){for(var r=0,i=e.length;r<i;r++)if(null==e[r](t,n))return!1;return!0}}var Ee=function(e,t){switch(e){case"left":return t/2;case"right":return-t/2;default:return 0}},Ce=function(e){var t=Object.assign({},e),n=function(){};return Object.keys(t).forEach((function(e){n[e]=function(){return arguments.length?(t[e]=arguments.length<=0?void 0:arguments[0],n):t[e]}})),n},Ve=function(){var e=function(){return 0},t=function(e){return e.x},r=function(e){return e.y},i="center",a=function(){return 5},o="vertical",l=Ce({decorate:function(){},defined:function(n,i){return Te(e,t,r)(n,i)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return l.values=function(n,c){var s=a(n,c),u=Ee(i,s),f=l.xScale(),d=l.yScale();if("vertical"===o){var h=d(r(n,c),c),g=d(e(n,c),c),p=f(t(n,c),c)+u;return{d:n,x:p,y:h,y0:g,width:s,height:h-g,origin:[p,h],baseOrigin:[p,g],transposedX:p,transposedY:h}}var _=f(r(n,c),c),b=f(e(n,c),c),m=d(t(n,c),c)+u;return{d:n,x:m,y:_,y0:b,width:s,height:_-b,origin:[_,m],baseOrigin:[b,m],transposedX:_,transposedY:m}},l.xValues=function(){return"vertical"===o?[t]:[e,r]},l.yValues=function(){return"vertical"!==o?[t]:[e,r]},l.baseValue=function(){return arguments.length?(e=Ae(arguments.length<=0?void 0:arguments[0]),l):e},l.crossValue=function(){return arguments.length?(t=Ae(arguments.length<=0?void 0:arguments[0]),l):t},l.mainValue=function(){return arguments.length?(r=Ae(arguments.length<=0?void 0:arguments[0]),l):r},l.bandwidth=function(){return arguments.length?(a=Ae(arguments.length<=0?void 0:arguments[0]),l):a},l.align=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],l):i},l.orient=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],l):o},l},Ne="#c60",ze="#6c0",De="#000",Pe="#ddd",Le="#999",Oe=function(){var e=Ve(),t=c.line().x((function(t,n){return e.values(t,n).transposedX})).y((function(t,n){return e.values(t,n).transposedY})),n=be("path","line"),r=function(r){_e(r)&&n.transition(r),t.defined(e.defined()),r.each((function(r,i,a){var o=n(l.select(a[i]),[r]);o.enter().attr("fill","none").attr("stroke",De),o.attr("d",t),e.decorate()(o,r,i)}))};return p(r,e,b("baseValue","bandwidth","align")),g(r,n,"key"),g(r,t,"curve"),r},Ie=function(){var e=Ve(),t=c.line().x((function(t,n){return e.values(t,n).transposedX})).y((function(t,n){return e.values(t,n).transposedY})),n=function(n){var r=t.context();r.beginPath(),r.strokeStyle=De,r.fillStyle="transparent",e.decorate()(r,n),t.defined(e.defined())(n),r.fill(),r.stroke(),r.closePath()};return p(n,e,b("baseValue","bandwidth","align")),g(n,t,"curve","context"),n},Re=function(){var e=[0,1],t=[-1,1],n=function(){};return n.domain=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],n):e},n.range=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n},Be=function(){var e={},t={},n=null,r=function(r,i){var a=r.context();Object.keys(e).forEach((function(t){var n=e[t];if("function"!=typeof n)throw new Error("Expected an attribute for ".concat(t,", found ").concat(n));var o=a.getAttribLocation(i,t);n.location(o)(r)})),Object.keys(t).forEach((function(e){var n=t[e];if("function"!=typeof n)throw new Error("Expected a uniform for ".concat(e,", found ").concat(n));var o=a.getUniformLocation(i,e);n.location(o)(r)})),null!==n&&n(r)};return r.flush=function(){Object.values(e).forEach((function(e){return e.clear()})),Object.values(t).forEach((function(e){return e.clear()})),null!==n&&n.clear()},r.attribute=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return 1===n.length?e[n[0]]:(e[n[0]]=n[1],r)},r.uniform=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return 1===n.length?t[n[0]]:(t[n[0]]=n[1],r)},r.elementIndices=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r):n},r},Fe=function(e){var t=-1,n=e,r=!0,i=function(e){if(r){var i=e.context();if(Array.isArray(n))switch(n.length){case 1:i.uniform1fv(t,n);break;case 2:i.uniform2fv(t,n);break;case 3:i.uniform3fv(t,n);break;case 4:i.uniform4fv(t,n);break;default:throw new Error("Uniform supports up to 4 elements. ".concat(n.length," provided."))}else i.uniform1f(t,n);r=!1}};return i.clear=function(){r=!0},i.location=function(){return arguments.length?(t!==(arguments.length<=0?void 0:arguments[0])&&(t=arguments.length<=0?void 0:arguments[0],r=!0),i):t},i.data=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r=!0,i):n},i},Ye=0,je=4,$e=function(){var e=null,t=null,n=null,r=null,i=null,a=null,o=je,l=0,c=Be(),s=!1,u=null,f=!0,d=1,h=function h(p){if(null!=e){var _=n(),b=r();if(function(e,t,n){return!(e&&!f)||t!==i||n!==a}(t,_,b)&&(t=function(t,n){var r=g(t,e.VERTEX_SHADER),i=g(n,e.FRAGMENT_SHADER),a=e.createProgram();if(e.attachShader(a,r),e.attachShader(a,i),e.linkProgram(a),s&&!e.getProgramParameter(a,e.LINK_STATUS)){var o=e.getProgramInfoLog(a);throw e.deleteProgram(a),new Error("Failed to link program : ".concat(o,"\n            Vertex Shader : ").concat(t,"\n            Fragment Shader : ").concat(n))}return a}(_,b),i=_,a=b,f=!1),e.useProgram(t),c.uniform("uScreen",Fe([e.canvas.width/d,e.canvas.height/d])),c(h,t),0===l)null==c.elementIndices()?e.drawArrays(o,0,p):e.drawElements(o,p,e.UNSIGNED_SHORT,0);else if(null==c.elementIndices())u.drawArraysInstancedANGLE(o,0,l,p);else{var m=c.elementIndices().data().length;if(l!==m)throw new Error("Expected elementIndices length ".concat(m)+" to match subInstanceCount ".concat(l,"."));u.drawElementsInstancedANGLE(o,l,e.UNSIGNED_SHORT,0,p)}}};return h.extInstancedArrays=function(){return u},h.context=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.length?(null!=n[0]&&n[0]===e||(c.flush(),f=!0),null!=n[0]&&n[0]!==e&&(u=n[0].getExtension("ANGLE_instanced_arrays")),e=n[0],h):e},h.buffers=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],h):c},h.vertexShader=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],h):n},h.fragmentShader=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],h):r},h.mode=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],h):o},h.subInstanceCount=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],h):l},h.debug=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],h):s},h.pixelRatio=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],h):d},h;function g(t,n){var r=e.createShader(n);if(e.shaderSource(r,t),e.compileShader(r),s&&!e.getShaderParameter(r,e.COMPILE_STATUS)){var i=e.getShaderInfoLog(r);throw e.deleteShader(r),new Error("Failed to compile shader : ".concat(i,"\n            Shader : ").concat(t))}return r}},He=function(e){var t=[],n=[],r=function(){return e(t.join("\n"),n.join("\n"))};function i(e,t){e.push(t)}function a(e,t,n){var r=e.indexOf(n);e.splice(r>=0?r:e.length,0,t)}function o(e,t){-1===e.indexOf(t)&&e.push(t)}return r.appendHeader=function(e){return i(t,e),r},r.insertHeader=function(e,n){return a(t,e,n),r},r.appendHeaderIfNotExists=function(e){return o(t,e),r},r.appendBody=function(e){return i(n,e),r},r.insertBody=function(e,t){return a(n,e,t),r},r.appendBodyIfNotExists=function(e){return o(n,e),r},r},Ue=function(e,t){return"\nprecision mediump float;\nfloat inf = 1.0 / 0.0;\n".concat(e,"\nvoid main() {\n    ").concat(t,"\n}")},We=function(e,t){return"\nprecision mediump float;\n".concat(e,"\nvoid main() {\n    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n    ").concat(t,"\n}")},qe="attribute vec4 aFillColor;\n             varying vec4 vFillColor;",Ge="vFillColor = aFillColor;",Xe="attribute vec4 aStrokeColor;\n             varying vec4 vStrokeColor;",Ke="vStrokeColor = aStrokeColor;",Qe="\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",Ze="\n        vDefined = aDefined;\n        vSize = 2.0 * sqrt(aSize / 3.14159);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);",Je="\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",et="\n        vDefined = aDefined;\n        vSize = 4.0 * sqrt(aSize / 3.14159);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);",tt="\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",nt="\n        vDefined = aDefined;\n        vSize = 3.0 * sqrt(aSize / 3.14159);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);",rt="\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",it="\n        vDefined = aDefined;\n        vSize = sqrt(aSize);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);",at="\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",ot="\n        vDefined = aDefined;\n        vSize = sqrt(aSize);\n        gl_PointSize = 2.0 * (vSize + uStrokeWidth + 1.0);\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);",lt="\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",ct="\n        vDefined = aDefined;\n        vSize = sqrt((16.0 * aSize) / (3.0 * sqrt(3.0)));\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);",st="\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vStrokeWidthRatio;\n        varying float vDefined;",ut="\n        vDefined = aDefined;\n        vSize = 3.0 * sqrt(aSize / 5.0);\n        vStrokeWidthRatio = uStrokeWidth / (vSize + uStrokeWidth + 1.0);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);",ft="\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aHighValue;\n        attribute float aOpenValue;\n        attribute float aCloseValue;\n        attribute float aLowValue;\n        attribute vec3 aCorner;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vColorIndicator;\n        varying float vDefined;",dt="\n        vDefined = aDefined;\n        vColorIndicator = sign(aCloseValue - aOpenValue);\n\n        float isPositiveY = (sign(aCorner.y) + 1.0) / 2.0;\n        float isNotPositiveY = 1.0 - isPositiveY;\n        float isExtremeY = abs(aCorner.y) - 1.0;\n        float isNotExtremeY = 1.0 - isExtremeY;\n        float yValue =\n         (isPositiveY * isExtremeY * aLowValue) +\n         (isPositiveY * isNotExtremeY * aCloseValue) +\n         (isNotPositiveY * isNotExtremeY * aOpenValue) +\n         (isNotPositiveY * isExtremeY * aHighValue);\n\n        float lineWidthXDirection = (isNotExtremeY * aCorner.x) + (isExtremeY * aCorner.z);\n        float lineWidthYDirection = isNotExtremeY * sign(aCloseValue - aOpenValue) * aCorner.y;\n\n        float bandwidthModifier = aBandwidth * aCorner.x / 2.0;\n\n        float xModifier = (uStrokeWidth * lineWidthXDirection / 2.0) + bandwidthModifier;\n        float yModifier = uStrokeWidth * lineWidthYDirection / 2.0;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);",ht="\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aHighValue;\n        attribute float aOpenValue;\n        attribute float aCloseValue;\n        attribute float aLowValue;\n        attribute vec3 aCorner;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vColorIndicator;\n        varying float vDefined;",gt="\n        vDefined = aDefined;\n        vColorIndicator = sign(aCloseValue - aOpenValue);\n\n        float isPositiveY = (sign(aCorner.y) + 1.0) / 2.0;\n        float isNotPositiveY = 1.0 - isPositiveY;\n        float isExtremeY = abs(aCorner.y) - 1.0;\n        float isNotExtremeY = 1.0 - isExtremeY;\n        float yValue =\n            (isPositiveY * isExtremeY * aLowValue) +\n            (isPositiveY * isNotExtremeY * aCloseValue) +\n            (isNotPositiveY * isNotExtremeY * aOpenValue) +\n            (isNotPositiveY * isExtremeY * aHighValue);\n\n        float lineWidthXDirection = isExtremeY * aCorner.z;\n        float lineWidthYDirection = isNotExtremeY * aCorner.z;\n\n        float bandwidthModifier = isNotExtremeY * aCorner.x * aBandwidth / 2.0;\n\n        float xModifier = (uStrokeWidth * lineWidthXDirection / 2.0) + bandwidthModifier;\n        float yModifier = uStrokeWidth * lineWidthYDirection / 2.0;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);",pt="\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aMainValue;\n        attribute float aBaseValue;\n        attribute vec2 aCorner;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vDefined;",_t="\n        vDefined = aDefined;\n        float isBaseline = (1.0 - aCorner.y) / 2.0;\n        float yValue = (isBaseline * aBaseValue) + ((1.0 - isBaseline) * aMainValue);\n\n        float xModifier = aCorner.x * (aBandwidth) / 2.0;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);",bt="\n        attribute vec3 aCorner;\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aHighValue;\n        attribute float aLowValue;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vDefined;",mt="\n        vDefined = aDefined;\n        float isLow = (aCorner.y + 1.0) / 2.0;\n        float yValue = isLow * aLowValue + (1.0 - isLow) * aHighValue;\n\n        float isEdgeCorner = abs(aCorner.x);\n        float lineWidthXDirection = (1.0 - isEdgeCorner) * aCorner.z;\n        float lineWidthYDirection = isEdgeCorner * aCorner.z;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);\n\n        float xModifier = (uStrokeWidth * lineWidthXDirection) + (aBandwidth * aCorner.x / 2.0);\n        float yModifier = (uStrokeWidth * lineWidthYDirection);",vt="\n        attribute vec3 aCorner;\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aCrossNextValue;\n        attribute float aMainNextValue;\n        attribute float aBaseValue;\n        attribute float aBaseNextValue;\n        attribute float aDefined;\n        attribute float aDefinedNext;\n\n        varying float vDefined;\n\n        float when_lt(float a, float b) {\n            return max(sign(b - a), 0.0);\n        }\n\n        float and(float a, float b) {\n            return a * b;\n        }",yt="\n        vDefined = aDefined * aDefinedNext;\n        gl_Position = vec4(0, 0, 0, 1);\n\n        float hasIntercepted = when_lt((aMainNextValue - aBaseNextValue) * (aMainValue - aBaseValue), 0.0);\n        float useIntercept = and(aCorner.z, hasIntercepted);\n\n        float yGradient = (aMainNextValue - aMainValue) / (aCrossNextValue - aCrossValue);\n        float yConstant = aMainNextValue - (yGradient * aCrossNextValue);\n\n        float y0Gradient = (aBaseNextValue - aBaseValue) / (aCrossNextValue - aCrossValue);\n        float y0Constant = aBaseNextValue - (y0Gradient * aCrossNextValue);\n\n        float denominator = (yGradient - y0Gradient) + step(abs(yGradient - y0Gradient), 0.0);\n        float interceptXValue = (y0Constant - yConstant) / denominator;\n        float interceptYValue = (yGradient * interceptXValue) + yConstant;\n\n        gl_Position = vec4(interceptXValue * useIntercept, interceptYValue * useIntercept, 0, 1);\n\n        gl_Position.x += (1.0 - useIntercept) * ((aCorner.x * aCrossNextValue) + ((1.0 - aCorner.x) * aCrossValue));\n        gl_Position.y += (1.0 - useIntercept) * (1.0 - aCorner.y) * ((aCorner.x * aMainNextValue) + ((1.0 - aCorner.x) * aMainValue));\n        gl_Position.y += (1.0 - useIntercept) * aCorner.y * ((aCorner.x * aBaseNextValue) + ((1.0 - aCorner.x) * aBaseValue));",wt="\n        attribute vec4 aCorner;\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aCapWidth;\n        attribute float aHighValue;\n        attribute float aUpperQuartileValue;\n        attribute float aMedianValue;\n        attribute float aLowerQuartileValue;\n        attribute float aLowValue;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vDefined;\n    ",xt="\n        vDefined = aDefined;\n        float isExtremeY = sign(abs(aCorner.y) - 2.0) + 1.0;\n        float isNotExtremeY = 1.0 - isExtremeY;\n\n        float isNonZeroY = abs(sign(aCorner.y));\n        float isZeroY = 1.0 - isNonZeroY;\n\n        float isQuartileY = isNotExtremeY * isNonZeroY;\n\n        float isPositiveY = (sign(aCorner.y + 0.5) + 1.0) / 2.0;\n        float isNegativeY = 1.0 - isPositiveY;\n\n        float yValue =\n          (isExtremeY * isNegativeY) * aHighValue +\n          (isQuartileY * isNegativeY) * aUpperQuartileValue +\n          isZeroY * aMedianValue +\n          (isQuartileY * isPositiveY) * aLowerQuartileValue +\n          (isExtremeY * isPositiveY) * aLowValue;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);\n\n        float isHorizontal = aCorner.w;\n        float isVertical = 1.0 - isHorizontal;\n\n        float xDisplacement = aCorner.x * (isExtremeY * aCapWidth + isNotExtremeY * aBandwidth) / 2.0;\n\n        float xModifier = (isVertical * uStrokeWidth * aCorner.z / 2.0) + xDisplacement;\n        float yModifier = isHorizontal * uStrokeWidth * aCorner.z / 2.0;",kt="\n        varying float vSize;\n        varying float vDefined;",St="\n        float canFill = 1.0;\n        float distance = length(2.0 * gl_PointCoord - 1.0);\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n            return;\n        }",Mt="\n        varying float vSize;\n        varying float vDefined;\n\n        // anterior, exterior angles\n        float an = 0.628319;\n        vec2 acs = vec2(0.809017, 0.587786); // (cos, sin)\n        float en = 0.952000;\n        vec2 ecs = vec2(0.580055, 0.814577);\n    ",At="\n        float canFill = 1.0;\n\n        vec2 p = 2.0 * gl_PointCoord - 1.0;\n        p.y *= -1.0;\n\n        // sector\n        float bn = mod(atan(p.x, p.y), 2.0 * an) - an;\n        p = length(p) * vec2(cos(bn), abs(sin(bn)));\n\n        p -= acs;\n        p += ecs * clamp(-dot(p, ecs), 0.0, acs.y / ecs.y);\n        float d = length(p) * sign(p.x);\n\n        float distance = 1.0 + d;\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n            return;\n        }",Tt="\n        varying float vSize;\n        varying float vDefined;\n    ",Et="\n        float canFill = 1.0;\n\n        vec2 p = 2.0 * gl_PointCoord - 1.0;\n        p.y *= -1.0;\n\n        // sector\n        float an = 3.141593 / 3.0;\n        float bn = mod(atan(p.x, p.y), 2.0 * an) - an;\n        p = length(p) * vec2(cos(bn), abs(sin(bn)));\n\n        // box\n        vec2 d = abs(p) - vec2(0.9, 0.35);\n        float sdf = length(max(d, 0.0)) + min(max(d.x, d.y), 0.0);\n\n        float distance = 1.0 + sdf;\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n            return;\n        }",Ct="\n        varying float vSize;\n        varying float vDefined;",Vt="\n        float canFill = 1.0;\n        if (vDefined < 0.5) {\n            discard;\n        }\n        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;\n        float distance = max(abs(pointCoordTransform.x), abs(pointCoordTransform.y));\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);",Nt="\n        varying float vSize;\n        varying float vDefined;\n        float a = 0.6;\n        float b = 1.0;\n    ",zt="\n        if (vDefined < 0.5) {\n            discard;\n        }\n\n        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;\n\n        float x = abs(pointCoordTransform.x);\n        float y = abs(pointCoordTransform.y);\n\n        float X = (a * b * x) / (a * y + b * x);\n        float Y = (a * b * y) / (a * y + b * x);\n\n        float distance = length(vec2(x, y)) / length(vec2(X, Y));\n\n        if (distance > 1.0) {\n            discard;\n        }\n    ",Dt="\n        varying float vSize;\n        varying float vDefined;",Pt="\n        float canFill = 1.0;\n        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;\n        float topEdgesDistance = abs(pointCoordTransform.x) - ((pointCoordTransform.y - 0.6) / sqrt(3.0));\n        float bottomEdgeDistance = pointCoordTransform.y + 0.5;\n        float distance = max(topEdgesDistance, bottomEdgeDistance);\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n        }",Lt="\n        varying float vSize;\n        varying float vStrokeWidthRatio;\n        varying float vDefined;",Ot="\n        float canFill = 1.0;\n        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;\n        float innerCornerDistance = min(abs(pointCoordTransform.x), abs(pointCoordTransform.y)) + 0.66 - vStrokeWidthRatio;\n        float outerEdgeDistance = max(abs(pointCoordTransform.x), abs(pointCoordTransform.y));\n        float distance = max(innerCornerDistance, outerEdgeDistance);\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n        }",It="\n        varying float vColorIndicator;\n        varying float vDefined;",Rt="\n        float canFill = 1.0;\n        float canStroke = 0.0;\n        if (vDefined < 0.5) {\n            discard;\n        }\n        gl_FragColor = vec4(0.4, 0.8, 0, 1);\n        if (vColorIndicator < 0.0) {\n            gl_FragColor = vec4(0.8, 0.4, 0, 1);\n        }",Bt="\n        varying float vColorIndicator;\n        varying float vDefined;",Ft="\n        float canFill = 0.0;\n        float canStroke = 1.0;\n        if (vDefined < 0.5) {\n            discard;\n        }\n        gl_FragColor = vec4(0.4, 0.8, 0, 1);\n        if (vColorIndicator < 0.0) {\n            gl_FragColor = vec4(0.8, 0.4, 0, 1);\n        }",Yt="\n        varying float vDefined;",jt="\n        float canFill = 1.0;\n        float canStroke = 0.0;\n        if (vDefined < 0.5) {\n            discard;\n        }\n        gl_FragColor = vec4(0.86, 0.86, 0.86, 1);",$t="\n        varying float vDefined;\n    ",Ht="\n        float canFill = 0.0;\n        float canStroke = 1.0;\n\n        if (vDefined < 0.5) {\n            discard;\n        }",Ut="varying float vDefined;",Wt="\n        float canFill = 0.0;\n        float canStroke = 1.0;\n        if (vDefined < 0.5) {\n            discard;\n        }",qt="varying float vDefined;",Gt="\n        float canFill = 1.0;\n        float canStroke = 0.0;\n\n        gl_FragColor = vec4(0.60, 0.60, 0.60, 1.0);\n\n        if (vDefined < 0.5) {\n            discard;\n        }",Xt="varying vec4 vFillColor;",Kt="gl_FragColor = (canFill * vFillColor) + ((1.0 - canFill) * gl_FragColor);",Qt="varying vec4 vStrokeColor;",Zt="gl_FragColor = (canStroke * vStrokeColor) + ((1.0 - canStroke) * gl_FragColor);",Jt=function(){var e=He(Ue),t=He(We);return e.appendHeader(vt).appendBody(yt),t.appendHeader(Yt).appendBody(jt),{vertex:function(){return e},fragment:function(){return t}}},en={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,FLOAT:5126};function tn(e){switch(e){case en.BYTE:case en.UNSIGNED_BYTE:return 1;case en.SHORT:case en.UNSIGNED_SHORT:return 2;case en.FLOAT:return 4;default:throw new Error("Unknown type ".concat(e))}}function nn(e){switch(e){case en.BYTE:return Int8Array;case en.UNSIGNED_BYTE:return Uint8Array;case en.SHORT:return Int16Array;case en.UNSIGNED_SHORT:return Uint16Array;case en.FLOAT:return Float32Array;default:throw new Error("Unknown type ".concat(e))}}var rn=function(){var e=-1,t=null,n=1,r=en.FLOAT,i=!1,a=0,o=0,l=null,c=function(c){var s=c.context();null==t&&(t=s.createBuffer()),s.bindBuffer(s.ARRAY_BUFFER,t),s.vertexAttribPointer(e,n,r,i,a,o),s.enableVertexAttribArray(e),c.extInstancedArrays().vertexAttribDivisorANGLE(e,null!=l?l:c.subInstanceCount()>0?1:0)};return c.location=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],c):e},c.buffer=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],c):t},c.size=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],c):n},c.type=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],c):r},c.normalized=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],c):i},c.stride=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],c):a},c.offset=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],c):o},c.divisor=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],c):l},c},an=function(){var e=!0,t=1,n=en.FLOAT,r=function(){var e=en.FLOAT,t=new Float32Array(0),n=function(n){var r=nn(e);return t.length>n?t=new r(t.buffer,0,n):t.length!==n&&(t=new r(n)),t};return n.type=function(){if(!arguments.length)return e;if(e!==(arguments.length<=0?void 0:arguments[0])){var r=nn(e=arguments.length<=0?void 0:arguments[0]);t=new r(0)}return n},n}(),i=function(e,t){return e},a=null,o=function(){var o=a.length,l=r.type(n)(o*t);if(t>1)for(var c=0;c<o;c++){var s=i(a[c],c);if(s.length!==t)throw new Error("Expected components array of size ".concat(t,", recieved array with length ").concat(s.length,"."));for(var u=0;u<t;u++)l[c*t+u]=s[u]}else for(var f=0;f<o;f++){var d=i(a[f],f);if(Array.isArray(d))throw new Error("Expected a single component value, recieved array with length ".concat(d.length,"."));l[f]=d}return e=!1,l};return o.dirty=function(){return e},o.clear=function(){e=!0},o.size=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],e=!0,o):t},o.type=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],e=!0,o):n},o.arrayViewFactory=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],e=!0,o):r},o.value=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],e=!0,o):i},o.data=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],e=!0,o):a},o},on=function(){var e=rn(),t=an(),n=function n(r){if(e.size(n.size()).type(n.type()),e(r),t.dirty()){var i=t(),a=r.context();a.bindBuffer(a.ARRAY_BUFFER,e.buffer()),a.bufferData(a.ARRAY_BUFFER,i,a.DYNAMIC_DRAW)}};return n.clear=function(){e.buffer(null),t.clear()},g(n,e,"normalized","location","divisor"),g(n,t,"data","value","size","type"),n},ln=function(e,t,n,r){for(var i=arguments.length,a=new Array(i>4?i-4:0),o=4;o<i;o++)a[o-4]=arguments[o];e[t]=function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];var l=n[r].apply(n,a.concat(i));return l===n?e:l}},cn=function(){var e=$e().mode(je).subInstanceCount(6),t=Re(),n=Re(),r=function(){},i=on().divisor(0).size(3).type(en.UNSIGNED_BYTE).data([[0,0,0],[0,1,0],[1,1,1],[0,0,1],[1,0,0],[1,1,0]]);e.buffers().attribute("aCorner",i);var a=function(i){var a=Jt();e.vertexShader(a.vertex()).fragmentShader(a.fragment()),t(e,"gl_Position",0),n(e,"gl_Position",1),r(e),e(i-1)};return a.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},g(a,e,"context","pixelRatio"),ln(a,"crossValueAttribute",e.buffers(),"attribute","aCrossValue"),ln(a,"crossNextValueAttribute",e.buffers(),"attribute","aCrossNextValue"),ln(a,"mainValueAttribute",e.buffers(),"attribute","aMainValue"),ln(a,"mainNextValueAttribute",e.buffers(),"attribute","aMainNextValue"),ln(a,"baseValueAttribute",e.buffers(),"attribute","aBaseValue"),ln(a,"baseNextValueAttribute",e.buffers(),"attribute","aBaseNextValue"),ln(a,"definedAttribute",e.buffers(),"attribute","aDefined"),ln(a,"definedNextAttribute",e.buffers(),"attribute","aDefinedNext"),a},sn=function(){var e=He(Ue),t=He(We);return e.appendHeader(Qe).appendBody(Ze),t.appendHeader(kt).appendBody(St),{vertex:function(){return e},fragment:function(){return t}}},un=function(){var e=$e().mode(Ye),t=Re(),n=Re(),r=sn(),i=function(){},a=function(a){e.vertexShader(r.vertex()).fragmentShader(r.fragment()),t(e,"gl_Position",0),n(e,"gl_Position",1),i(e),e(a)};return a.type=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.decorate=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],a):i},a.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},g(a,e,"context","pixelRatio"),ln(a,"crossValueAttribute",e.buffers(),"attribute","aCrossValue"),ln(a,"mainValueAttribute",e.buffers(),"attribute","aMainValue"),ln(a,"sizeAttribute",e.buffers(),"attribute","aSize"),ln(a,"definedAttribute",e.buffers(),"attribute","aDefined"),a},fn=function(){var e=1,t=function(t){t.buffers().uniform("uStrokeWidth",Fe(e))};return t.lineWidth=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],t):e},t},dn=function(e){var t=null,n=e,r=!0,i=function(e){var i=e.context();null==t&&(t=i.createBuffer()),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t),r&&(i.bufferData(i.ELEMENT_ARRAY_BUFFER,new Uint16Array(n),i.STATIC_DRAW),r=!1)};return i.clear=function(){t=null,r=!0},i.data=function(){return arguments.length?(r=!0,n=arguments.length<=0?void 0:arguments[0],i):n},i},hn=function(){var e=$e().mode(je).subInstanceCount(6),t=Re(),n=Re(),r=function(){},i=fn(),a=on().divisor(0).size(4).type(en.BYTE).data([[-1,1,1,0],[1,1,0,1],[1,-1,0,1],[-1,-1,1,0]]);e.buffers().elementIndices(dn([0,1,2,2,3,0])).attribute("aCorner",a);var o=function(a){var o=He(Ue),l=He(We);e.vertexShader(o).fragmentShader(l),o.appendHeader("\n            attribute vec4 aCorner;\n            attribute float aCrossValue;\n            attribute float aCrossNextValue;\n            attribute float aMainValue;\n            attribute float aMainNextValue;\n            attribute float aDefined;\n            attribute float aDefinedNext;\n\n            uniform float uStrokeWidth;\n            uniform vec2 uScreen;\n\n            varying float vLength;\n            varying vec2 vPosition;\n        "),o.appendBody("\n            vec4 value = vec4(aCrossValue, aMainValue, 0.0, 1.0);\n            vec4 nextValue = vec4(aCrossNextValue, aMainNextValue, 0.0, 1.0);\n        "),t(e,"value",0),t(e,"nextValue",0),n(e,"value",1),n(e,"nextValue",1),o.appendBody("\n            vec2 position = aCorner[2] * value.xy + aCorner[3] * nextValue.xy;\n\n            vec2 direction = normalize((nextValue.xy - value.xy) * uScreen);\n            vec2 normal = vec2(direction.y, -direction.x);\n            vec2 padding = ((uStrokeWidth / 2.0) / (uScreen / 2.0));\n            \n            padding *= aDefined * aDefinedNext;\n            position += (aCorner[0] * direction + aCorner[1] * normal) * padding;\n\n            gl_Position = vec4(position.x, position.y, 0.0, 1.0);\n\n            vLength = length((nextValue.xy - value.xy) * (uScreen / 2.0));\n            vPosition = aCorner.xy * (uStrokeWidth / 2.0);\n            vPosition.x += aCorner[3] * vLength;\n        "),l.appendHeader("\n            uniform float uStrokeWidth;\n            varying float vLength;\n            varying vec2 vPosition;\n\n            float canFill = 0.0;\n            float canStroke = 1.0;\n        "),l.appendBody("\n            vec2 position = vPosition;\n            position.x -= clamp(position.x, 0.0, vLength);\n            float sdf = length(position) - uStrokeWidth / 2.0;\n            if (sdf > 0.5) {\n                discard;\n            }\n        "),i(e),r(e),e(a-1)};return o.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},g(o,e,"context","pixelRatio"),g(o,i,"lineWidth"),ln(o,"crossValueAttribute",e.buffers(),"attribute","aCrossValue"),ln(o,"crossNextValueAttribute",e.buffers(),"attribute","aCrossNextValue"),ln(o,"mainValueAttribute",e.buffers(),"attribute","aMainValue"),ln(o,"mainNextValueAttribute",e.buffers(),"attribute","aMainNextValue"),ln(o,"definedAttribute",e.buffers(),"attribute","aDefined"),ln(o,"definedNextAttribute",e.buffers(),"attribute","aDefinedNext"),o},gn=function(){var e=He(Ue),t=He(We);return e.appendHeader(ht).appendBody(gt),t.appendHeader(Bt).appendBody(Ft),{vertex:function(){return e},fragment:function(){return t}}},pn=function(){var e=$e().mode(je).subInstanceCount(18),t=Re(),n=Re(),r=fn(),i=function(){},a=on().divisor(0).size(3).type(en.BYTE).data([[0,-2,-1],[0,-2,1],[0,2,1],[0,2,-1],[-1,-1,-1],[-1,-1,1],[0,-1,1],[0,-1,-1],[1,1,1],[0,1,1],[0,1,-1],[1,1,-1]]);e.buffers().elementIndices(dn([0,1,2,0,3,2,4,5,6,4,7,6,8,9,10,10,11,8])).attribute("aCorner",a);var o=function(a){var o=gn();e.vertexShader(o.vertex()).fragmentShader(o.fragment()),t(e,"gl_Position",0),n(e,"gl_Position",1),r(e),e.vertexShader().appendBody("\n          gl_Position.x += xModifier / uScreen.x * 2.0;\n          gl_Position.y += yModifier / uScreen.y * 2.0;\n        "),i(e),e(a)};return o.decorate=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],o):i},o.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},g(o,e,"context","pixelRatio"),g(o,r,"lineWidth"),ln(o,"crossValueAttribute",e.buffers(),"attribute","aCrossValue"),ln(o,"openValueAttribute",e.buffers(),"attribute","aOpenValue"),ln(o,"highValueAttribute",e.buffers(),"attribute","aHighValue"),ln(o,"lowValueAttribute",e.buffers(),"attribute","aLowValue"),ln(o,"closeValueAttribute",e.buffers(),"attribute","aCloseValue"),ln(o,"bandwidthAttribute",e.buffers(),"attribute","aBandwidth"),ln(o,"definedAttribute",e.buffers(),"attribute","aDefined"),o},_n=function(){var e=He(Ue),t=He(We);return e.appendHeader(pt).appendBody(_t),t.appendHeader(qt).appendBody(Gt),{vertex:function(){return e},fragment:function(){return t}}},bn=function(){var e=$e().mode(je).subInstanceCount(6),t=Re(),n=Re(),r=function(){},i=on().divisor(0).size(2).type(en.BYTE).data([[-1,-1],[1,1],[-1,1],[1,-1]]);e.buffers().elementIndices(dn([0,1,2,0,1,3])).attribute("aCorner",i);var a=function(i){var a=_n();e.vertexShader(a.vertex()).fragmentShader(a.fragment()),t(e,"gl_Position",0),n(e,"gl_Position",1),e.vertexShader().appendBody("\n            gl_Position.x += xModifier / uScreen.x * 2.0;\n        "),r(e),e(i)};return a.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},g(a,e,"context","pixelRatio"),ln(a,"crossValueAttribute",e.buffers(),"attribute","aCrossValue"),ln(a,"mainValueAttribute",e.buffers(),"attribute","aMainValue"),ln(a,"baseValueAttribute",e.buffers(),"attribute","aBaseValue"),ln(a,"bandwidthAttribute",e.buffers(),"attribute","aBandwidth"),ln(a,"definedAttribute",e.buffers(),"attribute","aDefined"),a},mn=function(){var e=He(Ue),t=He(We);return e.appendHeader(bt).appendBody(mt),t.appendHeader(Ut).appendBody(Wt),{vertex:function(){return e},fragment:function(){return t}}},vn=function(){var e=$e().mode(je).subInstanceCount(18),t=Re(),n=Re(),r=function(){},i=fn(),a=on().divisor(0).size(3).type(en.BYTE).data([[0,1,1],[0,1,-1],[0,-1,-1],[0,-1,1],[1,-1,1],[1,-1,-1],[-1,-1,-1],[-1,-1,1],[-1,1,-1],[-1,1,1],[1,1,1],[1,1,-1]]);e.buffers().elementIndices(dn([0,1,2,0,3,2,4,5,6,4,7,6,8,9,10,8,11,10])).attribute("aCorner",a);var o=function(a){var o=mn();e.vertexShader(o.vertex()).fragmentShader(o.fragment()),t(e,"gl_Position",0),n(e,"gl_Position",1),i(e),e.vertexShader().appendBody("\n                gl_Position.x += xModifier / uScreen.x * 2.0;\n                gl_Position.y += yModifier / uScreen.y * 2.0;\n            "),r(e),e(a)};return o.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},g(o,e,"context","pixelRatio"),g(o,i,"lineWidth"),ln(o,"crossValueAttribute",e.buffers(),"attribute","aCrossValue"),ln(o,"highValueAttribute",e.buffers(),"attribute","aHighValue"),ln(o,"lowValueAttribute",e.buffers(),"attribute","aLowValue"),ln(o,"bandwidthAttribute",e.buffers(),"attribute","aBandwidth"),ln(o,"definedAttribute",e.buffers(),"attribute","aDefined"),o},yn=function(){var e=He(Ue),t=He(We);return e.appendHeader(ft).appendBody(dt),t.appendHeader(It).appendBody(Rt),{vertex:function(){return e},fragment:function(){return t}}},wn=function(){var e=$e().mode(je).subInstanceCount(12),t=Re(),n=Re(),r=fn(),i=function(){},a=on().divisor(0).size(3).type(en.BYTE).data([[0,2,1],[0,2,-1],[0,-2,-1],[0,-2,1],[1,-1,0],[-1,-1,0],[-1,1,0],[1,1,0]]);e.buffers().elementIndices(dn([0,1,2,0,3,2,4,5,6,4,7,6])).attribute("aCorner",a);var o=function(a){var o=yn();e.vertexShader(o.vertex()).fragmentShader(o.fragment()),t(e,"gl_Position",0),n(e,"gl_Position",1),r(e),e.vertexShader().appendBody("\n          gl_Position.x += xModifier / uScreen.x * 2.0;\n          gl_Position.y += yModifier / uScreen.y * 2.0;\n        "),i(e),e(a)};return o.decorate=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],o):i},o.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},g(o,e,"context","pixelRatio"),g(o,r,"lineWidth"),ln(o,"crossValueAttribute",e.buffers(),"attribute","aCrossValue"),ln(o,"openValueAttribute",e.buffers(),"attribute","aOpenValue"),ln(o,"highValueAttribute",e.buffers(),"attribute","aHighValue"),ln(o,"lowValueAttribute",e.buffers(),"attribute","aLowValue"),ln(o,"closeValueAttribute",e.buffers(),"attribute","aCloseValue"),ln(o,"bandwidthAttribute",e.buffers(),"attribute","aBandwidth"),ln(o,"definedAttribute",e.buffers(),"attribute","aDefined"),o},xn=function(){var e=He(Ue),t=He(We);return e.appendHeader(wt).appendBody(xt),t.appendHeader($t).appendBody(Ht),{vertex:function(){return e},fragment:function(){return t}}},kn=function(){var e=$e().mode(je).subInstanceCount(54),t=Re(),n=Re(),r=function(){},i=fn(),a=on().divisor(0).size(4).type(en.BYTE).data([[-1,-2,-1,1],[1,-2,-1,1],[1,-2,1,1],[-1,-2,1,1],[0,-2,-1,0],[0,-2,1,0],[0,-1,1,0],[0,-1,-1,0],[-1,-1,-1,1],[1,-1,-1,1],[1,-1,1,1],[-1,-1,1,1],[-1,0,-1,1],[1,0,-1,1],[1,0,1,1],[-1,0,1,1],[-1,1,-1,1],[1,1,-1,1],[1,1,1,1],[-1,1,1,1],[-1,-1,-1,0],[-1,-1,1,0],[-1,1,1,0],[-1,1,-1,0],[1,-1,-1,0],[1,-1,1,0],[1,1,1,0],[1,1,-1,0],[0,2,-1,0],[0,2,1,0],[0,1,1,0],[0,1,-1,0],[-1,2,-1,1],[1,2,-1,1],[1,2,1,1],[-1,2,1,1]]);e.buffers().elementIndices(dn([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23,24,25,26,24,26,27,28,29,30,28,30,31,32,33,34,32,34,35])).attribute("aCorner",a);var o=function(a){var o=xn();e.vertexShader(o.vertex()).fragmentShader(o.fragment()),t(e,"gl_Position",0),n(e,"gl_Position",1),i(e),e.vertexShader().appendBody("\n            gl_Position.x += xModifier / uScreen.x * 2.0;\n            gl_Position.y += yModifier / uScreen.y * 2.0;\n        "),r(e),e(a)};return o.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},g(o,e,"context","pixelRatio"),g(o,i,"lineWidth"),ln(o,"crossValueAttribute",e.buffers(),"attribute","aCrossValue"),ln(o,"highValueAttribute",e.buffers(),"attribute","aHighValue"),ln(o,"upperQuartileValueAttribute",e.buffers(),"attribute","aUpperQuartileValue"),ln(o,"medianValueAttribute",e.buffers(),"attribute","aMedianValue"),ln(o,"lowerQuartileValueAttribute",e.buffers(),"attribute","aLowerQuartileValue"),ln(o,"lowValueAttribute",e.buffers(),"attribute","aLowValue"),ln(o,"bandwidthAttribute",e.buffers(),"attribute","aBandwidth"),ln(o,"capAttribute",e.buffers(),"attribute","aCapWidth"),ln(o,"definedAttribute",e.buffers(),"attribute","aDefined"),o},Sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e>0||t<0)throw new Error("Offset values (".concat(e," & ").concat(t,") must straddle 0 "));var n=rn(),r=an(),i=function i(a){var o=i.size()*tn(i.type()),l=Math.abs(e)*o;if(n.offset(l).size(i.size()).type(i.type()),n(a),r.dirty()){var c=r(),s=t*o,u=l+c.length*tn(i.type())+s,f=a.context();f.bindBuffer(f.ARRAY_BUFFER,n.buffer()),f.bufferData(f.ARRAY_BUFFER,u,f.DYNAMIC_DRAW),f.bufferSubData(f.ARRAY_BUFFER,l,c)}};return i.offset=function(r){if(e>r||r>t)throw new Error("Requested offset ".concat(r," exceeds bounds (").concat(e," & ").concat(t,") "));var a=function(t){n.offset((r-e)*i.size()*tn(i.type())),n(t)};return g(a,i,"clear","location"),a},i.clear=function(){n.buffer(null),r.clear()},g(i,n,"normalized","location","divisor"),g(i,r,"data","value","size","type"),i},Mn=function(){var e=Re(),t=function(e){return"linear".concat(e)},n=function(n,r,i){n.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(t(i),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(t(i),"Scale;")).appendBody("".concat(r," = ").concat(r," + ").concat(t(i),"Offset;")).appendBody("".concat(r," = ").concat(r," * ").concat(t(i),"Scale;"));var a=e.domain()[1]-e.domain()[0],o=e.range()[1]-e.range()[0],l=e.range()[0]*(a/o)-e.domain()[0],c=o/a,s=[0,0,0,0],u=[1,1,1,1];s[i]=l,u[i]=c,n.buffers().uniform("".concat(t(i),"Offset"),Fe(s)).uniform("".concat(t(i),"Scale"),Fe(u))};return p(n,e),n},An=function(){var e=Re(),t=10;function n(e,t){return Math.log10(e)/Math.log10(t)}var r=function(e){return"log".concat(e)},i=function(i,a,o){var l="".concat(r(o),"Offset + (").concat(r(o),"Scale * clamp(log(").concat(a,") / log(").concat(r(o),"Base), -inf, inf))");i.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Scale;")).appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Include;")).appendHeaderIfNotExists("uniform float ".concat(r(o),"Base;")).appendBody("".concat(a," = (").concat(r(o),"Include * (").concat(l,")) + ((1.0 - ").concat(r(o),"Include) * ").concat(a,");"));var c=n(e.domain()[1],t)-n(e.domain()[0],t),s=(e.range()[1]-e.range()[0])/c,u=e.range()[0]-s*n(e.domain()[0],t),f=[0,0,0,0],d=[0,0,0,0],h=[0,0,0,0];f[o]=u,d[o]=s,h[o]=1,i.buffers().uniform("".concat(r(o),"Offset"),Fe(f)).uniform("".concat(r(o),"Scale"),Fe(d)).uniform("".concat(r(o),"Include"),Fe(h)).uniform("".concat(r(o),"Base"),Fe(t))};return i.base=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},p(i,e),i},Tn=function(){var e=Re(),t=1;function n(e,t){return Math.sign(e)*Math.pow(Math.abs(e),t)}var r=function(e){return"pow".concat(e)},i=function(i,a,o){var l="".concat(r(o),"Offset + (").concat(r(o),"Scale * sign(").concat(a,") * pow(abs(").concat(a,"), vec4(").concat(r(o),"Exp)))");i.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Scale;")).appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Include;")).appendHeaderIfNotExists("uniform float ".concat(r(o),"Exp;")).appendBody("".concat(a," = (").concat(r(o),"Include * (").concat(l,")) + ((1.0 - ").concat(r(o),"Include) * ").concat(a,");"));var c=n(e.domain()[1],t)-n(e.domain()[0],t),s=(e.range()[1]-e.range()[0])/c,u=e.range()[0]-s*n(e.domain()[0],t),f=[0,0,0,0],d=[0,0,0,0],h=[0,0,0,0];f[o]=u,d[o]=s,h[o]=1,i.buffers().uniform("".concat(r(o),"Offset"),Fe(f)).uniform("".concat(r(o),"Scale"),Fe(d)).uniform("".concat(r(o),"Include"),Fe(h)).uniform("".concat(r(o),"Exp"),Fe(t))};return i.exponent=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},p(i,e),i},En=n.scaleLinear().copy.toString(),Cn=n.scaleLog().copy.toString(),Vn=n.scalePow().copy.toString(),Nn=n.scaleTime().copy.toString(),zn=n.scaleIdentity(),Dn=Date.now(),Pn=function(e){return e-Dn},Ln=function(e){switch(e.copy.toString()){case En:return{scale:zn,webglScale:Mn().domain(e.domain())};case Nn:return{scale:Pn,webglScale:Mn().domain(e.domain().map(Pn))};case Cn:return{scale:zn,webglScale:An().domain(e.domain()).base(e.base())};case Vn:return{scale:zn,webglScale:Tn().domain(e.domain()).exponent(e.exponent())};default:return{scale:e.copy(),webglScale:Mn().domain(e.range())}}},On=function(e){switch(e){case c.symbolCircle:return sn();case c.symbolSquare:return t=He(Ue),n=He(We),t.appendHeader(rt).appendBody(it),n.appendHeader(Ct).appendBody(Vt),{vertex:function(){return t},fragment:function(){return n}};case c.symbolTriangle:return function(){var e=He(Ue),t=He(We);return e.appendHeader(lt).appendBody(ct),t.appendHeader(Dt).appendBody(Pt),{vertex:function(){return e},fragment:function(){return t}}}();case c.symbolCross:return function(){var e=He(Ue),t=He(We);return e.appendHeader(st).appendBody(ut),t.appendHeader(Lt).appendBody(Ot),{vertex:function(){return e},fragment:function(){return t}}}();case c.symbolDiamond:return function(){var e=He(Ue),t=He(We);return e.appendHeader(at).appendBody(ot),t.appendHeader(Nt).appendBody(zt),{vertex:function(){return e},fragment:function(){return t}}}();case c.symbolStar:return function(){var e=He(Ue),t=He(We);return e.appendHeader(Je).appendBody(et),t.appendHeader(Mt).appendBody(At),{vertex:function(){return e},fragment:function(){return t}}}();case c.symbolWye:return function(){var e=He(Ue),t=He(We);return e.appendHeader(tt).appendBody(nt),t.appendHeader(Tt).appendBody(Et),{vertex:function(){return e},fragment:function(){return t}}}();default:throw new Error("Unrecognised symbol: ".concat(e))}var t,n},In=function(e){var t=rn().divisor(1),n=e,r=!0,i=function(e){if(t(e),r){if(!Array.isArray(n))throw new Error("Expected an array, received: ".concat(n));if(n.length!==t.size())throw new Error("Expected array of length: ".concat(t.size(),", recieved array of length: ").concat(n.length));var i=e.context();i["vertexAttrib".concat(n.length,"fv")](t.location(),n),i.disableVertexAttribArray(t.location()),r=!1}};return i.clear=function(){r=!0},i.value=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r=!0,i):n},g(i,t,"normalized","size","location"),i},Rn=function(){var e=Ve(),t=Sn(0,1),n=t.offset(1),r=Sn(0,1),i=r.offset(1),a=Sn(0,1).type(en.UNSIGNED_BYTE),o=a.offset(1),l=hn().crossValueAttribute(t).crossNextValueAttribute(n).mainValueAttribute(r).mainNextValueAttribute(i).definedAttribute(a).definedNextAttribute(o),c=function(e,t){return!1},s=Ln,u=[],f=null,d=null,h=function(n){var i=s(e.xScale()),o=s(e.yScale()),h=!c(u,n);h&&(u=n,a.value((function(t,n){return e.defined()(t,n)})).data(n)),(h||i.scale!==f)&&(f=i.scale,"vertical"===e.orient()?t.value((function(t,n){return i.scale(e.crossValue()(t,n))})).data(n):t.value((function(t,n){return i.scale(e.mainValue()(t,n))})).data(n)),(h||o.scale!==d)&&(d=o.scale,"vertical"===e.orient()?r.value((function(t,n){return o.scale(e.mainValue()(t,n))})).data(n):r.value((function(t,n){return o.scale(e.crossValue()(t,n))})).data(n)),l.xScale(i.webglScale).yScale(o.webglScale).decorate((function(t){return e.decorate()(t,n,0)})),l(n.length)};return h.equals=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],h):c},h.scaleMapper=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],h):s},p(h,e,b("baseValue","bandwidth","align")),g(h,l,"context","lineWidth","pixelRatio"),h},Bn=function(){var e=c.symbol(),t=Ve(),n=be("g","point"),r=function(e){return"translate("+e[0]+", "+e[1]+")"},i=function(i){_e(i)&&n.transition(i),i.each((function(i,a,o){var c=i.filter(t.defined()),s=n(l.select(o[a]),c);s.enter().attr("transform",(function(e,n){return r(t.values(e,n).origin)})).attr("fill",Pe).attr("stroke",De).append("path"),s.attr("transform",(function(e,n){return r(t.values(e,n).origin)})).select("path").attr("d",e),t.decorate()(s,i,a)}))};return p(i,t,b("baseValue","bandwidth","align")),g(i,n,"key"),g(i,e,"type","size"),i},Fn=function(){var e=c.symbol(),t=Ve(),n=function(n){var r=n.filter(t.defined()),i=e.context();r.forEach((function(n,r){i.save();var a=t.values(n,r);i.translate(a.origin[0],a.origin[1]),i.beginPath(),i.strokeStyle=De,i.fillStyle=Pe,t.decorate()(i,n,r),e(n,r),i.fill(),i.stroke(),i.closePath(),i.restore()}))};return p(n,t,b("baseValue","bandwidth","align")),g(n,e,"size","type","context"),n},Yn=function(){var e=function(e){return e.high},t=function(e){return e.low},r=function(e){return e.cross},i="vertical",a="center",o=function(){return 5},l=Ce({decorate:function(){},defined:function(n,i){return Te(t,e,r)(n,i)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return l.values=function(n,c){var s=o(n,c),u=Ee(a,s),f=l.xScale(),d=l.yScale();if("vertical"===i){var h=d(e(n,c));return{origin:[f(r(n,c))+u,h],high:0,low:d(t(n,c))-h,width:s}}var g=f(t(n,c));return{origin:[g,d(r(n,c))+u],high:f(e(n,c))-g,low:0,width:s}},l.xValues=function(){return"vertical"===i?[r]:[e,t]},l.yValues=function(){return"vertical"!==i?[r]:[e,t]},l.orient=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],l):i},l.lowValue=function(){return arguments.length?(t=Ae(arguments.length<=0?void 0:arguments[0]),l):t},l.highValue=function(){return arguments.length?(e=Ae(arguments.length<=0?void 0:arguments[0]),l):e},l.crossValue=function(){return arguments.length?(r=Ae(arguments.length<=0?void 0:arguments[0]),l):r},l.bandwidth=function(){return arguments.length?(o=Ae(arguments.length<=0?void 0:arguments[0]),l):o},l.align=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],l):a},l},jn=function(){var e,t=function(e){return e.date},r=function(e){return e.open},i=function(e){return e.high},a=function(e){return e.low},o=function(e){return e.close},l=function(){return 5},c="center",s=function(n,r){return e.xScale()(t(n,r))};return(e=Ce({decorate:function(){},defined:function(e,n){return Te(t,r,a,i,o)(e,n)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()})).values=function(t,n){var u=o(t,n),f=r(t,n),d=l(t,n),h=Ee(c,d),g="";return u>f?g="up":u<f&&(g="down"),{cross:s(t,n)+h,open:e.yScale()(f),high:e.yScale()(i(t,n)),low:e.yScale()(a(t,n)),close:e.yScale()(u),width:d,direction:g}},e.xValues=function(){return[t]},e.yValues=function(){return[r,i,a,o]},e.crossValue=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],e):t},e.openValue=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],e):r},e.highValue=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],e):i},e.lowValue=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],e):a},e.yValue=e.closeValue=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],e):o},e.bandwidth=function(){return arguments.length?(l=Ae(arguments.length<=0?void 0:arguments[0]),e):l},e.align=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],e):c},e},$n=function(e,t){var n=jn(),r=be("g",t),i=function(e){return"translate("+e.cross+", "+e.high+")"},a=function(a){_e(a)&&r.transition(a);var o,c=(o=a,function(e){return _e(o)?e.transition(o):e});a.each((function(a,o,s){var u=a.filter(n.defined()),f=r(l.select(s[o]),u);f.enter().attr("transform",(function(e,t){return i(n.values(e,t))+" scale(1e-6, 1)"})).append("path"),f.each((function(r,a,o){var s=n.values(r,a),u="up"===s.direction?ze:Ne,f=c(l.select(o[a])).attr("class",t+" "+s.direction).attr("stroke",u).attr("fill",u).attr("transform",(function(){return i(s)+" scale(1)"}));e.x(0).width(s.width).open((function(){return s.open-s.high})).high(0).low((function(){return s.low-s.high})).close((function(){return s.close-s.high})),f.select("path").attr("d",e([r]))})),n.decorate()(f,a,o)}))};return g(a,r,"key"),p(a,n),a},Hn=function(e){var t=jn(),n=function(n){var r=n.filter(t.defined()),i=e.context();r.forEach((function(n,r){i.save();var a=t.values(n,r);i.translate(a.cross,a.high),i.beginPath(),e.x(0).open((function(){return a.open-a.high})).width(a.width).high(0).low((function(){return a.low-a.high})).close((function(){return a.close-a.high}))([n]);var o="up"===a.direction?ze:Ne;i.strokeStyle=o,i.fillStyle=o,t.decorate()(i,n,r),i.fill(),i.stroke(),i.closePath(),i.restore()}))};return g(n,e,"context"),p(n,t),n},Un=function(e){var t=jn(),n=on(),r=on(),i=on(),a=on(),o=on(),l=on().type(en.UNSIGNED_SHORT),c=on().type(en.UNSIGNED_BYTE);e.crossValueAttribute(n).openValueAttribute(r).highValueAttribute(i).lowValueAttribute(a).closeValueAttribute(o).bandwidthAttribute(l).definedAttribute(c);var s=function(e,t){return!1},u=Ln,f=[],d=null,h=null,_=function(g){var p=u(t.xScale()),_=u(t.yScale()),b=!s(f,g);b&&(f=g,l.value((function(e,n){return t.bandwidth()(e,n)})).data(g),c.value((function(e,n){return t.defined()(e,n)})).data(g)),(b||p.scale!==d)&&(d=p.scale,n.value((function(e,n){return p.scale(t.crossValue()(e,n))})).data(g)),(b||_.scale!==h)&&(h=_.scale,r.value((function(e,n){return _.scale(t.openValue()(e,n))})).data(g),i.value((function(e,n){return _.scale(t.highValue()(e,n))})).data(g),a.value((function(e,n){return _.scale(t.lowValue()(e,n))})).data(g),o.value((function(e,n){return _.scale(t.closeValue()(e,n))})).data(g)),e.xScale(p.webglScale).yScale(_.webglScale).decorate((function(e){return t.decorate()(e,g,0)})),e(g.length)};return _.equals=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],_):s},_.scaleMapper=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],_):u},p(_,t,b("align")),g(_,e,"context","lineWidth","pixelRatio"),_},Wn=function(){var e=function(e){return e.upperQuartile},t=function(e){return e.lowerQuartile},r=function(e){return e.high},i=function(e){return e.low},a=function(e){return e.value},o=function(e){return e.median},l="vertical",c="center",s=function(){return 5},u=Ce({decorate:function(){},defined:function(n,l){return Te(i,r,t,e,a,o)(n,l)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return u.values=function(n,f){var d=s(n,f),h=Ee(c,d),g=u.xScale(),p=u.yScale();if("vertical"===l){var _=p(r(n,f));return{origin:[g(a(n,f))+h,_],high:0,upperQuartile:p(e(n,f))-_,median:p(o(n,f))-_,lowerQuartile:p(t(n,f))-_,low:p(i(n,f))-_,width:d}}var b=g(i(n,f));return{origin:[b,p(a(n,f))+h],high:g(r(n,f))-b,upperQuartile:g(e(n,f))-b,median:g(o(n,f))-b,lowerQuartile:g(t(n,f))-b,low:0,width:d}},u.xValues=function(){return"vertical"===l?[a]:[e,t,r,i,o]},u.yValues=function(){return"vertical"!==l?[a]:[e,t,r,i,o]},u.orient=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],u):l},u.lowerQuartileValue=function(){return arguments.length?(t=Ae(arguments.length<=0?void 0:arguments[0]),u):t},u.upperQuartileValue=function(){return arguments.length?(e=Ae(arguments.length<=0?void 0:arguments[0]),u):e},u.lowValue=function(){return arguments.length?(i=Ae(arguments.length<=0?void 0:arguments[0]),u):i},u.highValue=function(){return arguments.length?(r=Ae(arguments.length<=0?void 0:arguments[0]),u):r},u.crossValue=function(){return arguments.length?(a=Ae(arguments.length<=0?void 0:arguments[0]),u):a},u.medianValue=function(){return arguments.length?(o=Ae(arguments.length<=0?void 0:arguments[0]),u):o},u.bandwidth=function(){return arguments.length?(s=Ae(arguments.length<=0?void 0:arguments[0]),u):s},u.align=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],u):c},u},qn=function(){var e=[],t=function(e){return e},r=function(e,t){return t},i=Ce({decorate:function(){},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return i.xValues=function(){return e.map((function(e){return e.xValues()})).reduce((function(e,t){return e.concat(t)}))},i.yValues=function(){return e.map((function(e){return e.yValues()})).reduce((function(e,t){return e.concat(t)}))},i.mapping=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.key=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i.series=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i},Gn=function(){var e=qn(),t=be("g"),n=be("g","multi"),r=function(r){_e(r)&&(n.transition(r),t.transition(r));var i=e.mapping(),a=e.series(),o=e.xScale(),c=e.yScale();r.each((function(r,s,u){var f=n(l.select(u[s]),a);f.each((function(e,n,s){e.xScale(o).yScale(c);var u=i(r,n,a);t(l.select(s[n]),[u]).call(e)})),f.selection().order(),e.decorate()(f,r,s)}))};return p(r,e),g(r,n,"key"),r},Xn=function(){var e=null,t=qn(),n=function(n){var r=t.mapping(),i=t.series(),a=t.xScale(),o=t.yScale();i.forEach((function(l,c){var s,u=r(n,c,i);l.context(e).xScale(a).yScale(o),l.decorate?(s=l.decorate(),l.decorate((function(e,r,i){t.decorate()(e,n,c),s(e,r,i)}))):t.decorate()(e,n,c),l(u),s&&l.decorate(s)}))};return n.context=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],n):e},p(n,t),n},Kn=function(){var e=null,t=1,n=qn(),r=function(r){var i=n.mapping(),a=n.series(),o=n.xScale(),l=n.yScale();a.forEach((function(c,s){var u,f=i(r,s,a);c.context(e).pixelRatio(t).xScale(o).yScale(l),c.decorate?(u=c.decorate(),c.decorate((function(e,t,i){n.decorate()(e,r,s),u(e,t,i)}))):n.decorate()(e,r,s),c(f),u&&c.decorate(u)}))};return r.context=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},r.pixelRatio=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},p(r,n),r},Qn=function(e){var r=function(){return 50},i="center",a=n.scaleBand(),o=Ce({decorate:function(){},xScale:n.scaleLinear(),yScale:n.scaleLinear()});return o.offsetScaleForDatum=function(e,n,o){var l=r(n,o),c=Ee(i,l),s=l/2;return a.domain(t.range(0,e.length)).range([-s+c,s+c])},o.bandwidth=function(){return arguments.length?(r=Ae(arguments.length<=0?void 0:arguments[0]),o):r},o.align=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],o):i},p(o,a,v({paddingInner:"paddingOuter"})),o};var Zn=function(){var e=function(e){return e.x},r=function(e){return e.y},i=function(e){return e.color},a=function(){return 5},o=function(){return 5},l=s.interpolateViridis,c=Ce({decorate:function(){},defined:function(t,n){return Te(e,r,i)(t,n)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return c.pathGenerator=ue().x(0).y(0),c.colorScale=function(e){var r=e.map(i);return n.scaleLinear().domain([t.min(r),t.max(r)])},c.values=function(t,n){return{x:c.xScale()(e(t,n)),y:c.yScale()(r(t,n)),colorValue:i(t,n),width:o(t,n),height:a(t,n)}},c.xValues=function(){return[e]},c.yValues=function(){return[r]},c.xValue=function(){return arguments.length?(e=Ae(arguments.length<=0?void 0:arguments[0]),c):e},c.yValue=function(){return arguments.length?(r=Ae(arguments.length<=0?void 0:arguments[0]),c):r},c.colorValue=function(){return arguments.length?(i=Ae(arguments.length<=0?void 0:arguments[0]),c):i},c.colorInterpolate=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],c):l},c.xBandwidth=function(){return arguments.length?(o=Ae(arguments.length<=0?void 0:arguments[0]),c):o},c.yBandwidth=function(){return arguments.length?(a=Ae(arguments.length<=0?void 0:arguments[0]),c):a},p(c,c.pathGenerator,v({horizontalAlign:"xAlign",verticalAlign:"yAlign"})),c},Jn=function(e){return"function"==typeof e?e:function(){return e}},er=function(){var e=n.scaleIdentity(),t=n.scaleIdentity(),r=function(e){return e},i=r,a=function(){},o="horizontal",c=be("g","annotation-line"),s=function(n){if(_e(n)&&c.transition(n),"horizontal"!==o&&"vertical"!==o)throw new Error("Invalid orientation");var s="horizontal"===o,u=s?function(e,t){return"translate(".concat(e,", ").concat(t,")")}:function(e,t){return"translate(".concat(t,", ").concat(e,")")},f=s?"x2":"y2",d=s?t:e,h=s?"left-handle":"bottom-handle",g=s?"right-handle":"top-handle",p=s?"9":"0",_=s?"0":"9",b=s?"0.32em":"0.71em",m=s?"start":"middle",v=(s?e:t).range(),y=function(){return u(v[0],d(r.apply(void 0,arguments)))},w=v[1]-v[0];n.each((function(e,t,n){var r=c(l.select(n[t]),e),s=r.enter().attr("transform",y).style("stroke","#bbb");s.append("line").attr(f,w),s.append("g").classed(h,!0).style("stroke","none"),s.append("g").classed(g,!0).style("stroke","none").attr("transform",u(w,0)).append("text").attr("text-anchor",m).attr("x",p).attr("y",_).attr("dy",b),r.attr("class","annotation-line ".concat(o)),r.attr("transform",y),r.select("line").attr(f,w),r.select("g."+g).attr("transform",u(w,0)),r.select("text").text(i),a(r,e,t)}))};return s.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],s):e},s.yScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],s):t},s.value=function(){return arguments.length?(r=Jn(arguments.length<=0?void 0:arguments[0]),s):r},s.label=function(){return arguments.length?(i=Jn(arguments.length<=0?void 0:arguments[0]),s):i},s.decorate=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],s):a},s.orient=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],s):o},s};var tr=function(){var e=n.scaleIdentity(),t=n.scaleIdentity(),r=function(e){return e},i=r,a=function(){},o="horizontal",l=c.line(),s=function(n){if("horizontal"!==o&&"vertical"!==o)throw new Error("Invalid orientation");var c="horizontal"===o,s=l.context(),u=c?e:t,f=c?t:e,d=u.domain(),h=c?9:0,g=c?0:9,p=c?"left":"center",_=c?"middle":"hanging";n.forEach((function(e,t){s.save(),s.beginPath(),s.strokeStyle="#bbb",s.fillStyle="#000",s.textAlign=p,s.textBaseline=_,a(s,e,t),l.context(s)(d.map((function(t){var n=[u(t),f(r(e))];return c?n:n.reverse()})));var n=c?u(d[1]):f(r(e)),o=c?f(r(e)):u(d[1]);s.fillText(i(e),n+h,o+g),s.fill(),s.stroke(),s.closePath(),s.restore()}))};return s.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],s):e},s.yScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],s):t},s.value=function(){return arguments.length?(r=Jn(arguments.length<=0?void 0:arguments[0]),s):r},s.label=function(){return arguments.length?(i=Jn(arguments.length<=0?void 0:arguments[0]),s):i},s.decorate=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],s):a},s.orient=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],s):o},g(s,l,"context"),s},nr=function(){var e=n.scaleIdentity(),t=[10],r=null,i=function(){var n;return null!=r?r:e.ticks?(n=e).ticks.apply(n,F(t)):e.domain()};return i.scale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.ticks=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=n,i},i.tickArguments=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.tickValues=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i},rr=function(e){return e},ir=function(e){return e},ar=function(e,t,n,r){return e[t]?e[t].apply(e,n):r},or=function(e){var t;return null!==(t=e.tickValues())&&void 0!==t?t:ar(e.scale(),"ticks",e.tickArguments(),e.scale().domain())},lr=function(e){var t;return null!==(t=e.tickFormat())&&void 0!==t?t:ar(e.scale(),"tickFormat",e.tickArguments(),ir)},cr=function(e){return e},sr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[10],i=null,a=function(){},o=null,s=6,u=6,f=3,d=c.line(),h=be("g","tick").key(cr),g=be("path","domain"),p=n.labelOffset||function(){return{offset:[0,u+f]}},_=n.tickPath||function(){return{path:[[0,0],[0,u]]}},b=function(e,t){var n=0;return e.bandwidth&&(n=e.bandwidth()/2,e.round()&&(n=Math.round(n))),function(r){return t(e(r)+n,0)}},m=function(e,t){return y()?"translate(".concat(t,", ").concat(e,")"):"translate(".concat(e,", ").concat(t,")")},v=function(e){return y()?e.map((function(e){return[e[1],e[0]]})):e},y=function(){return"left"===e||"right"===e},w=function n(r){_e(r)&&(h.transition(r),g.transition(r)),r.each((function(r,i,o){var c=o[i],u=l.select(c);c.__scale__||u.attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","right"===e?"start":"left"===e?"end":"middle");var f=c.__scale__||t;c.__scale__=t.copy();var w=or(n),x=lr(n),k="bottom"===e||"right"===e?1:-1,S=function(e){var t=B(e,2),n=t[0],r=t[1];return[n,k*r]},M=t.range(),A=v([[M[0],k*s],[M[0],0],[M[1],0],[M[1],k*s]]),T=g(u,[r]);T.enter().attr("stroke","#000"),T.attr("d",d(A));var E=h(u,w),C=w.map((function(e,t){return p(e,t,w)})),V=w.map((function(e,t){return _(e,t,w)}));E.enter().attr("transform",b(f,m)).append("path").attr("stroke","#000"),E.enter().append("text").attr("transform",(function(e,t){return m.apply(void 0,F(S(C[t].offset)))})).attr("fill","#000"),E.exit().attr("transform",b(t,m)),E.select("path").attr("visibility",(function(e,t){return V[t].hidden&&"hidden"})).attr("d",(function(e,t){return d(v(V[t].path.map(S)))})),E.select("text").attr("visibility",(function(e,t){return C[t].hidden&&"hidden"})).attr("transform",(function(e,t){return m.apply(void 0,F(S(C[t].offset)))})).attr("dy",(function(){var t="0em";return y()?t="0.32em":"bottom"===e&&(t="0.71em"),t})).text(x),E.attr("transform",b(t,m)),a(E,r,i)}))};return w.tickFormat=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],w):o},w.tickSize=function(){return arguments.length?(u=s=Number(arguments.length<=0?void 0:arguments[0]),w):u},w.tickSizeInner=function(){return arguments.length?(u=Number(arguments.length<=0?void 0:arguments[0]),w):u},w.tickSizeOuter=function(){return arguments.length?(s=Number(arguments.length<=0?void 0:arguments[0]),w):s},w.tickPadding=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],w):f},w.decorate=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],w):a},w.scale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],w):t},w.ticks=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=[].concat(t),w},w.tickArguments=function(){return arguments.length?(r=null==(arguments.length<=0?void 0:arguments[0])?[]:F(arguments.length<=0?void 0:arguments[0]),w):null!==r?r.slice():null},w.tickValues=function(){return arguments.length?(i=null==(arguments.length<=0?void 0:arguments[0])?[]:F(arguments.length<=0?void 0:arguments[0]),w):null!==i?i.slice():null},w.orient=function(){return e},w},ur=function(e,t){var n=!1,r=sr(e,t,{labelOffset:function(e,i,a){var o=0,l=r.tickSizeInner()+r.tickPadding(),c=!1;if(n){var s=t(e),u=i<a.length-1?t(a[i+1]):t.range()[1];o=(u-s)/2,l=r.tickPadding(),c=i===a.length-1&&s===u}return{offset:[o,l],hidden:c}}}),i=function(e){return r(e)};return i.tickCenterLabel=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},p(i,r),i},fr=function(e){return ur("top",e)},dr=function(e){return ur("bottom",e)},hr=function(e){return ur("left",e)},gr=function(e){return ur("right",e)},pr=function(e,t){var n=null,r=function(e,n,r){if(t.step)return t.step();var i=t(e);return n<r.length-1?t(r[n+1])/i:2*(t.range()[1]-i)},i=sr(e,t,{labelOffset:function(){return{offset:[0,i.tickPadding()]}},tickPath:function(e,t,a){var o;return{path:[[o=n?n(e,t):r(e,t,a)/2,0],[o,i.tickSizeInner()]],hidden:t===a.length-1}}}),a=function(e){i(e)};return a.tickOffset=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},p(a,i),a},_r=function(e){return function(t){var n=or(e),r=lr(e),i=n.map(r),a=t.append("text"),o=i.map((function(e){return a.text(e).node().getBBox()})),l=Math.max.apply(Math,F(o.map((function(e){return e.height})))),c=Math.max.apply(Math,F(o.map((function(e){return e.width}))));return a.remove(),{maxHeight:l,maxWidth:c,labelCount:i.length}}},br="__d3fc-elements__",mr=function(e){return e[br]||{}},vr=function(e,t){e[br]=t},yr=function(e){return"D3FC-GROUP"===e.tagName?[e].concat(F(e.querySelectorAll("d3fc-canvas, d3fc-group, d3fc-svg"))):[e]},wr=function(e){var t=mr(e),n=t.width,r=t.height,i=e.useDevicePixelRatio&&null!=window.devicePixelRatio?window.devicePixelRatio:1,a=e.clientWidth*i,o=e.clientHeight*i,l=a!==n||o!==r,c=e.children[0];vr(e,{pixelRatio:i,width:a,height:o,resized:l,child:c})};if("function"!=typeof CustomEvent)throw new Error("d3fc-element depends on CustomEvent. Make sure that you load a polyfill in older browsers. See README.");var xr=function(e){var t=mr(e),n=new CustomEvent("measure",{detail:t});e.dispatchEvent(n)},kr=function(e){var t=mr(e),n=new CustomEvent("draw",{detail:t});e.dispatchEvent(n)},Sr=function(e){return mr(e.ownerDocument).queue||[]},Mr=function(e,t){var n=mr(e.ownerDocument).requestId;null==n&&(n=requestAnimationFrame((function(){var t,n=Sr(e);(t=n.map(yr).reduce((function(e,t){return e.concat(t)}))).forEach(wr),t.forEach(xr),t.forEach(kr),Ar(e)}))),vr(e.ownerDocument,{queue:t,requestId:n})},Ar=function(e){return function(e){return delete e[br]}(e.ownerDocument)},Tr=function(e,t){var n=e;do{if(n.parentNode===t)return!0}while(n=n.parentNode);return!1},Er=function(e){var t=Sr(e);if(!(t.indexOf(e)>-1||t.some((function(t){return Tr(e,t)})))){var n=t.filter((function(t){return!Tr(t,e)}));n.push(e),Mr(e,n)}};if("function"!=typeof HTMLElement)throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");var Cr=function(e,t){return function(n){N(i,n);var r=R(i);function i(){return E(this,i),r.apply(this,arguments)}return V(i,[{key:"attributeChangedCallback",value:function(e){"use-device-pixel-ratio"===e&&this.requestRedraw()}},{key:"connectedCallback",value:function(){0===this.childNodes.length&&this.appendChild(e()),function(e){null==e.__measureListener__&&(e.__measureListener__=function(t){return e.setMeasurements(t.detail)},e.addEventListener("measure",e.__measureListener__))}(this)}},{key:"disconnectedCallback",value:function(){!function(e){null!=e.__measureListener__&&(e.removeEventListener("measure",e.__measureListener__),e.__measureListener__=null)}(this)}},{key:"setMeasurements",value:function(e){var n,r=e.width,i=e.height,a=Y(n=this.childNodes)||j(n)||$(n)||U(),o=a[0];if(a.slice(1).length>0)throw new Error("A d3fc-svg/canvas element must only contain a single svg/canvas element.");t(this,o,{width:r,height:i})}},{key:"requestRedraw",value:function(){Er(this)}},{key:"useDevicePixelRatio",get:function(){return this.hasAttribute("use-device-pixel-ratio")&&"false"!==this.getAttribute("use-device-pixel-ratio")},set:function(e){e&&!this.useDevicePixelRatio?this.setAttribute("use-device-pixel-ratio",""):!e&&this.useDevicePixelRatio&&this.removeAttribute("use-device-pixel-ratio"),this.requestRedraw()}}],[{key:"observedAttributes",get:function(){return["use-device-pixel-ratio"]}}]),i}(O(HTMLElement))},Vr=function(e){N(n,e);var t=R(n);function n(){return E(this,n),t.apply(this,arguments)}return V(n,[{key:"setWebglViewport",get:function(){return this.hasAttribute("set-webgl-viewport")&&"false"!==this.getAttribute("set-webgl-viewport")},set:function(e){e&&!this.setWebglViewport?this.setAttribute("set-webgl-viewport",""):!e&&this.setWebglViewport&&this.removeAttribute("set-webgl-viewport"),this.requestRedraw()}}]),n}(Cr((function(){return document.createElement("canvas")}),(function(e,t,n){var r=n.width,i=n.height;t.setAttribute("width",r),t.setAttribute("height",i),e.setWebglViewport&&t.getContext("webgl").viewport(0,0,r,i)}))),Nr=function(e){e.autoResize?zr(e):Dr(e)},zr=function(e){null==e.__autoResizeListener__&&(e.__autoResizeListener__=function(){return Er(e)},addEventListener("resize",e.__autoResizeListener__))},Dr=function(e){null!=e.__autoResizeListener__&&(removeEventListener("resize",e.__autoResizeListener__),e.__autoResizeListener__=null)},Pr=function(e){N(n,e);var t=R(n);function n(){return E(this,n),t.apply(this,arguments)}return V(n,[{key:"connectedCallback",value:function(){Nr(this)}},{key:"disconnectedCallback",value:function(){Dr(this)}},{key:"requestRedraw",value:function(){Er(this)}},{key:"attributeChangedCallback",value:function(e){"auto-resize"===e&&Nr(this)}},{key:"autoResize",get:function(){return this.hasAttribute("auto-resize")&&"false"!==this.getAttribute("auto-resize")},set:function(e){e&&!this.autoResize?this.setAttribute("auto-resize",""):!e&&this.autoResize&&this.removeAttribute("auto-resize"),Nr(this)}}],[{key:"observedAttributes",get:function(){return["auto-resize"]}}]),n}(O(HTMLElement)),Lr=Cr((function(){return document.createElementNS("http://www.w3.org/2000/svg","svg")}),(function(e,t,n){var r=n.width,i=n.height;t.setAttribute("viewBox","0 0 ".concat(r," ").concat(i))})),Or="d3fc-canvas,d3fc-svg{position:relative;display:block}d3fc-canvas>canvas,d3fc-svg>svg{position:absolute;height:100%;width:100%}d3fc-svg>svg{overflow:visible}",Ir=document.createElement("style");if(Ir.setAttribute("type","text/css"),document.querySelector("head").appendChild(Ir),Ir.styleSheet?Ir.styleSheet.cssText+=Or:Ir.textContent+=Or,"object"!==("undefined"==typeof customElements?"undefined":T(customElements))||"function"!=typeof customElements.define)throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");var Rr=[],Br=function(e,t){customElements.get(e)?Rr.push(e):customElements.define(e,t)};Br("d3fc-canvas",Vr),Br("d3fc-group",Pr),Br("d3fc-svg",Lr),Rr.length>0&&console.warn('The d3fc components "'.concat(Rr.join(", "),'" is/are already registered on window. Be aware that this can create compatibility issues if different versions are used.'));var Fr=function(){for(var e={},t=function(t){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];t[i].apply(null,e[i])}return t},n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var a=function(){var n=l[o];t[n]=function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return i.length?(e[n]=i,t):e[n]}},o=0,l=r;o<l.length;o++)a();return t},Yr="d3fc-group.cartesian-chart{width:100%;height:100%;overflow:hidden;display:grid;display:-ms-grid;grid-template-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);grid-template-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);}\nd3fc-group.cartesian-chart>.top-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:1;-ms-grid-row:1;}\nd3fc-group.cartesian-chart>.top-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:2;-ms-grid-row:2;}\nd3fc-group.cartesian-chart>.left-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:1;-ms-grid-column:1;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.left-axis{width:3em;grid-column:2;-ms-grid-column:2;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.plot-area{overflow:hidden;grid-column:3;-ms-grid-column:3;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.right-axis{width:3em;grid-column:4;-ms-grid-column:4;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.right-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:5;-ms-grid-column:5;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.bottom-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:4;-ms-grid-row:4;}\nd3fc-group.cartesian-chart>.bottom-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:5;-ms-grid-row:5;}\nd3fc-group.cartesian-chart>.y-label{display:flex;transform:rotate(-90deg);width:1em;white-space:nowrap;justify-content:center;}",jr=document.createElement("style");jr.setAttribute("type","text/css"),document.querySelector("head").appendChild(jr),jr.styleSheet?jr.styleSheet.cssText+=Yr:jr.textContent+=Yr;var $r=function(e){return"function"==typeof e?e:function(){return e}},Hr=function(){var e=Ur.apply(void 0,arguments),t=e.xScale,n=e.yScale,r=e.xAxis,i=e.yAxis,a=$r(""),o=$r(""),c=$r(""),s=$r(null),u=$r(null),f=$r("right"),d=$r("bottom"),h=null,g=null,_=null,m=!1,v=!0,w=Fr("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),x=function(){},k=Fr("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),S=function(){},M=function(){},A=be("d3fc-group","cartesian-chart"),T=be("d3fc-canvas","webgl-plot-area"),E=be("d3fc-canvas","canvas-plot-area"),C=be("d3fc-svg","svg-plot-area"),V=be("d3fc-svg","x-axis").key((function(e){return e})),N=be("d3fc-svg","y-axis").key((function(e){return e})),z=be("div","chart-label"),D=be("div","x-label").key((function(e){return e})),P=be("div","y-label").key((function(e){return e})),L=function(e){var p,b=(p=e,function(e){return _e(p)?e.transition(p):e});e.each((function(e,p,y){var L=A(l.select(y[p]),[e]);L.enter().attr("auto-resize",""),z(L,[d(e)]).attr("class",(function(e){return"top"===e?"chart-label bottom-label":"chart-label top-label"})).style("margin-bottom",(function(e){return"top"===e?0:"1em"})).style("margin-top",(function(e){return"top"===e?"1em":0})).text(a(e)),D(L,[d(e)]).attr("class",(function(e){return"x-label ".concat(e,"-label")})).text(o(e)),P(L,[f(e)]).attr("class",(function(e){return"y-label ".concat(e,"-label")})).text(c(e)),T(L,h?[e]:[]).attr("set-webgl-viewport","").classed("plot-area",!0).attr("use-device-pixel-ratio",v).on("draw",(function(e,r){var i=e.detail,a=i.child,o=i.pixelRatio;h.context(m?null:a.getContext("webgl")).pixelRatio(o).xScale(t).yScale(n),h(r)})),L.select(".webgl-plot-area>canvas").on("webglcontextlost",(function(e){console.warn("WebGLRenderingContext lost"),e.preventDefault(),m=!0,L.node().requestRedraw()})).on("webglcontextrestored",(function(){console.info("WebGLRenderingContext restored"),m=!1,L.node().requestRedraw()})),E(L,g?[e]:[]).classed("plot-area",!0).attr("use-device-pixel-ratio",v).on("draw",(function(e,r){var i=e.detail,a=i.child,o=i.pixelRatio,l=a.getContext("2d");l.save(),v&&l.scale(o,o),g.context(l).xScale(t).yScale(n),g(r),l.restore()})),C(L,_?[e]:[]).classed("plot-area",!0).on("draw",(function(e,r){var i=e.detail.child;_.xScale(t).yScale(n),b(l.select(i).datum(r)).call(_)})),V(L,[d(e)]).attr("class",(function(e){return"x-axis ".concat(e,"-axis")})).style("height",s(e)).on("measure",(function(e,n){var r=e.detail,i=r.width,a=r.height,o=r.child;"top"===n&&l.select(o).attr("viewBox","0 ".concat(-a," ").concat(i," ").concat(a)),t.range([0,i])})).on("draw",(function(e,n){var i=e.detail.child,a="top"===n?r.top(t):r.bottom(t);a.decorate(x),b(l.select(i).datum(n)).call(w(a))})),N(L,[f(e)]).attr("class",(function(e){return"y-axis ".concat(e,"-axis")})).style("width",u(e)).on("measure",(function(e,t){var r=e.detail,i=r.width,a=r.height,o=r.child;"left"===t&&l.select(o).attr("viewBox","".concat(-i," 0 ").concat(i," ").concat(a)),n.range([a,0])})).on("draw",(function(e,t){var r=e.detail.child,a="left"===t?i.left(n):i.right(n);a.decorate(S),b(l.select(r).datum(t)).call(k(a))})),L.each((function(e,t,n){return n[t].requestRedraw()})),M(L,e,p)}))},O=b(/range\w*/,/tickFormat/);return p(L,t,O,y("x")),p(L,n,O,y("y")),p(L,w,y("x")),p(L,k,y("y")),L.xOrient=function(){return arguments.length?(d=$r(arguments.length<=0?void 0:arguments[0]),L):d},L.yOrient=function(){return arguments.length?(f=$r(arguments.length<=0?void 0:arguments[0]),L):f},L.xDecorate=function(){return arguments.length?(x=arguments.length<=0?void 0:arguments[0],L):x},L.yDecorate=function(){return arguments.length?(S=arguments.length<=0?void 0:arguments[0],L):S},L.chartLabel=function(){return arguments.length?(a=$r(arguments.length<=0?void 0:arguments[0]),L):a},L.xLabel=function(){return arguments.length?(o=$r(arguments.length<=0?void 0:arguments[0]),L):o},L.yLabel=function(){return arguments.length?(c=$r(arguments.length<=0?void 0:arguments[0]),L):c},L.xAxisHeight=function(){return arguments.length?(s=$r(arguments.length<=0?void 0:arguments[0]),L):s},L.yAxisWidth=function(){return arguments.length?(u=$r(arguments.length<=0?void 0:arguments[0]),L):u},L.webglPlotArea=function(){return arguments.length?(h=arguments.length<=0?void 0:arguments[0],L):h},L.canvasPlotArea=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],L):g},L.svgPlotArea=function(){return arguments.length?(_=arguments.length<=0?void 0:arguments[0],L):_},L.decorate=function(){return arguments.length?(M=arguments.length<=0?void 0:arguments[0],L):M},L.useDevicePixelRatio=function(){return arguments.length?(v=arguments.length<=0?void 0:arguments[0],L):v},L},Ur=function(){for(var e={xScale:n.scaleIdentity(),yScale:n.scaleIdentity(),xAxis:{bottom:dr,top:fr},yAxis:{right:gr,left:hr}},t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return 1!==r.length||r[0].domain||r[0].range?Object.assign(e,{xScale:r[0]||e.xScale,yScale:r[1]||e.yScale}):Object.assign(e,r[0])},Wr=function(e){return"function"==typeof e?e:function(){return e}},qr=function(e,t){return function(){var n=Wr(""),r=t,i=function(){},a=Hr.apply(void 0,arguments),o=function(t){e(a,r),a.decorate((function(e,t,r){e.enter().select(".x-label").style("height","1em").style("line-height","1em");var o=a.yOrient()(t);e.enter().append("div").attr("class","y-label-container").style("grid-column","left"===o?1:5).style("-ms-grid-column","left"===o?1:5).style("grid-row",3).style("-ms-grid-row",3).style("width","1em").style("display","flex").style("align-items","center").style("justify-content","center").style("white-space","nowrap").append("div").attr("class","y-label").style("transform","rotate(-90deg)"),e.select(".y-label-container>.y-label").text(n),i(e,t,r)})),t.call(a)};return p(o,a,m(/^x/,/^y/,"chartLabel")),o.yLabel=function(){return arguments.length?(n=Wr(arguments.length<=0?void 0:arguments[0]),o):n},o.plotArea=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.decorate=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],o):i},o}},Gr=qr((function(e,t){return e.svgPlotArea(t)}),Oe),Xr=qr((function(e,t){return e.canvasPlotArea(t)}),Ie),Kr=function(e){return[e[1],e[0]]},Qr=function(e){var t=function(e){switch(e){case"x":return f.brushX();case"y":return f.brushY();case"xy":return f.brush()}}(e),r=u.dispatch("brush","start","end"),i=n.scaleIdentity(),a=n.scaleIdentity(),o=be("g","brush"),c=function(t,n,r){switch(e){case"x":return t.map(n);case"y":return t.map(r);case"xy":return[[n(t[0][0]),r(t[0][1])],[n(t[1][0]),r(t[1][1])]]}},s=function(t){var r=n.scaleLinear().domain(i.domain());return"x"===e?t.map(r.invert):"xy"===e?[r.invert(t[0][0]),r.invert(t[1][0])]:void 0},d=function(t){var r=n.scaleLinear().domain(Kr(a.domain()));return"y"===e?[t[1],t[0]].map(r.invert):"xy"===e?[r.invert(t[1][1]),r.invert(t[0][1])]:void 0},h=function(e){if(!e.sourceEvent||"draw"!==e.sourceEvent.type)if(e.selection){var t=(o=e.selection,c(o,n.scaleLinear().domain(i.range()),n.scaleLinear().domain(Kr(a.range()))));r.call(e.type,{},{selection:t,xDomain:s(t),yDomain:d(t)})}else r.call(e.type,{},{});var o},p=function(e){e.each((function(e,r,s){t.extent([[i.range()[0],a.range()[1]],[i.range()[1],a.range()[0]]]),t.on("end",(function(e){return h(e)})).on("brush",(function(e){return h(e)})).on("start",(function(e){return h(e)})),o(l.select(s[r]),[e]).call(t).call(t.move,e?c(e,n.scaleLinear().domain(i.range()).invert,n.scaleLinear().domain(Kr(a.range())).invert):null)}))};return p.xScale=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],p):i},p.yScale=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],p):a},g(p,r,"on"),g(p,t,"filter","handleSize"),p},Zr=function(e,t){if(null==e&&null==t)return!0;var n=e.domain(),r=t.domain();return n.length===r.length&&n.every((function(e,t){var n;return(null==e?void 0:e.valueOf())===(null===(n=r[t])||void 0===n?void 0:n.valueOf())}))},Jr=Symbol("d3fc-domain-zoom");e.annotationCanvasBand=function(){var e=n.scaleIdentity(),t=n.scaleIdentity(),r="horizontal",i=function(e){return e.from},a=function(e){return e.to},o=function(){},l=ue().horizontalAlign("right").verticalAlign("top"),c=function(n){if("horizontal"!==r&&"vertical"!==r)throw new Error("Invalid orientation");var c=l.context(),s="horizontal"===r,u=s?t:e,f=(s?e:t).range(),d=f[1]-f[0],h=s?"x":"y",g=s?"y":"x",p=s?"height":"width",_=s?"width":"height";n.forEach((function(e,t){c.save(),c.beginPath(),c.strokeStyle="transparent",l[g](u(i(e))),l[h](f[0]),l[_](d),l[p](u(a(e))-u(i(e))),o(c,e,t),l.context(c)([e],t),c.fill(),c.stroke(),c.closePath(),c.restore()}))};return c.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],c):e},c.yScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],c):t},c.orient=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],c):r},c.decorate=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],c):o},c.fromValue=function(){return arguments.length?(i=Jn(arguments.length<=0?void 0:arguments[0]),c):i},c.toValue=function(){return arguments.length?(a=Jn(arguments.length<=0?void 0:arguments[0]),c):a},g(c,l,"context"),c},e.annotationCanvasCrosshair=function(){var e=function(e){return e.x},t=function(e){return e.y},r=n.scaleIdentity(),i=n.scaleIdentity(),a=Fn(),o=tr(),l=tr().orient("vertical"),c=n.scaleIdentity(),s=n.scaleIdentity(),u=Xn().series([o,l,a]).xScale(c).yScale(s).mapping((function(e){return[e]})),f=function(n){n.forEach((function(n){c.range(r.range()),s.range(i.range()),a.crossValue(e).mainValue(t),o.value(t),l.value(e),u(n)}))};f.x=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],f):e},f.y=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],f):t},f.xScale=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],f):r},f.yScale=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],f):i};var d=m("label","decorate");return p(f,o,d,y("y")),p(f,l,d,y("x")),g(f,a,"decorate"),g(f,u,"context"),f},e.annotationCanvasGridline=function(){var e=function(){},t=function(){},n=nr(),r=nr(),i=c.line(),a=function(){var a=i.context(),o=n.scale(),l=r.scale();n().forEach((function(t,n){a.save(),a.beginPath(),a.strokeStyle="#bbb",a.fillStyle="transparent",e(a,t,n),i.context(a)(l.domain().map((function(e){return[o(t),l(e)]}))),a.fill(),a.stroke(),a.closePath(),a.restore()})),r().forEach((function(e,n){a.save(),a.beginPath(),a.strokeStyle="#bbb",a.fillStyle="transparent",t(a,e,n),i.context(a)(o.domain().map((function(t){return[o(t),l(e)]}))),a.fill(),a.stroke(),a.closePath(),a.restore()}))};return a.yDecorate=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.xDecorate=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},p(a,n,y("x")),p(a,r,y("y")),g(a,i,"context"),a},e.annotationCanvasLine=tr,e.annotationSvgBand=function(){var e=n.scaleIdentity(),t=n.scaleIdentity(),r="horizontal",i=function(e){return e.from},a=function(e){return e.to},o=function(){},c=be("g","annotation-band"),s=ue().horizontalAlign("center").verticalAlign("center").x(0).y(0),u=function(n){if(_e(n)&&c.transition(n),"horizontal"!==r&&"vertical"!==r)throw new Error("Invalid orientation");var u="horizontal"===r,f=u?function(e,t){return"translate(".concat(e,", ").concat(t,")")}:function(e,t){return"translate(".concat(t,", ").concat(e,")")},d=u?t:e,h=(u?e:t).range(),g=h[1]-h[0],p=u?"height":"width",_=function(){return f((h[1]+h[0])/2,(d(a.apply(void 0,arguments))+d(i.apply(void 0,arguments)))/2)};s[u?"width":"height"](g),s[p]((function(){return d(a.apply(void 0,arguments))-d(i.apply(void 0,arguments))})),n.each((function(e,t,n){var i=c(l.select(n[t]),e);i.enter().attr("transform",_).append("path").classed("band",!0),i.attr("class","annotation-band ".concat(r)).attr("transform",_).select("path").attr("d",(function(e,t){return s([e],t)})),o(i,e,t)}))};return u.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],u):e},u.yScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],u):t},u.orient=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],u):r},u.decorate=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],u):o},u.fromValue=function(){return arguments.length?(i=Jn(arguments.length<=0?void 0:arguments[0]),u):i},u.toValue=function(){return arguments.length?(a=Jn(arguments.length<=0?void 0:arguments[0]),u):a},u},e.annotationSvgCrosshair=function(){var e=function(e){return e.x},t=function(e){return e.y},r=n.scaleIdentity(),i=n.scaleIdentity(),a=function(){},o=be("g","annotation-crosshair"),c=Bn(),s=er(),u=er().orient("vertical"),f=n.scaleIdentity(),d=n.scaleIdentity(),h=Gn().series([s,u,c]).xScale(f).yScale(d).mapping((function(e){return[e]})),g=function(n){_e(n)&&o.transition(n),n.each((function(n,g,p){var _=o(l.select(p[g]),n);_.enter().style("pointer-events","none"),f.range(r.range()),d.range(i.range()),c.crossValue(e).mainValue(t),s.value(t),u.value(e),_.call(h),a(_,n,g)}))};g.x=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],g):e},g.y=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],g):t},g.xScale=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],g):r},g.yScale=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],g):i},g.decorate=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],g):a};var _=m("label");return p(g,s,_,y("y")),p(g,u,_,y("x")),g},e.annotationSvgGridline=function(){var e=function(){},t=function(){},n=nr(),r=nr(),i=be("line","gridline-y").key(rr),a=be("line","gridline-x").key(rr),o=function(o){_e(o)&&(i.transition(o),a.transition(o)),o.each((function(o,c,s){var u=s[c],f=l.select(s[c]),d=n.scale(),h=r.scale(),g=u.__x_scale__||d;u.__x_scale__=d.copy();var p=n(),_=i(f,p);_.enter().attr("x1",g).attr("x2",g).attr("y1",h.range()[0]).attr("y2",h.range()[1]).attr("stroke","#bbb"),_.attr("x1",d).attr("x2",d).attr("y1",h.range()[0]).attr("y2",h.range()[1]),_.exit().attr("x1",d).attr("x2",d),e(_,p,c);var b=u.__y_scale__||h;u.__y_scale__=h.copy();var m=r(),v=a(f,m);v.enter().attr("y1",b).attr("y2",b).attr("x1",d.range()[0]).attr("x2",d.range()[1]).attr("stroke","#bbb"),v.attr("y1",h).attr("y2",h).attr("x1",d.range()[0]).attr("x2",d.range()[1]),v.exit().attr("y1",h).attr("y2",h),t(v,m,c)}))};return o.yDecorate=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.xDecorate=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},p(o,i,v({key:"xKey"})),p(o,a,v({key:"yKey"})),p(o,n,y("x")),p(o,r,y("y")),o},e.annotationSvgLine=er,e.autoBandwidth=function(e){var n=.75,r=function(e){if(e.length<=1)return 10;e=e.sort(t.ascending).filter((function(e,t,n){return-1===n.indexOf(e,t+1)}));var r=t.pairs(e).map((function(e){return Math.abs(e[0]-e[1])})),i=t.min(r);return n*i},i=function(t,n,i){if(t.bandwidth)return t.bandwidth();var a,o=(Array.isArray(n)?(a=[]).concat.apply(a,F(n)):n).filter(e.defined()).map(i()).map(t);return r(o)},a=function(t){var n=function(t){if(e.xBandwidth&&e.yBandwidth)e.xBandwidth(i(e.xScale(),t,e.xValue)),e.yBandwidth(i(e.yScale(),t,e.yValue));else{var n=e.orient&&"horizontal"===e.orient()?e.yScale():e.xScale();e.bandwidth(i(n,t,e.crossValue))}};t instanceof l.selection?t.each((function(t,r,i){n(t),e(l.select(i[r]))})):(n(t),e(t))};return p(a,e),a.widthFraction=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a},e.axisBottom=dr,e.axisLabelOffset=function(e){var t="auto",n=function(){},r=function(){return"left"===e.orient()||"right"===e.orient()},i=function(){return"top"===e.orient()||"left"===e.orient()?-1:1},a=function(n){var a=_r(e)(n),o=a.maxHeight,l=a.maxWidth,c=a.labelCount,s=e.scale().range()[1],u="auto"===t?Math.floor((r()?o:l)*c/s)+1:t,f=n.select("text"),d=f.attr("transform");f.attr("transform",(function(e,t){return"".concat(d," ").concat(function(e){return r()?"translate(".concat(e%u*l*i(),", 0)"):"translate(0, ".concat(e%u*o*i(),")")}(t))}))},o=function(t){return e(t)};return e.decorate((function(e){a(e),n(e)})),o.decorate=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.labelOffsetDepth=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},p(o,e,b("decorate")),o},e.axisLabelRotate=function(e){var t="auto",n=function(){},r=function(){return"left"===e.orient()||"right"===e.orient()},i=function(){return"top"===e.orient()||"left"===e.orient()?-1:1},a=function(){switch(e.orient()){case"top":case"right":return"start";default:return"end"}},o=function(n){var o=function(n){var o,l=_r(e)(n),c=l.maxHeight,s=l.maxWidth,u=l.labelCount*s;if("auto"===t){var f=e.scale().range()[1];o=f<u?90*Math.min(1,(u/f-.8)/2):0}else o=t;return{rotate:r()?Math.floor(i()*(90-o)):Math.floor(-o),maxHeight:c,maxWidth:s,anchor:o?a():"middle"}}(n),l=o.rotate,c=o.maxHeight,s=o.anchor,u=n.select("text"),f=u.attr("transform"),d=i()*Math.floor(c/2),h=r()?"translate(".concat(d,", 0)"):"translate(0, ".concat(d,")");u.style("text-anchor",s).attr("transform","".concat(f," ").concat(h," rotate(").concat(l," 0 0)"))},l=function(t){e(t)};return e.decorate((function(e){o(e),n(e)})),l.decorate=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],l):n},l.labelRotate=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],l):t},p(l,e,b("decorate")),l},e.axisLeft=hr,e.axisOrdinalBottom=function(e){return pr("bottom",e)},e.axisOrdinalLeft=function(e){return pr("left",e)},e.axisOrdinalRight=function(e){return pr("right",e)},e.axisOrdinalTop=function(e){return pr("top",e)},e.axisRight=gr,e.axisTop=fr,e.brush=function(){return Qr("xy")},e.brushX=function(){return Qr("x")},e.brushY=function(){return Qr("y")},e.bucket=le,e.chartCanvasCartesian=Xr,e.chartCartesian=Hr,e.chartSvgCartesian=Gr,e.dataJoin=be,e.discontinuityIdentity=G,e.discontinuityRange=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e,t){return e>t[0]&&e<t[1]},i={distance:function(e,n){e=i.clampUp(e),n=i.clampDown(n);var r=t.filter((function(t){return i=[e,n],(r=t)[0]>=i[0]&&r[1]<=i[1];var r,i})).map((function(e){return e[1]-e[0]}));return n-e-r.reduce((function(e,t){return e+t}),0)}},a=function(e,t){return e instanceof Date?new Date(e.getTime()+t):e+t};return i.offset=function(e,n){if(n>0){var r=function(){for(var r=i.clampUp(e),o=n;o>0;){var l=t.filter((function(e){return e[0]>r})).sort((function(e,t){return e[0]-t[0]}));if(l.length){var c=l[0],s=c[0]-r;s>o?(r=a(r,o),o=0):(r=c[1],o-=s)}else r=a(r,o),o=0}return{v:r}}();if("object"===T(r))return r.v}else{var o=function(){for(var r=i.clampDown(e),o=n;o<0;){var l=t.filter((function(e){return e[1]<r})).sort((function(e,t){return t[0]-e[0]}));if(l.length){var c=l[0],s=c[1]-r;s<o?(r=a(r,o),o=0):(r=c[0],o-=s)}else r=a(r,o),o=0}return{v:r}}();if("object"===T(o))return o.v}},i.clampUp=function(e){return t.reduce((function(e,t){return r(e,t)?t[1]:e}),e)},i.clampDown=function(e){return t.reduce((function(e,t){return r(e,t)?t[0]:e}),e)},i.copy=function(){return i},i},e.discontinuitySkipUtcWeekends=function(){return X((function(e){return e.getUTCDay()}),r.utcDay,r.utcSaturday,r.utcMonday)},e.discontinuitySkipUtcWeeklyPattern=function(e){return ne(e,re)},e.discontinuitySkipWeekends=function(){return X((function(e){return e.getDay()}),r.timeDay,r.timeSaturday,r.timeMonday)},e.discontinuitySkipWeeklyPattern=function(e){return ne(e,te)},e.effectivelyZero=pe,e.exclude=b,e.extentDate=ae,e.extentLinear=ie,e.extentTime=ae,e.feedGdax=function(){var e="BTC-USD",t=null,n=null,r=null,i=function(){var i=[];null!=t&&i.push("start="+t.toISOString()),null!=n&&i.push("end="+n.toISOString()),null!=r&&i.push("granularity="+r);var o="https://api.gdax.com/products/"+e+"/candles?"+i.join("&");return a.json(o).then((function(e){return e.map((function(e){return{date:new Date(1e3*e[0]),open:e[3],high:e[2],low:e[1],close:e[4],volume:e[5]}}))}))};return i.product=function(t){return arguments.length?(e=t,i):e},i.start=function(e){return arguments.length?(t=e,i):t},i.end=function(e){return arguments.length?(n=e,i):n},i.granularity=function(e){return arguments.length?(r=e,i):r},i},e.group=function(){var e="",t="vertical",n=function(e,t){return Number(e[t])},r=function(r){return"vertical"===t?function(t){return Object.keys(t[0]).filter((function(t){return t!==e})).map((function(r){var i=t.filter((function(e){return e[r]})).map((function(t){var i=[t[e],n(t,r)];return i.data=t,i}));return i.key=r,i}))}(r):function(t){return t.map((function(t){var r=Object.keys(t).filter((function(t){return t!==e})).map((function(e){var r=[e,n(t,e)];return r.data=t,r}));return r.key=t[e],r}))}(r)};return r.key=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},r.value=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r):n},r.orient=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},r},e.include=m,e.includeMap=v,e.indicatorBollingerBands=function(){var e=2,n=M().accumulator((function(n){var r=n&&t.deviation(n),i=n&&t.mean(n);return{average:i,upper:S(i+e*r),lower:S(i-e*r)}})),r=function(e){return n(e)};return r.multiplier=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},g(r,n,"period","value"),r},e.indicatorElderRay=function(){var e=function(e,t){return e.close},n=function(e,t){return e.high},r=function(e,t){return e.low},i=A().period(13),a=function(a){return i.value(e),t.zip(a,i(a)).map((function(e){return{bullPower:S(n(e[0])-e[1]),bearPower:S(r(e[0])-e[1])}}))};return a.closeValue=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.highValue=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a.lowValue=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},g(a,i,"period"),a},e.indicatorEnvelope=function(){var e=.1,t=w,n=function(n){return n.map((function(n){return{lower:S(t(n)*(1-e)),upper:S(t(n)*(1+e))}}))};return n.factor=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],n):e},n.value=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n},e.indicatorExponentialMovingAverage=A,e.indicatorForceIndex=function(){var e=function(e,t){return e.volume},t=function(e,t){return e.close},n=A().period(13),r=M().period(2).defined((function(n){return null!=t(n)&&null!=e(n)})).accumulator((function(n){return n&&S((t(n[1])-t(n[0]))*e(n[1]))})),i=function(e){var t=r(e);return n(t)};return i.volumeValue=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.closeValue=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},g(i,n,"period"),i},e.indicatorMacd=function(){var e=w,n=A().period(12),r=A().period(26),i=A().period(9),a=function(a){n.value(e),r.value(e);var o=t.zip(n(a),r(a)).map((function(e){return void 0!==e[0]&&void 0!==e[1]?e[0]-e[1]:void 0})),l=i(o);return t.zip(o,l).map((function(e){return{macd:e[0],signal:e[1],divergence:void 0!==e[0]&&void 0!==e[1]?e[0]-e[1]:void 0}}))};return a.value=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},p(a,n,v({period:"fastPeriod"})),p(a,r,v({period:"slowPeriod"})),p(a,i,v({period:"signalPeriod"})),a},e.indicatorMovingAverage=q,e.indicatorRelativeStrengthIndex=function(){var e=M().period(14),n=function(e){var t=B(e,2),n=t[0],r=t[1];return n<r?0:n-r},r=function(e){var t=B(e,2),n=t[0],r=t[1];return n>r?0:r-n},i=function(e,n){return void 0!==n?(i=n)+((r=e)[r.length-1]-i)/r.length:t.mean(e);var r,i},a=function(a){var o,l,c,s=function(e){if(e){if(void 0!==o){var a=t.pairs([o].concat(F(e)));return l=i(a.map(n),l),c=i(a.map(r),c),S(100-100/(1+(isNaN(o)?NaN:c/l)))}o=e[0]}else void 0!==o&&(o=NaN)};return e.accumulator(s),e(a)};return g(a,e,"period","value"),a},e.indicatorStochasticOscillator=function(){var e=function(e,t){return e.close},n=function(e,t){return e.high},r=function(e,t){return e.low},i=M().period(5).defined((function(t){return null!=e(t)&&null!=n(t)&&null!=r(t)})).accumulator((function(i){var a=i&&t.max(i,n),o=i&&t.min(i,r);return S(i&&100*(e(i[i.length-1])-o)/(a-o))})),a=q().period(3),o=function(e){var t=i(e),n=a(t);return t.map((function(e,t){return{k:e,d:n[t]}}))};return o.closeValue=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.highValue=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.lowValue=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},p(o,i,v({period:"kPeriod"})),p(o,a,v({period:"dPeriod"})),o},e.isTransition=_e,e.largestTriangleOneBucket=function(){var e=le(),n=function(e){return e},r=function(e){return e},i=function(i){if(e.bucketSize()>=i.length)return i;var a=function(e){var i=e.map((function(e){return[n(e),r(e)]}));return t.range(1,i.length-1).map((function(e){var t=i[e-1],n=i[e],r=i[e+1];return.5*Math.abs((t[0]-r[0])*(n[1]-t[1])-(t[0]-n[0])*(r[1]-t[1]))}))}(i),o=e(a),l=e(i.slice(1,i.length-1)).map((function(e,n){var r=o[n],i=t.max(r);return e[r.indexOf(i)]}));return[].concat([i[0]],l,[i[i.length-1]])};return g(i,e,"bucketSize"),i.x=function(e){return arguments.length?(n=e,i):n},i.y=function(e){return arguments.length?(r=e,i):r},i},e.largestTriangleThreeBucket=function(){var e=function(e){return e},n=function(e){return e},r=le(),i=function(i){if(r.bucketSize()>=i.length)return i;var a=r(i.slice(1,i.length-1)),o=i[0],l=i[i.length-1],c=[].concat([o],a,[l]),s=e(o),u=n(o),f=a.map((function(r,i){var a=t.mean(c[i+1],e),o=t.mean(c[i+1],n),l=r.map((function(t){return[e(t),n(t)]})),f=l.map((function(e){return.5*Math.abs((s-a)*(e[1]-u)-(s-e[0])*(o-u))})),d=f.indexOf(t.max(f)),h=l[d];return s=h[0],u=h[1],r[d]}));return[].concat([i[0]],f,[i[i.length-1]])};return g(i,r,"bucketSize"),i.x=function(t){return arguments.length?(e=t,i):e},i.y=function(e){return arguments.length?(n=e,i):n},i},e.layoutAnnealing=function(){var e,t=1e3,n=1,r=function(t,n,r){return ve(r,n)+function(t){return e?t.width*t.height-me(t,e):0}(t)+function(e){switch(e.location){case"bottom-right":return 0;case"middle-right":case"bottom-center":return e.width*e.height/8}return e.width*e.height/4}(t)},i=function(e){for(var i=t,a=Se().locationScore(r).winningScore((function(e,t){return Math.exp((t-e)/i)>Math.random()})).rectangles(e);i>0;){var o=Me(e);a=a((l=we(e[o]))[Me(l)],o),i-=n}var l;return a.rectangles()};return i.temperature=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.cooling=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},i.bounds=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i},e.layoutBoundingBox=function(){var e=[0,0],t=function(t){return t.map((function(t,n){var r=t.x,i=t.y;return r+t.width>e[0]&&(r-=t.width),i+t.height>e[1]&&(i-=t.height),{height:t.height,width:t.width,x:r,y:i}}))};return t.bounds=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],t):e},t},e.layoutGreedy=function(){var e,t=function(t,n,r){return ve(r,n)+function(t){return e?t.width*t.height-me(t,e):0}(t)},n=function(e){var n=Se().locationScore(t).rectangles(e);return e.forEach((function(e,t){we(e).forEach((function(e,r){n=n(e,t)}))})),n.rectangles()};return n.bounds=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],n):e},n},e.layoutLabel=function(e){var t=function(){},r=function(){return[0,0]},i=function(e,t){return[e.x,e.y]},a=e||function(e){return e},o=function(){},c=n.scaleIdentity(),s=n.scaleIdentity(),u=be("g","label"),f=function(e){e.each((function(e,n,f){var d=u(l.select(f[n]),e).call(o),h=d.nodes(),g=h.map((function(e,t){var n=l.select(e).datum(),a=i(n,t,h),o=[c(a[0]),s(a[1])],u=r(n,t,h);return{hidden:!1,x:o[0],y:o[1],width:u[0],height:u[1]}})),p=a(g);d.attr("style",(function(e,t){return"display:"+(p[t].hidden?"none":"inherit")})).attr("transform",(function(e,t){return"translate("+p[t].x+", "+p[t].y+")"})).attr("layout-width",(function(e,t){return p[t].width})).attr("layout-height",(function(e,t){return p[t].height})).attr("anchor-x",(function(e,t,n){return g[t].x-p[t].x})).attr("anchor-y",(function(e,t,n){return g[t].y-p[t].y})),d.call(o),t(d,e,n)}))};return p(f,u,m("key")),p(f,a),f.size=function(){return arguments.length?(r=ge(arguments.length<=0?void 0:arguments[0]),f):r},f.position=function(){return arguments.length?(i=ge(arguments.length<=0?void 0:arguments[0]),f):i},f.component=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],f):o},f.decorate=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],f):t},f.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],f):c},f.yScale=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],f):s},f},e.layoutRemoveOverlaps=function(e){var n=function(n){n=e(n);for(var r=function(){var e,r,i=n.filter((function(e){return!e.hidden})),a=i.map((function(e,t){return[e,ve(i,t)]})),o=(r=function(e,t){return t[1]-e[1]},(e=a)[t.scan(e,r)]);if(!(o[1]>0))return"break";o[0].hidden=!0};"break"!==r(););return n};return p(n,e=e||function(e){return e}),n},e.layoutTextLabel=function(e){var t=2,n=function(e){return e},r=be("text"),i=be("rect"),a=be("circle"),o=function(e){e.each((function(e,o,c){var s=c[o],u=l.select(s),f=Number(s.getAttribute("layout-width")),d=Number(s.getAttribute("layout-height"));i(u,[e]).attr("width",f).attr("height",d);var h=Number(s.getAttribute("anchor-x")),g=Number(s.getAttribute("anchor-y"));a(u,[e]).attr("r",2).attr("cx",h).attr("cy",g);var p=r(u,[e]);p.enter().attr("dy","0.9em").attr("transform","translate(".concat(t,", ").concat(t,")")),p.text(n)}))};return o.padding=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.value=function(){return arguments.length?(n=ge(arguments.length<=0?void 0:arguments[0]),o):n},o},e.modeMedian=function(){var e=le(),n=function(e){return e},r=function(r){if(e.bucketSize()>r.length)return r;var i=t.extent(r,n),a=e(r.slice(1,r.length-1)).map((function(e,t){var r,a,o={},l=!0,c=e.map(n),s=c.filter((function(e){return e===i[0]||e===i[1]})).map((function(e){return c.indexOf(e)}))[0];return void 0!==s?e[s]:(c.forEach((function(e,t){void 0===o[e]&&(o[e]=0),o[e]++,o[e]>o[r]||void 0===r?(r=e,a=t,l=!0):o[e]===o[r]&&(l=!1)})),l?e[a]:e[Math.floor(e.length/2)])}));return[].concat([r[0]],a,[r[r.length-1]])};return g(r,e,"bucketSize"),r.value=function(e){return arguments.length?(n=e,r):n},r},e.pointer=function(){var e=u.dispatch("point");function t(t){var n=l.pointer(t);e.call("point",this,[{x:n[0],y:n[1]}])}function n(){e.call("point",this,[])}var r=function(e){e.on("mouseenter.pointer",t).on("mousemove.pointer",t).on("mouseleave.pointer",n)};return g(r,e,"on"),r},e.prefix=y,e.randomFinancial=function(){var e=new Date,t=100,n=r.timeDay,a=1,o=r.timeYear,l=1,c=null,s=function(){var e=i.randomNormal(1,.1);return Math.ceil(1e3*e())},u=oe(),f=function(e,t){var r,i,c=(r=e,i=o.offset(r,l)-r,(n.offset(r,a)-r)/i),f=u.period(c)(t),d={date:e,open:f[0],high:Math.max.apply(Math,f),low:Math.min.apply(Math,f),close:f[u.steps()]};return d.volume=s(d),d},d=function(r){var i,o,l;do{i=r?n.offset(r.date,a):new Date(e.getTime()),o=r?r.close:t,r=f(i,o),l=c&&!c(r)}while(l);return r},h=function(){var e,t={next:function(){var t=d(e);return e=t,t},take:function(e){return t.until((function(t,n){return!e||e<0||n===e}))},until:function(t){for(var n=[],r=0,i=d(e),a=t&&!t(i,r);a;)n.push(i),i=d(e=i),r+=1,a=t&&!t(i,r);return n}};return t},g=function(e){return h().take(e)};if(g.stream=h,"function"!=typeof Symbol||"symbol"!==T(Symbol.iterator))throw new Error("d3fc-random-data depends on Symbol. Make sure that you load a polyfill in older browsers. See README.");return g[Symbol.iterator]=function(){var e=h();return{next:function(){return{value:e.next(),done:!1}}}},g.startDate=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],g):e},g.startPrice=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],g):t},g.interval=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],g):n},g.intervalStep=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],g):a},g.unitInterval=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],g):o},g.unitIntervalStep=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],g):l},g.filter=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],g):c},g.volume=function(){return arguments.length?(s="function"==typeof(e=arguments.length<=0?void 0:arguments[0])?e:function(){return e},g):s;var e},p(g,u),g},e.randomGeometricBrownianMotion=oe,e.randomSkipWeekends=function(e){var t=e.date.getDay();return!(0===t||6===t)},e.rebind=g,e.rebindAll=p,e.scaleDiscontinuous=function e(t){var r=this;arguments.length||(t=n.scaleIdentity());var i=G(),a=function(e){var n=t.domain(),r=t.range(),a=i.distance(n[0],n[1]);return i.distance(n[0],e)/a*(r[1]-r[0])+r[0]};return a.invert=function(e){var n=t.domain(),r=t.range(),a=(e-r[0])/(r[1]-r[0])*i.distance(n[0],n[1]);return i.offset(n[0],a)},a.domain=function(){if(!arguments.length)return t.domain();var e=arguments.length<=0?void 0:arguments[0],n=i.clampUp(e[0]),r=i.clampDown(e[1]);return t.domain([n,r]),a},a.nice=function(){t.nice();var e=t.domain(),n=i.clampUp(e[0]),r=i.clampDown(e[1]);return t.domain([n,r]),a},a.ticks=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return function(e,t){var n=e.map(t.clampUp);return n.length!==new Set(n.map((function(e){return null==e?void 0:e.valueOf()}))).size&&console.warn("There are multiple ticks that fall within a discontinuity, which has led to them being rendered on top of each other. Consider using scale.ticks to explicitly specify the ticks for the scale."),n}(t.ticks.apply(r,n),i)},a.copy=function(){return e(t.copy()).discontinuityProvider(i.copy())},a.discontinuityProvider=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],a):i},p(a,t,m("range","rangeRound","interpolate","clamp","tickFormat")),a},e.seriesCanvasArea=function(){var e=Ve(),t=c.area(),n=function(n){var r=t.context();t.defined(e.defined());var i=n.map(e.values);t.x((function(e,t){return i[t].transposedX})).y((function(e,t){return i[t].transposedY}));var a="vertical"===e.orient()?"y":"x";t[a+"0"]((function(e,t){return i[t].y0})),t[a+"1"]((function(e,t){return i[t].y})),r.beginPath(),r.fillStyle=Pe,r.strokeStyle="transparent",e.decorate()(r,n),t(n),r.fill(),r.stroke(),r.closePath()};return p(n,e,b("bandwidth","align")),g(n,t,"curve","context"),n},e.seriesCanvasBar=function(){var e=Ve(),t=ue().x(0).y(0),n=function(n){var r=t.context(),i=n.filter(e.defined()).map(e.values);"vertical"===e.orient()?(t.verticalAlign("top"),t.horizontalAlign("center")):(t.horizontalAlign("right"),t.verticalAlign("center")),i.forEach((function(n,i){var a;r.save(),r.beginPath(),r.translate(n.origin[0],n.origin[1]),r.fillStyle=Le,r.strokeStyle="transparent",e.decorate()(r,n.d,i),(a=t,"vertical"===e.orient()?a.height:a.width)(-n.height),function(t){return"vertical"===e.orient()?t.width:t.height}(t)(n.width),t([n]),r.fill(),r.stroke(),r.closePath(),r.restore()}))};return p(n,e),g(n,t,"context"),n},e.seriesCanvasBoxPlot=function(){var e=Wn(),t=de().value(0),n=function(n){var r=n.filter(e.defined()),i=t.context();t.orient(e.orient()),r.forEach((function(n,r){i.save();var a=e.values(n,r);i.translate(a.origin[0],a.origin[1]),i.beginPath(),i.fillStyle=Pe,i.strokeStyle=De,e.decorate()(i,n,r),t.median(a.median).upperQuartile(a.upperQuartile).lowerQuartile(a.lowerQuartile).high(a.high).width(a.width).low(a.low)([n]),i.fill(),i.stroke(),i.closePath(),i.restore()}))};return p(n,e),g(n,t,"cap","context"),n},e.seriesCanvasCandlestick=function(){return Hn(fe())},e.seriesCanvasErrorBar=function(){var e=Yn(),t=he().value(0),n=function(n){var r=n.filter(e.defined()),i=t.context();t.orient(e.orient()),r.forEach((function(n,r){i.save();var a=e.values(n,r);i.translate(a.origin[0],a.origin[1]),i.beginPath(),i.strokeStyle=De,i.fillStyle=Pe,e.decorate()(i,n,r),t.high(a.high).width(a.width).low(a.low)([n]),i.fill(),i.stroke(),i.closePath(),i.restore()}))};return p(n,e),g(n,t,"context"),n},e.seriesCanvasGrouped=function(e){var t=Qn(),n=function(n){n.forEach((function(r,i){var a="horizontal"!==e.orient(),o=function(e,r){var o=t.offsetScaleForDatum(n,e,r);return(a?t.xScale():t.yScale())(e)+o(i)+o.bandwidth()/2};a?(e.xScale(o),e.yScale(t.yScale())):(e.yScale(o),e.xScale(t.xScale())),e.bandwidth&&e.bandwidth((function(e,r){return t.offsetScaleForDatum(n,e,r).bandwidth()})),e.decorate((function(e,n){return t.decorate()(e,n,i)})),e(r)}))};return p(n,e,b("decorate","xScale","yScale")),p(n,t,b("offsetScaleForDatum")),n},e.seriesCanvasHeatmap=function(){var e=Zn(),t=function(t){var n=t.filter(e.defined()),r=e.colorInterpolate(),i=e.colorScale(n),a=e.pathGenerator.context();n.forEach((function(t,n){a.save(),a.beginPath();var o=e.values(t,n);a.translate(o.x,o.y),a.fillStyle=r(i(o.colorValue)),a.strokeStyle="transparent",e.decorate()(a,t,n),e.pathGenerator.height(o.height).width(o.width)([t]),a.fill(),a.stroke(),a.closePath(),a.restore()}))};return g(t,e.pathGenerator,"context"),p(t,e),t},e.seriesCanvasLine=Ie,e.seriesCanvasMulti=Xn,e.seriesCanvasOhlc=function(){return Hn(se())},e.seriesCanvasPoint=Fn,e.seriesCanvasRepeat=function(){var e="vertical",t=Ie(),n=Xn(),r=function(r){"vertical"===e?n.series(r[0].map((function(e){return t}))).mapping((function(e,t){return e.map((function(e){return e[t]}))})):n.series(r.map((function(e){return t}))).mapping((function(e,t){return e[t]})),n(r)};return r.series=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},r.orient=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},p(r,n,b("series","mapping")),r},e.seriesSvgArea=function(){var e=Ve(),t=c.area(),n=be("path","area"),r=function(r){_e(r)&&n.transition(r),t.defined(e.defined()),r.each((function(r,i,a){var o=r.map(e.values);t.x((function(e,t){return o[t].transposedX})).y((function(e,t){return o[t].transposedY}));var c="vertical"===e.orient()?"y":"x";t[c+"0"]((function(e,t){return o[t].y0})),t[c+"1"]((function(e,t){return o[t].y}));var s=n(l.select(a[i]),[r]);s.enter().attr("fill",Pe),s.attr("d",t),e.decorate()(s,r,i)}))};return p(r,e,b("bandwidth","align")),g(r,n,"key"),g(r,t,"curve"),r},e.seriesSvgBar=function(){var e=ue().x(0).y(0),t=Ve(),n=be("g","bar"),r=function(e){return"vertical"===t.orient()?e.width:e.height},i=function(e){return"translate("+e[0]+", "+e[1]+")"},a=function(a){_e(a)&&n.transition(a),a.each((function(a,o,c){var s=t.orient();if("vertical"!==s&&"horizontal"!==s)throw new Error("The bar series does not support an orientation of "+s);var u=a.filter(t.defined()),f=u.map(t.values);e.width(0).height(0),"vertical"===t.orient()?(e.verticalAlign("top"),e.horizontalAlign("center")):(e.horizontalAlign("right"),e.verticalAlign("center"));var d=n(l.select(c[o]),u);d.enter().attr("transform",(function(e,t){return i(f[t].baseOrigin)})).attr("class","bar "+t.orient()).attr("fill",Le).append("path").attr("d",(function(t,n){return r(e)(f[n].width),e([t])})),d.attr("transform",(function(e,t){return i(f[t].origin)})).select("path").attr("d",(function(n,i){return r(e)(f[i].width),(a=e,"vertical"===t.orient()?a.height:a.width)(-f[i].height),e([n]);var a})),t.decorate()(d,u,o)}))};return p(a,t),g(a,n,"key"),a},e.seriesSvgBoxPlot=function(){var e=Wn(),t=be("g","box-plot"),n=de().value(0),r=function(e){return"translate("+e.origin[0]+", "+e.origin[1]+")"},i=function(i){_e(i)&&t.transition(i);var a,o=(a=i,function(e){return _e(a)?e.transition(a):e});i.each((function(i,a,c){var s=i.filter(e.defined()),u=t(l.select(c[a]),s);u.enter().attr("stroke",De).attr("fill",Pe).attr("transform",(function(t,n){return r(e.values(t,n))+" scale(1e-6, 1)"})).append("path"),n.orient(e.orient()),u.each((function(t,i,a){var c=e.values(t,i);n.median(c.median).upperQuartile(c.upperQuartile).lowerQuartile(c.lowerQuartile).width(c.width).high(c.high).low(c.low),o(l.select(a[i])).attr("transform",r(c)).select("path").attr("d",n([t]))})),e.decorate()(u,i,a)}))};return p(i,e),g(i,t,"key"),g(i,n,"cap"),i},e.seriesSvgCandlestick=function(){return $n(fe(),"candlestick")},e.seriesSvgErrorBar=function(){var e=Yn(),t=be("g","error-bar"),n=he().value(0),r=function(e){return"translate("+e.origin[0]+", "+e.origin[1]+")"},i=function(i){_e(i)&&t.transition(i);var a,o=(a=i,function(e){return _e(a)?e.transition(a):e});i.each((function(i,a,c){var s=i.filter(e.defined()),u=s.map(e.values),f=t(l.select(c[a]),s);f.enter().attr("stroke",De).attr("fill",Pe).attr("transform",(function(t,n){return r(e.values(t,n))+" scale(1e-6, 1)"})).append("path"),n.orient(e.orient()),f.each((function(e,t,i){var a=u[t];n.high(a.high).low(a.low).width(a.width),o(l.select(i[t])).attr("transform",r(a)+" scale(1)").select("path").attr("d",n([e]))})),e.decorate()(f,i,a)}))};return p(i,e),g(i,t,"key"),i},e.seriesSvgGrouped=function(e){var t=Qn(),n=be("g","grouped"),r=function(r){_e(r)&&n.transition(r),r.each((function(r,i,a){var o=n(l.select(a[i]),r);o.enter().append("g"),o.select("g").each((function(n,i,a){var o=l.select(a[i]),c="horizontal"!==e.orient(),s=function(e,n){var a=t.offsetScaleForDatum(r,e,n);return(c?t.xScale():t.yScale())(e)+a(i)+a.bandwidth()/2};c?(e.xScale(s),e.yScale(t.yScale())):(e.yScale(s),e.xScale(t.xScale())),e.bandwidth&&e.bandwidth((function(e,n){return t.offsetScaleForDatum(r,e,n).bandwidth()})),e.decorate((function(e,n){return t.decorate()(e,n,i)})),o.call(e)}))}))};return p(r,e,b("decorate","xScale","yScale")),p(r,t,b("offsetScaleForDatum")),r},e.seriesSvgHeatmap=function(){var e=Zn(),t=be("g","box"),n=function(n){n.each((function(n,r,i){var a=n.filter(e.defined()),o=e.colorValue(),c=e.colorInterpolate(),s=e.colorScale(a),u=t(l.select(i[r]),a);u.enter().append("path").attr("stroke","transparent"),u.attr("transform",(function(t,n){return"translate("+(r=e.values(t,n)).x+", "+r.y+")";var r})).select("path").attr("d",(function(t,n){return e.pathGenerator.width(e.values(t,n).width).height(e.values(t,n).height)([t])})).attr("fill",(function(e,t){return c(s(o(e,t)))})),e.decorate()(u,n,r)}))};return p(n,e),n},e.seriesSvgLine=Oe,e.seriesSvgMulti=Gn,e.seriesSvgOhlc=function(){return $n(se(),"ohlc")},e.seriesSvgPoint=Bn,e.seriesSvgRepeat=function(){var e="vertical",t=Oe(),n=Gn(),r=function(r){return r.each((function(r,i,a){"vertical"===e?n.series(r[0].map((function(e){return t}))).mapping((function(e,t){return e.map((function(e){return e[t]}))})):n.series(r.map((function(e){return t}))).mapping((function(e,t){return e[t]})),l.select(a[i]).call(n)}))};return r.series=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},r.orient=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},p(r,n,b("series","mapping")),r},e.seriesWebglArea=function(){var e=Ve(),t=Sn(0,1),n=t.offset(1),r=Sn(0,1),i=r.offset(1),a=Sn(0,1),o=a.offset(1),l=Sn(0,1).type(en.UNSIGNED_BYTE),c=l.offset(1),s=cn().crossValueAttribute(t).crossNextValueAttribute(n).mainValueAttribute(r).mainNextValueAttribute(i).baseValueAttribute(a).baseNextValueAttribute(o).definedAttribute(l).definedNextAttribute(c),u=function(e,t){return!1},f=Ln,d=[],h=null,_=null,m=function(n){if("vertical"!==e.orient())throw new Error("Unsupported orientation ".concat(e.orient()));var i=f(e.xScale()),o=f(e.yScale()),c=!u(d,n);c&&(d=n,l.value((function(t,n){return e.defined()(t,n)})).data(n)),(c||i.scale!==h)&&(h=i.scale,t.value((function(t,n){return i.scale(e.crossValue()(t,n))})).data(n)),(c||o.scale!==_)&&(_=o.scale,a.value((function(t,n){return o.scale(e.baseValue()(t,n))})).data(n),r.value((function(t,n){return o.scale(e.mainValue()(t,n))})).data(n)),s.xScale(i.webglScale).yScale(o.webglScale).decorate((function(t){return e.decorate()(t,n,0)})),s(n.length)};return m.equals=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],m):u},m.scaleMapper=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],m):f},p(m,e,b("bandwidth","align")),g(m,s,"context","pixelRatio"),m},e.seriesWebglBar=function(){var e=Ve(),t=on(),n=on(),r=on(),i=on().type(en.UNSIGNED_SHORT),a=on().type(en.UNSIGNED_BYTE),o=bn().crossValueAttribute(t).mainValueAttribute(n).baseValueAttribute(r).bandwidthAttribute(i).definedAttribute(a),l=function(e,t){return!1},c=Ln,s=[],u=null,f=null,d=function(d){if("vertical"!==e.orient())throw new Error("Unsupported orientation ".concat(e.orient()));var h=c(e.xScale()),g=c(e.yScale()),p=!l(s,d);p&&(s=d,i.value((function(t,n){return e.bandwidth()(t,n)})).data(d),a.value((function(t,n){return e.defined()(t,n)})).data(d)),(p||h.scale!==u)&&(u=h.scale,t.value((function(t,n){return h.scale(e.crossValue()(t,n))})).data(d)),(p||g.scale!==f)&&(f=g.scale,r.value((function(t,n){return g.scale(e.baseValue()(t,n))})).data(d),n.value((function(t,n){return g.scale(e.mainValue()(t,n))})).data(d)),o.xScale(h.webglScale).yScale(g.webglScale).decorate((function(t){return e.decorate()(t,d,0)})),o(d.length)};return d.equals=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],d):l},d.scaleMapper=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],d):c},p(d,e,b("align")),g(d,o,"context","pixelRatio"),d},e.seriesWebglBoxPlot=function(){var e=Wn(),t=on(),n=on(),r=on(),i=on(),a=on(),o=on(),l=on().type(en.UNSIGNED_SHORT),c=on().type(en.UNSIGNED_SHORT),s=on().type(en.UNSIGNED_BYTE),u=kn().crossValueAttribute(t).highValueAttribute(n).upperQuartileValueAttribute(r).medianValueAttribute(i).lowerQuartileValueAttribute(a).lowValueAttribute(o).bandwidthAttribute(l).capAttribute(c).definedAttribute(s),f=function(e,t){return!1},d=Ln,h=[],_=null,m=null,v=Ae(20),y=function(g){if("vertical"!==e.orient())throw new Error("Unsupported orientation ".concat(e.orient()));var p=d(e.xScale()),b=d(e.yScale()),y=!f(h,g);y&&(h=g,l.value((function(t,n){return e.bandwidth()(t,n)})).data(g),c.value((function(e,t){return v(e,t)})).data(g),s.value((function(t,n){return e.defined()(t,n)})).data(g)),(y||p.scale!==_)&&(_=p.scale,t.value((function(t,n){return p.scale(e.crossValue()(t,n))})).data(g)),(y||b.scale!==m)&&(m=b.scale,n.value((function(t,n){return b.scale(e.highValue()(t,n))})).data(g),r.value((function(t,n){return b.scale(e.upperQuartileValue()(t,n))})).data(g),i.value((function(t,n){return b.scale(e.medianValue()(t,n))})).data(g),a.value((function(t,n){return b.scale(e.lowerQuartileValue()(t,n))})).data(g),o.value((function(t,n){return b.scale(e.lowValue()(t,n))})).data(g)),u.xScale(p.webglScale).yScale(b.webglScale).decorate((function(t){return e.decorate()(t,g,0)})),u(g.length)};return y.cap=function(){return arguments.length?(v=Ae(arguments.length<=0?void 0:arguments[0]),y):v},y.equals=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],y):f},y.scaleMapper=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],y):d},p(y,e,b("align")),g(y,u,"context","lineWidth","pixelRatio"),y},e.seriesWebglCandlestick=function(){return Un(wn())},e.seriesWebglErrorBar=function(){var e=Yn(),t=on(),n=on(),r=on(),i=on().type(en.UNSIGNED_SHORT),a=on().type(en.UNSIGNED_BYTE),o=vn().crossValueAttribute(t).highValueAttribute(n).lowValueAttribute(r).bandwidthAttribute(i).definedAttribute(a),l=function(e,t){return!1},c=Ln,s=[],u=null,f=null,d=function(d){if("vertical"!==e.orient())throw new Error("Unsupported orientation ".concat(e.orient()));var h=c(e.xScale()),g=c(e.yScale()),p=!l(s,d);p&&(s=d,i.value((function(t,n){return e.bandwidth()(t,n)})).data(d),a.value((function(t,n){return e.defined()(t,n)})).data(d)),(p||h.scale!==u)&&(u=h.scale,t.value((function(t,n){return h.scale(e.crossValue()(t,n))})).data(d)),(p||g.scale!==f)&&(f=g.scale,n.value((function(t,n){return g.scale(e.highValue()(t,n))})).data(d),r.value((function(t,n){return g.scale(e.lowValue()(t,n))})).data(d)),o.xScale(h.webglScale).yScale(g.webglScale).decorate((function(t){return e.decorate()(t,d,0)})),o(d.length)};return d.equals=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],d):l},d.scaleMapper=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],d):c},p(d,e,b("align")),g(d,o,"context","lineWidth","pixelRatio"),d},e.seriesWebglLine=Rn,e.seriesWebglMulti=Kn,e.seriesWebglOhlc=function(){return Un(pn())},e.seriesWebglPoint=function(){var e=Ve(),t=Ae(64),n=c.symbolCircle,r=on(),i=on(),a=on().type(en.UNSIGNED_SHORT),o=on().type(en.UNSIGNED_BYTE),l=un().crossValueAttribute(r).mainValueAttribute(i).sizeAttribute(a).definedAttribute(o),s=function(e,t){return!1},u=Ln,f=[],d=null,h=null,_=function(c){var g=u(e.xScale()),p=u(e.yScale()),_=!s(f,c);_&&(f=c,a.value((function(e,n){return t(e,n)})).data(c),o.value((function(t,n){return e.defined()(t,n)})).data(c)),(_||g.scale!==d)&&(d=g.scale,"vertical"===e.orient()?r.value((function(t,n){return g.scale(e.crossValue()(t,n))})).data(c):r.value((function(t,n){return g.scale(e.mainValue()(t,n))})).data(c)),(_||p.scale!==h)&&(h=p.scale,"vertical"===e.orient()?i.value((function(t,n){return p.scale(e.mainValue()(t,n))})).data(c):i.value((function(t,n){return p.scale(e.crossValue()(t,n))})).data(c)),l.xScale(g.webglScale).yScale(p.webglScale).type(On(n)).decorate((function(t){return e.decorate()(t,c,0)})),l(c.length)};return _.size=function(){return arguments.length?(t=Ae(arguments.length<=0?void 0:arguments[0]),_):t},_.type=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],_):n},_.equals=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],_):s},_.scaleMapper=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],_):u},p(_,e,b("baseValue","bandwidth","align")),g(_,l,"context","pixelRatio"),_},e.seriesWebglRepeat=function(){var e="vertical",t=function(){return Rn()},n=Kn(),r=[],i=function(i){if("vertical"===e){var a=r;r=i[0].map((function(e,n){return n<a.length?a[n]:t()})),n.series(r).mapping((function(e,t){return e.map((function(e){return e[t]}))}))}else{var o=r;r=i.map((function(e,n){return n<o.length?o[n]:t()})),n.series(r).mapping((function(e,t){return e[t]}))}n(i)};return i.series=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return n.length?(t="function"==typeof n[0].xScale&&"function"==typeof n[0].yScale?function(){return n[0]}:n[0],r=[],i):t},i.orient=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r=[],i):e},p(i,n,b("series","mapping")),i},e.shapeBar=ue,e.shapeBoxPlot=de,e.shapeCandlestick=fe,e.shapeErrorBar=he,e.shapeOhlc=se,e.webglAdjacentAttribute=Sn,e.webglAttribute=on,e.webglBaseAttribute=rn,e.webglBufferBuilder=Be,e.webglElementIndices=dn,e.webglFillColor=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,1],t=on().size(4),n=e,r=!0,i=function(e){if(e.vertexShader().appendHeaderIfNotExists(qe).appendBodyIfNotExists(Ge),e.fragmentShader().appendHeaderIfNotExists(Xt).appendBodyIfNotExists(Kt),Array.isArray(n))e.buffers().attribute("aFillColor",In(n).size(4));else{if("function"!=typeof n)throw new Error("Expected value to be an array or function, received ".concat(n));if(!r)return;t.value(n),e.buffers().attribute("aFillColor",t)}r=!1};return i.value=function(){return arguments.length?(n!==(arguments.length<=0?void 0:arguments[0])&&(n=arguments.length<=0?void 0:arguments[0],r=!0),i):n},g(i,t,"data"),i},e.webglProgramBuilder=$e,e.webglScaleLinear=Mn,e.webglScaleLog=An,e.webglScaleMapper=Ln,e.webglScalePow=Tn,e.webglSeriesArea=cn,e.webglSeriesBar=bn,e.webglSeriesBoxPlot=kn,e.webglSeriesCandlestick=wn,e.webglSeriesErrorBar=vn,e.webglSeriesLine=hn,e.webglSeriesOhlc=pn,e.webglSeriesPoint=un,e.webglShaderBuilder=He,e.webglStrokeColor=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,1],t=on().size(4),n=e,r=!0,i=function(e){if(e.vertexShader().appendHeaderIfNotExists(Xe).appendBodyIfNotExists(Ke),e.fragmentShader().appendHeaderIfNotExists(Qt).appendBodyIfNotExists(Zt),Array.isArray(n))e.buffers().attribute("aStrokeColor",In(n).size(4));else{if("function"!=typeof n)throw new Error("Expected value to be an array or function, received ".concat(n));if(!r)return;t.value(n),e.buffers().attribute("aStrokeColor",t)}r=!1};return i.value=function(){return arguments.length?(n!==(arguments.length<=0?void 0:arguments[0])&&(n=arguments.length<=0?void 0:arguments[0],r=!0),i):n},g(i,t,"data"),i},e.webglSymbolMapper=On,e.webglTypes=en,e.webglUniform=Fe,e.zoom=function(){var e=u.dispatch("zoom"),t=d.zoom().on("zoom",(function(n){var r,i,a=n.transform,o=this,c=a,s=o[Jr],u=s.originalXScale,f=s.previousXScale,h=s.xScale,g=s.originalYScale,p=s.previousYScale,_=s.yScale,b=s.previousTransform;Zr(f,h)&&Zr(p,_)||(u=null==h?void 0:h.copy(),g=null==_?void 0:_.copy(),r=a,i=b,c=d.zoomIdentity.scale(r.k/i.k).translate(r.x-i.x,r.y-i.y)),null!=h&&(f=c.rescaleX(u.range(h.range())),h.domain(f.domain())),null!=_&&(p=c.rescaleY(g.range(_.range())),_.domain(p.domain())),b=c,o[Jr]={originalXScale:u,previousXScale:f,xScale:h,originalYScale:g,previousYScale:p,yScale:_,previousTransform:b},c!==a&&t.transform(l.select(o),c),e.call("zoom")})),n=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null==n&&null==r&&console.warn("Without an xScale and/or yScale specified, this component won't do anything. Perhaps you forgot to specify them e.g. selection.call(zoom, x, y)?"),e.each((function(e,t,i){var a=i[t][Jr];null!=a&&a.xScale===n&&a.yScale===r&&console.warn("This component should only be called on a selection once. Perhaps you're missing an .enter()?");var o=null==n?void 0:n.copy(),l=null==r?void 0:r.copy();i[t][Jr]={originalXScale:o,previousXScale:o,xScale:n,originalYScale:l,previousYScale:l,yScale:r,previousTransform:d.zoomIdentity}})).call(t)};return g(n,e,"on"),g(n,t,"extent","filter","wheelDelta","touchable","clickDistance","tapDistance","duration","interpolate"),n},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(3418),n(2816),n(2252),n(5272),n(9564),n(1512),n(7680),n(5824),n(3296),n(3028),n(9132),n(1786))},2036:(e,t,n)=>{"use strict";n.d(t,{ek:()=>D});var r=Uint8Array,i=Uint16Array,a=Uint32Array,o=new r([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),l=new r([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),c=new r([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(e,t){for(var n=new i(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var o=new a(n[30]);for(r=1;r<30;++r)for(var l=n[r];l<n[r+1];++l)o[l]=l-n[r]<<5|r;return[n,o]},u=s(o,2),f=u[0],d=u[1];f[28]=258,d[258]=28;for(var h=s(l,0),g=h[0],p=(h[1],new i(32768)),_=0;_<32768;++_){var b=(43690&_)>>>1|(21845&_)<<1;b=(61680&(b=(52428&b)>>>2|(13107&b)<<2))>>>4|(3855&b)<<4,p[_]=((65280&b)>>>8|(255&b)<<8)>>>1}var m=function(e,t,n){for(var r=e.length,a=0,o=new i(t);a<r;++a)e[a]&&++o[e[a]-1];var l,c=new i(t);for(a=0;a<t;++a)c[a]=c[a-1]+o[a-1]<<1;if(n){l=new i(1<<t);var s=15-t;for(a=0;a<r;++a)if(e[a])for(var u=a<<4|e[a],f=t-e[a],d=c[e[a]-1]++<<f,h=d|(1<<f)-1;d<=h;++d)l[p[d]>>>s]=u}else for(l=new i(r),a=0;a<r;++a)e[a]&&(l[a]=p[c[e[a]-1]++]>>>15-e[a]);return l},v=new r(288);for(_=0;_<144;++_)v[_]=8;for(_=144;_<256;++_)v[_]=9;for(_=256;_<280;++_)v[_]=7;for(_=280;_<288;++_)v[_]=8;var y=new r(32);for(_=0;_<32;++_)y[_]=5;var w=m(v,9,1),x=m(y,5,1),k=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},S=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},M=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},A=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var o=new(2==e.BYTES_PER_ELEMENT?i:4==e.BYTES_PER_ELEMENT?a:r)(n-t);return o.set(e.subarray(t,n)),o},T=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(e,t,n){var r=new Error(t||T[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,E),!n)throw r;return r},C=new r(0),V=function(){function e(e){this.s={},this.p=new r(0),this.ondata=e}return e.prototype.e=function(e){this.ondata||E(5),this.d&&E(4);var t=this.p.length,n=new r(t+e.length);n.set(this.p),n.set(e,t),this.p=n},e.prototype.c=function(e){this.d=this.s.i=e||!1;var t=this.s.b,n=function(e,t,n){var i=e.length;if(!i||n&&n.f&&!n.l)return t||new r(0);var a=!t||n,s=!n||n.i;n||(n={}),t||(t=new r(3*i));var u,d=function(e){var n=t.length;if(e>n){var i=new r(Math.max(2*n,e));i.set(t),t=i}},h=n.f||0,p=n.p||0,_=n.b||0,b=n.l,v=n.d,y=n.m,T=n.n,C=8*i;do{if(!b){h=S(e,p,1);var V=S(e,p+1,3);if(p+=3,!V){var N=e[(u=p,(j=4+((u+7)/8|0))-4)]|e[j-3]<<8,z=j+N;if(z>i){s&&E(0);break}a&&d(_+N),t.set(e.subarray(j,z),_),n.b=_+=N,n.p=p=8*z,n.f=h;continue}if(1==V)b=w,v=x,y=9,T=5;else if(2==V){var D=S(e,p,31)+257,P=S(e,p+10,15)+4,L=D+S(e,p+5,31)+1;p+=14;for(var O=new r(L),I=new r(19),R=0;R<P;++R)I[c[R]]=S(e,p+3*R,7);p+=3*P;var B=k(I),F=(1<<B)-1,Y=m(I,B,1);for(R=0;R<L;){var j,$=Y[S(e,p,F)];if(p+=15&$,(j=$>>>4)<16)O[R++]=j;else{var H=0,U=0;for(16==j?(U=3+S(e,p,3),p+=2,H=O[R-1]):17==j?(U=3+S(e,p,7),p+=3):18==j&&(U=11+S(e,p,127),p+=7);U--;)O[R++]=H}}var W=O.subarray(0,D),q=O.subarray(D);y=k(W),T=k(q),b=m(W,y,1),v=m(q,T,1)}else E(1);if(p>C){s&&E(0);break}}a&&d(_+131072);for(var G=(1<<y)-1,X=(1<<T)-1,K=p;;K=p){var Q=(H=b[M(e,p)&G])>>>4;if((p+=15&H)>C){s&&E(0);break}if(H||E(2),Q<256)t[_++]=Q;else{if(256==Q){K=p,b=null;break}var Z=Q-254;if(Q>264){var J=o[R=Q-257];Z=S(e,p,(1<<J)-1)+f[R],p+=J}var ee=v[M(e,p)&X],te=ee>>>4;if(ee||E(3),p+=15&ee,q=g[te],te>3&&(J=l[te],q+=M(e,p)&(1<<J)-1,p+=J),p>C){s&&E(0);break}a&&d(_+131072);for(var ne=_+Z;_<ne;_+=4)t[_]=t[_-q],t[_+1]=t[_+1-q],t[_+2]=t[_+2-q],t[_+3]=t[_+3-q];_=ne}}n.l=b,n.p=K,n.b=_,n.f=h,b&&(h=1,n.m=y,n.d=v,n.n=T)}while(!h);return _==t.length?t:A(t,0,_)}(this.p,this.o,this.s);this.ondata(A(n,t,this.s.b),this.d),this.o=A(n,this.s.b-32768),this.s.b=this.o.length,this.p=A(this.p,this.s.p/8|0),this.s.p&=7},e.prototype.push=function(e,t){this.e(e),this.c(t)},e}(),N=function(){function e(e){this.v=1,V.call(this,e)}return e.prototype.push=function(e,t){if(V.prototype.e.call(this,e),this.v){var n=this.p.length>3?function(e){31==e[0]&&139==e[1]&&8==e[2]||E(6,"invalid gzip data");var t=e[3],n=10;4&t&&(n+=e[10]|2+(e[11]<<8));for(var r=(t>>3&1)+(t>>4&1);r>0;r-=!e[n++]);return n+(2&t)}(this.p):4;if(n>=this.p.length&&!t)return;this.p=this.p.subarray(n),this.v=0}t&&(this.p.length<8&&E(6,"invalid gzip data"),this.p=this.p.subarray(0,-8)),V.prototype.c.call(this,t)},e}(),z=function(){function e(e){this.v=1,V.call(this,e)}return e.prototype.push=function(e,t){if(V.prototype.e.call(this,e),this.v){if(this.p.length<2&&!t)return;this.p=this.p.subarray(2),this.v=0}t&&(this.p.length<4&&E(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),V.prototype.c.call(this,t)},e}(),D=function(){function e(e){this.G=N,this.I=V,this.Z=z,this.ondata=e}return e.prototype.push=function(e,t){if(this.ondata||E(5),this.s)this.s.push(e,t);else{if(this.p&&this.p.length){var n=new r(this.p.length+e.length);n.set(this.p),n.set(e,this.p.length)}else this.p=e;if(this.p.length>2){var i=this,a=function(){i.ondata.apply(i,arguments)};this.s=31==this.p[0]&&139==this.p[1]&&8==this.p[2]?new this.G(a):8!=(15&this.p[0])||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(a):new this.Z(a),this.s.push(this.p,t),this.p=null}}},e}(),P="undefined"!=typeof TextDecoder&&new TextDecoder;try{P.decode(C,{stream:!0})}catch(e){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout},3780:(e,t)=>{var n,r;(r=r||{}).stringify=(n={"visit_linear-gradient":function(e){return n.visit_gradient(e)},"visit_repeating-linear-gradient":function(e){return n.visit_gradient(e)},"visit_radial-gradient":function(e){return n.visit_gradient(e)},"visit_repeating-radial-gradient":function(e){return n.visit_gradient(e)},visit_gradient:function(e){var t=n.visit(e.orientation);return t&&(t+=", "),e.type+"("+t+n.visit(e.colorStops)+")"},visit_shape:function(e){var t=e.value,r=n.visit(e.at),i=n.visit(e.style);return i&&(t+=" "+i),r&&(t+=" at "+r),t},"visit_default-radial":function(e){var t="",r=n.visit(e.at);return r&&(t+=r),t},"visit_extent-keyword":function(e){var t=e.value,r=n.visit(e.at);return r&&(t+=" at "+r),t},"visit_position-keyword":function(e){return e.value},visit_position:function(e){return n.visit(e.value.x)+" "+n.visit(e.value.y)},"visit_%":function(e){return e.value+"%"},visit_em:function(e){return e.value+"em"},visit_px:function(e){return e.value+"px"},visit_literal:function(e){return n.visit_color(e.value,e)},visit_hex:function(e){return n.visit_color("#"+e.value,e)},visit_rgb:function(e){return n.visit_color("rgb("+e.value.join(", ")+")",e)},visit_rgba:function(e){return n.visit_color("rgba("+e.value.join(", ")+")",e)},visit_color:function(e,t){var r=e,i=n.visit(t.length);return i&&(r+=" "+i),r},visit_angular:function(e){return e.value+"deg"},visit_directional:function(e){return"to "+e.value},visit_array:function(e){var t="",r=e.length;return e.forEach((function(e,i){t+=n.visit(e),i<r-1&&(t+=", ")})),t},visit:function(e){if(!e)return"";if(e instanceof Array)return n.visit_array(e,"");if(e.type){var t=n["visit_"+e.type];if(t)return t(e);throw Error("Missing visitor visit_"+e.type)}throw Error("Invalid node.")}},function(e){return n.visit(e)}),(r=r||{}).parse=function(){var e={linearGradient:/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,repeatingLinearGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,radialGradient:/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,repeatingRadialGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},t="";function n(e){var n=new Error(t+": "+e);throw n.source=t,n}function r(){return i("linear-gradient",e.linearGradient,o)||i("repeating-linear-gradient",e.repeatingLinearGradient,o)||i("radial-gradient",e.radialGradient,l)||i("repeating-radial-gradient",e.repeatingRadialGradient,l)}function i(t,r,i){return a(r,(function(r){var a=i();return a&&(m(e.comma)||n("Missing comma before color stops")),{type:t,orientation:a,colorStops:d(h)}}))}function a(t,r){var i=m(t);if(i){m(e.startCall)||n("Missing (");var a=r(i);return m(e.endCall)||n("Missing )"),a}}function o(){return b("directional",e.sideOrCorner,1)||b("angular",e.angleValue,1)}function l(){var n,r,i=c();return i&&((n=[]).push(i),r=t,m(e.comma)&&((i=c())?n.push(i):t=r)),n}function c(){var e,t,n=((t=b("shape",/^(circle)/i,0))&&(t.style=_()||s()),t||((e=b("shape",/^(ellipse)/i,0))&&(e.style=p()||s()),e));if(n)n.at=u();else{var r=s();if(r){n=r;var i=u();i&&(n.at=i)}else{var a=f();a&&(n={type:"default-radial",at:a})}}return n}function s(){return b("extent-keyword",e.extentKeywords,1)}function u(){if(b("position",/^at/,0)){var e=f();return e||n("Missing positioning value"),e}}function f(){var e={x:p(),y:p()};if(e.x||e.y)return{type:"position",value:e}}function d(t){var r=t(),i=[];if(r)for(i.push(r);m(e.comma);)(r=t())?i.push(r):n("One extra comma");return i}function h(){var t=b("hex",e.hexColor,1)||a(e.rgbaColor,(function(){return{type:"rgba",value:d(g)}}))||a(e.rgbColor,(function(){return{type:"rgb",value:d(g)}}))||b("literal",e.literalColor,0);return t||n("Expected color definition"),t.length=p(),t}function g(){return m(e.number)[1]}function p(){return b("%",e.percentageValue,1)||b("position-keyword",e.positionKeywords,1)||_()}function _(){return b("px",e.pixelValue,1)||b("em",e.emValue,1)}function b(e,t,n){var r=m(t);if(r)return{type:e,value:r[n]}}function m(e){var n,r;return(r=/^[\n\r\t\s]+/.exec(t))&&v(r[0].length),(n=e.exec(t))&&v(n[0].length),n}function v(e){t=t.substr(e)}return function(e){return t=e.toString(),i=d(r),t.length>0&&n("Invalid input not EOF"),i;var i}}(),t.K=r.parse,r.stringify},7308:()=>{const e=new WeakMap,t=navigator.userAgent.toLowerCase().indexOf("firefox")>-1?5e6:1e7;function n(e,t,n,r,i){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}let r=0,i=0,a=performance.now();const o=(e,...t)=>e.map(((e,n)=>[e,t[n]])).flat().filter((e=>!!e)).join("");function l(e,t,n){const r=n.value,i=Symbol("regular-table throttle lock");return n.value=async function(...e){if(void 0!==this[i]&&(await this[i],void 0!==this[i]))return void await this[i];let t;this[i]=(()=>{let e;const t=new Promise((t=>{e=t}));return t.resolve=e,t})();try{t=await r.call(this,...e)}finally{const e=this[i];this[i]=void 0,e.resolve()}return t},n.value.flush=async function(){return await new Promise(requestAnimationFrame),await this[i]},n}var c;let s=(n((c=class extends HTMLElement{create_shadow_dom(){this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=o` <style> ${":host{bottom:0;overflow:scroll;overflow-anchor:none;overscroll-behavior:none;-webkit-overflow-scrolling:touch}:host,div.rt-virtual-panel{position:absolute;top:0;left:0;right:0}div.rt-virtual-panel{pointer-events:none}div.rt-scroll-table-clip{position:sticky;contain:strict;overflow-anchor:none;width:100%;height:100%}div.rt-tree-container{display:flex;align-items:center;height:100%}slot{position:absolute;overflow:hidden;overflow-anchor:none}"} </style> <style> ${":host ::slotted(table){--regular-table--transform-x:0px;--regular-table--transform-y:0px;--regular-table--clip-x:0px;--regular-table--clip-y:0px}"} </style> <div class="rt-virtual-panel"></div> <div class="rt-scroll-table-clip"> ${"<slot></slot>"} </div> `;const[,e,t,n]=this.shadowRoot.children;this._sub_cell_style=e,this._table_clip=n,this._virtual_panel=t,this._setup_virtual_scroll()}_setup_virtual_scroll(){this._table_clip&&("both"===this._virtual_mode||"vertical"===this._virtual_mode?this._table_clip.style.top="0px":this._table_clip.style.removeProperty("top"),"both"===this._virtual_mode||"horizontal"===this._virtual_mode?this._table_clip.style.left="0px":this._table_clip.style.removeProperty("left"),"both"!==this._virtual_mode?this._table_clip.style.contain="none":this._table_clip.style.removeProperty("contain"))}_calculate_viewport(e,t){const{start_row:n,end_row:r}=this._calculate_row_range(e),{start_col:i,end_col:a}=this._calculate_column_range(t);return this._nrows=e,{start_col:i,end_col:a,start_row:n,end_row:r}}_calculate_row_range(e){const{height:t}=this._container_size,n=this._column_sizes.row_height||19,r=this._view_cache.config.column_pivots.length,i=Math.max(1,this._virtual_panel.offsetHeight-this.clientHeight),a=Math.max(Math.ceil(this.scrollTop),0)/i,o=t/n-r,l=e||0,c=Math.max(0,Math.ceil(l-o))*a;return{start_row:c,end_row:Math.max(0,Math.min(c+o,e))}}_calc_start_column(){const e=this._view_cache.config.row_pivots.length;let t=0,n=0,r=0;for(;n<this.scrollLeft;){const i=this._column_sizes.indices[t+e];r=this.scrollLeft-n,t+=1,n+=void 0!==i?i:60}return t+=r/(this._column_sizes.indices[t+e-1]||60),Math.max(0,t-1)}_calculate_column_range(e){if("none"===this._virtual_mode||"vertical"===this._virtual_mode)return{start_col:0,end_col:1/0};{const t=this._calc_start_column();return{start_col:t,end_col:t+(this.table_model.num_columns()||Math.min(e,Math.ceil(this._container_size.width/60)))+1}}}_max_scroll_column(e){let t=0;if(this._view_cache.config.row_pivots.length>0)for(const e of this._column_sizes.indices.slice(0,this._view_cache.config.row_pivots.length))t+=e;let n=this._view_cache.config.row_pivots.length,r=e;for(;t<this._container_size.width&&r>=0;)r--,t+=this._column_sizes.indices[r+n]||60;return Math.min(e-1,r+1)}_validate_viewport({start_col:e,end_col:t,start_row:n,end_row:r}){n=Math.floor(n),r=Math.ceil(r),e=Math.floor(e),t=Math.ceil(t);const i=this._start_col!==e,a=this._start_row!==n||this._end_row!==r||this._end_col!==t;return this._start_col=e,this._end_col=t,this._start_row=n,this._end_row=r,{invalid_column:i,invalid_row:a}}_calc_scrollable_column_width(e){let t=this._view_cache.config.row_pivots.length;const n=this._max_scroll_column(e);let r=t,i=0;for(;r<n+t;)i+=this._column_sizes.indices[r]||60,r++;return i}_update_virtual_panel_width(e,t){if(e)if("vertical"===this._virtual_mode||"none"===this._virtual_mode)this._virtual_panel.style.width=this._column_sizes.indices.reduce(((e,t)=>e+t),0)+"px";else{const e=this._calc_scrollable_column_width(t);if(0!==e){const t=this._container_size.width+e+2;this._virtual_panel.style.width=t+"px"}else this._virtual_panel.style.width="1px"}}_update_virtual_panel_height(e){const{row_height:n=19}=this._column_sizes,r=this._view_cache.config.column_pivots.length*n;let i;if("horizontal"===this._virtual_mode||"none"===this._virtual_mode)i=e*n+r;else{const a=this.clientHeight/(this._table_clip.offsetHeight-r);i=Math.min(t,e*n*a)}this._virtual_panel.style.height=i+"px"}async draw(e={}){const t=performance.now(),{invalid_viewport:n=!0,preserve_width:a=!1}=e,{num_columns:o,num_rows:l}=await this._view_cache.view(0,0,0,0);this._container_size={width:"none"===this._virtual_mode||"vertical"===this._virtual_mode?1/0:this._table_clip.clientWidth,height:"none"===this._virtual_mode||"horizontal"===this._virtual_mode?1/0:this._table_clip.clientHeight},this._update_virtual_panel_height(l),a||this._update_virtual_panel_width(n,o);const c=this._calculate_viewport(l,o),{invalid_row:s,invalid_column:u}=this._validate_viewport(c);if(this._invalid_schema||s||u||n){let e=[],t=!0;for await(let n of this.table_model.draw(this._container_size,this._view_cache,this._selected_id,a,c,o)){void 0!==n&&(e=e.concat(n)),t&&(this.update_sub_cell_offset(c),t=!1),this._is_styling=!0;const r=this._style_callbacks;for(const e of r)await e({detail:this});if(this._is_styling=!1,!this._invalidated&&void 0!==n)break;this._invalidated=!1}this.table_model.autosize_cells(e),this.table_model.header.reset_header_cache(),a||this._update_virtual_panel_width(this._invalid_schema||u,o),this._invalid_schema=!1}else this.update_sub_cell_offset(c);var f;f=performance.now()-t,r=(r*i+f)/(i+1),i+=1}update_sub_cell_offset(e){var t;const n=this._column_sizes.row_height*(e.start_row%1)||0,r=this._column_sizes.indices[(this.table_model._row_headers_length||0)+Math.floor(e.start_col)]*(e.start_col%1)||0;let i=null===(t=this._sub_cell_style.sheet)||void 0===t?void 0:t.cssRules[0].style;i&&(i.setProperty("--regular-table--clip-x",r+"px"),i.setProperty("--regular-table--clip-y",n+"px"),i.setProperty("--regular-table--transform-x",`-${r}px`),i.setProperty("--regular-table--transform-y",`-${n}px`))}}).prototype,"draw",[l],Object.getOwnPropertyDescriptor(c.prototype,"draw"),c.prototype),c);var u;let f=(n((u=class extends s{register_listeners(){this.addEventListener("mousedown",this._on_click_or_dblclick.bind(this)),this.addEventListener("scroll",this._on_scroll.bind(this),{passive:!0}),this._register_glitch_scroll_listeners()}_on_scroll(e){e.stopPropagation(),this.draw({invalid_viewport:!1})}_register_glitch_scroll_listeners(){this.addEventListener("mousewheel",this._on_mousewheel.bind(this))}_on_mousewheel(e){if(!window.safari)return;const{clientWidth:t,clientHeight:n,scrollTop:r,scrollLeft:i}=this;e.preventDefault(),e.returnValue=!1;const a=Math.max(1,this._virtual_panel.offsetHeight-n),o=Math.max(1,this._virtual_panel.offsetWidth-t);this.scrollTop=Math.max(0,Math.min(a,r+e.deltaY)),this.scrollLeft=Math.max(0,Math.min(o,i+e.deltaX)),this._on_scroll(e)}_on_touchmove(e){e.stopPropagation(),e.preventDefault(),e.returnValue=!1;const{clientWidth:t,clientHeight:n}=this,r=Math.max(1,this._virtual_panel.offsetHeight-n),i=Math.max(1,this._virtual_panel.offsetWidth-t);this.scrollTop=Math.min(r,this._memo_scroll_top+(this._memo_touch_startY-e.touches[0].pageY)),this.scrollLeft=Math.min(i,this._memo_scroll_left+(this._memo_touch_startX-e.touches[0].pageX)),this._on_scroll(e)}_on_touchstart(e){this._memo_touch_startY=e.touches[0].pageY,this._memo_touch_startX=e.touches[0].pageX,this._memo_scroll_top=this.scrollTop,this._memo_scroll_left=this.scrollLeft}async _on_dblclick(t){let n=t.target;for(;"TD"!==n.tagName&&"TH"!==n.tagName;)if(n=n.parentElement,!this.contains(n))return;const r=t.target.classList.contains("rt-column-resize"),i=e.get(n);if(r){t.stopImmediatePropagation(),n.style.minWidth="",n.style.maxWidth="",t.shiftKey?(this._column_sizes.override=[],this._column_sizes.auto=[],this._column_sizes.indices=[]):(this._column_sizes.override[i.size_key]=void 0,this._column_sizes.auto[i.size_key]=void 0,this._column_sizes.indices[i.size_key]=void 0);for(const e of t.shiftKey?[this.table_model.header.cells[this.table_model.header.cells.length-1],...this.table_model.body.cells]:this.table_model.body.cells)for(const n of t.shiftKey?e:[e[i._virtual_x]])n&&(n.style.minWidth="",n.style.maxWidth="",n.classList.remove("rt-cell-clip"));await this.draw()}}async _on_click(t){if(0!==t.button)return;let n=t.target;for(;"TD"!==n.tagName&&"TH"!==n.tagName;)if(n=n.parentElement,!this.contains(n))return;const r=t.target.classList.contains("rt-column-resize"),i=e.get(n);r&&(this._on_resize_column(t,n,i),t.stopImmediatePropagation())}async _on_click_or_dblclick(e){const t=performance.now();this._last_clicked_time&&t-this._last_clicked_time<500?(this._last_clicked_time=t,await this._on_dblclick(e)):(this._last_clicked_time=t,await this._on_click(e))}_on_resize_column(e,t,n){const{_virtual_x:r,size_key:i}=n,a=e.pageX,o=r+t.colSpan-1,l=this.table_model.header.get_column_header(o),c=this._column_sizes.indices[i],s=e=>this._on_resize_column_move(e,l,a,c,i,o),u=()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",u);const e=this._column_sizes.override[i],t=this._column_sizes.indices[i]!==e;this._column_sizes.indices[i]=e,t&&this.draw()};document.addEventListener("mousemove",s),document.addEventListener("mouseup",u)}async _on_resize_column_move(e,t,n,r,i,a){await new Promise(setTimeout);const o=e.pageX-n,l=Math.max(1,r+o);if(this._column_sizes.override[i]=l,o<0)await this.draw({preserve_width:!0});else{t.style.minWidth=l+"px",t.style.maxWidth=l+"px";const e=this._column_sizes.auto[i];for(const t of this.table_model.body.cells){const n=t[a];n&&(n.style.maxWidth=n.style.minWidth=l+"px",n.classList.toggle("rt-cell-clip",e>l))}}}}).prototype,"_on_resize_column_move",[l],Object.getOwnPropertyDescriptor(u.prototype,"_on_resize_column_move"),u.prototype),u);class d{constructor(e){this._name=e,this._elements=[],this._index=0}reset(){this._index=0}get(){this._elements[this._index]||(this._elements[this._index]=document.createElement(this._name));const e=this._elements[this._index];return this._index+=1,e}}class h{constructor(e,t,n){this._column_sizes=e,this._container=t,this._span_factory=new d("span"),this.table=n,this.cells=[],this.rows=[]}num_columns(){return this._get_row(Math.max(0,this.rows.length-1)).row_container.length}num_rows(){return this.cells.length}_set_metadata(t,n){e.set(t,n)}_get_or_create_metadata(t){if(void 0===t)return{};if(e.has(t))return e.get(t);{const n={};return e.set(t,n),n}}_replace_cell(e,t){const{tr:n,row_container:r}=this._get_row(e);let i=r[t];return i&&(n.removeChild(i),r.splice(t,1,void 0)),i}_fetch_cell(e,t){if(e<0||t<0)return;const{row_container:n}=this._get_row(e);return n[t]}_get_cell(e="TD",t,n){const{tr:r,row_container:i}=this._get_row(t);let a=i[n];if(a||(n<i.length?(a=i[n]=document.createElement(e),r.insertBefore(a,i.slice(n+1).find((e=>e)))):(a=i[n]=document.createElement(e),r.appendChild(a))),a.tagName!==e){const i=document.createElement(e);r.replaceChild(i,a),this.cells[t].splice(n,1,i),a=i}return a}_get_row(e){let t=this.rows[e];t||(t=this.rows[e]=document.createElement("tr"),this.table.appendChild(t));let n=this.cells[e];return n||(n=this.cells[e]=[]),{tr:t,row_container:n}}_clean_columns(e){for(let t=0;t<this.rows.length;t++){const n=this.rows[t],r=this.cells[t];this.cells[t]=r.slice(0,e[t]||e);const i=this.cells[t].filter((e=>void 0!==e)).length;for(;n.children[i];)n.removeChild(n.children[i])}}_clean_rows(e){for(;this.table.children[e];)this.table.removeChild(this.table.children[e]);this.rows=this.rows.slice(0,e),this.cells=this.cells.slice(0,e)}}class g extends h{constructor(...e){super(...e),this._group_header_cache=[],this._offset_cache=[]}_draw_group_th(e,t,n){const r=this._get_cell("TH",t,e[t]||0);if(e[t]+=1,r.removeAttribute("colspan"),r.style.minWidth="0",r.textContent="",n instanceof HTMLElement)r.appendChild(n);else{const e=this._span_factory.get("span");e.textContent=n,r.appendChild(e)}const i=this._span_factory.get("span");return i.className="rt-column-resize",r.appendChild(i),r}_draw_group(e,t,n){const r=this._get_or_create_metadata(n);return r.column_header=e,r.value=t,r.value=t,r}_draw_th(e,t,n,r,i){const a=this._get_or_create_metadata(n);if(a.column_header=e,a.value=t,a.size_key=i.length?i[0]:i,!(i.length>1)){const e=this._column_sizes.override[a.size_key],t=this._column_sizes.auto[a.size_key];e?(n.classList.toggle("rt-cell-clip",t>e),n.style.minWidth=e+"px",n.style.maxWidth=e+"px"):t?(n.classList.remove("rt-cell-clip"),n.style.maxWidth="",n.style.minWidth=t+"px"):(n.style.maxWidth="",n.style.maxWidth="")}return a}get_column_header(e){return this._get_cell("TH",this.num_rows()-1,e)}draw(e,t,n,r,i,a,o){const l=null==t?void 0:t.length;if(0===l)return;let c,s,u;for(let g=0;g<l;g++){if(u=t[g]?t[g]:"",this._offset_cache[g]=this._offset_cache[g]||0,g<l-1){var f,d,h;(null===(f=this._group_header_cache)||void 0===f||null===(d=f[g])||void 0===d||null===(h=d[0])||void 0===h?void 0:h.value)===u?(c=this._group_header_cache[g][1],this._group_header_cache[g][2]+=1,1===n&&(this._group_header_cache[g][0].row_header_x=i),c.setAttribute("colspan",this._group_header_cache[g][2])):(c=this._draw_group_th(this._offset_cache,g,u),s=this._draw_group(t,u,c),this._group_header_cache[g]=[s,c,1])}else{c=this._draw_group_th(this._offset_cache,g,u),s=this._draw_th(e||t,u,c,r,i);for(const[e]of this._group_header_cache)e.size_key=s.size_key;c.removeAttribute("colspan")}c.classList.toggle("rt-group-corner",void 0===r),s&&(s.x=void 0===r?r:Math.floor(r),s.column_header_y=g,s.x0=Math.floor(a),s._virtual_x=o,1===n&&(s.row_header_x=i))}return this._clean_rows(this._offset_cache.length),{th:c,metadata:s}}clean(){this._clean_columns(this._offset_cache)}reset_header_cache(){this._offset_cache=[],this._group_header_cache=[]}}class p extends h{_draw_td(e,t,n,r,{column_name:i},{ridx_offset:a},o){const l=this._get_cell(e,t,r),c=this._get_or_create_metadata(l);c.y=t+Math.floor(a),c.size_key=o,"TD"===e&&(c.column_header=i);const s=this._column_sizes.override[c.size_key];if(s){const e=this._column_sizes.auto[c.size_key];l.classList.toggle("rt-cell-clip",e>s),l.style.minWidth=s+"px",l.style.maxWidth=s+"px"}else l.classList.remove("rt-cell-clip"),l.style.minWidth="",l.style.maxWidth="";return c.value!==n&&(n instanceof HTMLElement?(l.textContent="",l.appendChild(n)):l.textContent=n),c.value=n,{td:l,metadata:c}}draw(e,t,n,r=!1,i,a,o){const{cidx:l,column_data:c,row_headers:s,column_data_listener_metadata:u}=t;let f,{row_height:d}=n;const h=[],g=[];let p=0;const _=[];for(let m=0;m<(r?n.row_headers_length:1);m++){p=0;for(const v of c){var b;const c=null==s?void 0:s[p];let y;if(r){const e=v[m],r=this._fetch_cell(p-(h[m]||1),l+m),i=this._get_or_create_metadata(r),o=this._fetch_cell(p,l+m-(_[p]||1)),c=this._get_or_create_metadata(o);!o||c.value!==e&&void 0!==e||o.hasAttribute("rowspan")?r&&i.value===e&&!r.hasAttribute("colspan")?(h[m]=h[m]?h[m]+1:2,r.setAttribute("rowspan",h[m]),this._replace_cell(p,l+m)):(y=this._draw_td("TH",p,e,l+m,t,n,m),y.td.style.display="",y.td.removeAttribute("rowspan"),y.td.removeAttribute("colspan"),y.metadata.row_header=v,y.metadata.row_header_x=m,y.metadata.y0=Math.floor(n.ridx_offset),y.metadata.y1=Math.ceil(n.y1),y.metadata._virtual_x=m,void 0!==a&&(y.metadata.x0=Math.floor(a)),h[m]=1,_[p]=1,g[m]=y):(_[p]=_[p]?_[p]+1:2,o.setAttribute("colspan",_[p]),this._replace_cell(p,l+m))}else y=this._draw_td("TD",p,v,l,t,n,o),u&&(y.metadata.user=u[p]),y.metadata.x=void 0===i?i:Math.floor(i),y.metadata.x1=Math.ceil(n.x1),y.metadata.row_header=c||[],y.metadata.y0=Math.floor(n.ridx_offset),y.metadata.y1=Math.ceil(n.y1),y.metadata.dx=Math.floor(i-a),y.metadata.dy=y.metadata.y-Math.floor(y.metadata.y0),y.metadata._virtual_x=l,void 0!==a&&(y.metadata.x0=Math.floor(a)),g[0]=y;if(p++,f=y?y.metadata:f,d=d||(null===(b=y)||void 0===b?void 0:b.td.offsetHeight),p*d>e)break}}return this._clean_rows(p),{tds:g,ridx:p,metadata:f,row_height:d}}clean({ridx:e,cidx:t}){this._clean_rows(e),this._clean_columns(t)}}class _{constructor(e,t,n){this.clear(n);const[r]=n.children,[i,a]=r.children;this.table=r,this._column_sizes=t,this.header=new g(t,e,i),this.body=new p(t,e,a),this.fragment=document.createDocumentFragment()}num_columns(){return this.header.num_columns()}clear(e){e.innerHTML=o` <table cellspacing="0"> <thead></thead> <tbody></tbody> </table> `}autosize_cells(e){for(;e.length>0;){const[t,n,r]=e.pop();let i;const a=getComputedStyle(t);"border-box"!==a.boxSizing?(i=t.clientWidth,i-=a.paddingLeft?parseFloat(a.paddingLeft):0,i-=a.paddingRight?parseFloat(a.paddingRight):0):i=parseFloat(a.width),this._column_sizes.row_height=this._column_sizes.row_height||r.offsetHeight,this._column_sizes.indices[n.size_key]=i;const o=void 0!==this._column_sizes.override[n.size_key];i&&!o&&(this._column_sizes.auto[n.size_key]=i),"0px"===t.style.minWidth&&(t.style.minWidth=i+"px")}}async*draw(e,t,n,r,i,a){var o,l,c,s;const{width:u,height:f}=e,{view:d,config:h}=t;let{data:g,row_headers:p,column_headers:_,metadata:b}=await d(Math.floor(i.start_col),Math.floor(i.start_row),Math.ceil(i.end_col),Math.ceil(i.end_row));const{start_row:m=0,start_col:v=0,end_col:y=0,end_row:w=0}=i;p&&(this._row_headers_length=p.reduce(((e,t)=>Math.max(e,t.length)),0),p=p.map((e=>(e.length=this._row_headers_length,e)))),t.config.column_pivots=Array.from(Array((null==_||null===(o=_[0])||void 0===o?void 0:o.length)||0).keys()),t.config.row_pivots=Array.from(Array((null===(l=p)||void 0===l||null===(c=l[0])||void 0===c?void 0:c.length)||0).keys());const x={viewport_width:0,selected_id:n,ridx_offset:m,sub_cell_offset:this._column_sizes.indices[(this._row_headers_length||0)+Math.floor(i.start_col)]||0,x0:v,x1:y,y1:w,row_height:this._column_sizes.row_height,row_headers_length:this._row_headers_length};let k,S=0,M=[],A=!0;if((null===(s=p)||void 0===s?void 0:s.length)>0){const e=h.row_pivots.join(","),n={column_name:e,cidx:0,column_data:p,row_headers:p,first_col:A},i=S+Math.floor(v);k=this.body.draw(f,n,{...x,x0:0},!0,void 0,void 0,i);const a=[];for(let n=0;n<t.config.row_pivots.length;n++){const r=this.header.draw(e,Array(t.config.column_pivots.length).fill(""),1,void 0,n,v,n);r&&a.push(r)}if(A=!1,x.viewport_width+=a.reduce(((e,{th:t},n)=>e+(this._column_sizes.indices[n]||t.offsetWidth)),0),x.row_height=x.row_height||k.row_height,S=p[0].length,!r)for(let e=0;e<t.config.row_pivots.length;e++){const{td:t,metadata:n}=k.tds[e]||{},{th:r,metadata:i}=a[e]||{};(t||r)&&M.push([r||t,i||n,t||r])}}try{var T;let e=0;const t=a-i.start_col;for(;e<t;){if(!g[e]){let t=Math.max(i.end_col,0);i.start_col=t;let n=0,r=0;for(;this._column_sizes.indices.length>S+v+n+1&&r+x.viewport_width<u;)n++,r+=this._column_sizes.indices[S+v+n];if(r+x.viewport_width<u){const e=Math.min(a,t+5);i.end_col=Math.max(1,Math.min(a,e))}else i.end_col=Math.max(1,Math.min(a,t+n));const o=d(Math.floor(i.start_col),Math.floor(i.start_row),Math.ceil(i.end_col),Math.ceil(i.end_row));yield;const l=await o;if(0===l.data.length)return void(yield M);i.end_col=i.start_col+l.data.length;for(let t=0;t<l.data.length;t++){var E;g[e+t]=l.data[t],l.metadata&&(b[e+t]=l.metadata[t]),_&&(_[e+t]=null===(E=l.column_headers)||void 0===E?void 0:E[t])}}const t=(null==_?void 0:_[e])||"",n={column_name:t,cidx:S,column_data:g[e],column_data_listener_metadata:null==b?void 0:b[e],row_headers:p,first_col:A},o=e+v,l=S+Math.floor(v),c=this.header.draw(void 0,t,void 0,o,l,v,S);if(k=this.body.draw(f,n,x,!1,o,v,l),A=!1,!r)for(const{td:e,metadata:t}of k.tds)M.push([(null==c?void 0:c.th)||e,(null==c?void 0:c.metadata)||t,e||(null==c?void 0:c.th)]);const s=this._column_sizes.indices[S+Math.floor(v)];var C;if(x.viewport_width+=s||(null==c||null===(C=c.th)||void 0===C?void 0:C.offsetWidth)||k.tds.reduce(((e,t)=>{var n;return e+(null===(n=t.td)||void 0===n?void 0:n.offsetWidth)}),0),x.row_height=x.row_height||k.row_height,S++,e++,x.viewport_width-x.sub_cell_offset>u){var V;this.body.clean({ridx:(null===(V=k)||void 0===V?void 0:V.ridx)||0,cidx:S}),this.header.clean(),yield M,x.viewport_width=0;for(let[e]of M)x.viewport_width+=e.offsetWidth;if(x.viewport_width-x.sub_cell_offset>u)return}}this.body.clean({ridx:(null===(T=k)||void 0===T?void 0:T.ridx)||0,cidx:S}),this.header.clean(),yield M}finally{var N;this.body.clean({ridx:(null===(N=k)||void 0===N?void 0:N.ridx)||0,cidx:S}),this.header.clean(),this.body._span_factory.reset(),this.header._span_factory.reset()}}}const b=["both","horizontal","vertical","none"];document.createElement("regular-table").constructor===HTMLElement&&window.customElements.define("regular-table",class extends f{constructor(){super(),this._column_sizes={auto:[],override:[],indices:[]},this._style_callbacks=[],this._initialized=!1}connectedCallback(){this._initialized||(this.create_shadow_dom(),this.register_listeners(),this.setAttribute("tabindex","0"),this._initialized=!0,this.table_model=new _(this._table_clip,this._column_sizes,this))}_reset_viewport(){this._start_row=void 0,this._end_row=void 0,this._start_col=void 0,this._end_col=void 0}_reset_scroll(){this._column_sizes.indices=[],this.scrollTop=0,this.scrollLeft=0,this._reset_viewport()}_resetAutoSize(){this._column_sizes.auto=[],this._column_sizes.override=[],this._column_sizes.indices=[];for(let e=0;e<this.table_model.header.num_columns();e++){const t=this.table_model.header.get_column_header(e);t.style.minWidth="",t.style.maxWidth=""}}clear(){this.table_model=new _(this._table_clip,this._column_sizes,this)}addStyleListener(e){this._style_callbacks=this._style_callbacks.concat(e);let t=!0;return()=>{if(!t)return;t=!1;const n=this._style_callbacks=this._style_callbacks.slice(),r=n.indexOf(e);n.splice(r,1)}}invalidate(){if(!this._is_styling)throw new Error("Cannot call `invalidate()` outside of a `StyleListener`");this._invalidated=!0}getMeta(t){if(void 0!==t){if(t instanceof HTMLElement)return e.get(t);if(t.row_header_x>=0){if(t.row_header_x<this._view_cache.config.row_pivots.length){const e=this.table_model.body._fetch_cell(t.y,t.row_header_x);return this.getMeta(e)}}else{if(!(t.column_header_y>=0))return this.getMeta(this.table_model.body._fetch_cell(t.dy,t.dx+this.table_model._row_headers_length));if(t.column_header_y<this._view_cache.config.column_pivots.length){const e=this.table_model.body._fetch_cell(t.column_header_y,t.y);return this.getMeta(e)}}}}getDrawFPS(){return function(){const e=performance.now(),t=e-a,n=r,o=1e3*i/t,l=i;return r=0,i=0,a=e,{avg:n,real_fps:o,virtual_fps:1e3/n,num_frames:l,elapsed:t}}()}async scrollToCell(e,t){if(!this._view_cache)return void console.warn("data listener not configured");const n=this._column_sizes.row_height||19,r=this._view_cache.config.column_pivots.length*n,i=(this._table_clip.offsetHeight-r)%n;let a=(this._virtual_panel.offsetHeight-i)/this._nrows;this.scrollTop=Math.ceil(a*t);let o=0;for(;e>0;)e--,o+=this._column_sizes.indices[e+this._view_cache.config.row_pivots.length]||60;this.scrollLeft=Math.ceil(o),await new Promise(requestAnimationFrame),await this.draw.flush()}setDataListener(e,{virtual_mode:t="both"}={}){console.assert(b.indexOf(t)>-1,`Unknown virtual_mode ${t};  valid options are "both" (default), "horizontal", "vertical" or "none"`),this._virtual_mode=t,this._invalid_schema=!0,this._view_cache={view:e,config:{row_pivots:[],column_pivots:[]},schema:{}},this._setup_virtual_scroll()}__noop_jsdoc_hints(){}})},4488:e=>{"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},3312:(e,t,n)=>{"use strict";function r(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}n.d(t,{c:()=>r})},8124:(e,t,n)=>{"use strict";n.d(t,{_2:()=>s,aM:()=>l,cp:()=>u,iI:()=>c});var r=n(3312),i=n(864),a=n(2152);const o=(0,i.c)(r.c),l=o.right,c=o.left,s=(0,i.c)(a.c).center,u=l},864:(e,t,n)=>{"use strict";n.d(t,{c:()=>a});var r=n(3312),i=n(3480);function a(e){let t,n,a;function l(e,r,i=0,a=e.length){if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=r.c,n=(t,n)=>(0,r.c)(e(t),n),a=(t,n)=>e(t)-n):(t=e===r.c||e===i.c?e:o,n=e,a=e),{left:l,center:function(e,t,n=0,r=e.length){const i=l(e,t,n,r-1);return i>n&&a(e[i-1],t)>-a(e[i],t)?i-1:i},right:function(e,r,i=0,a=e.length){if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<=0?i=t+1:a=t}while(i<a)}return i}}}function o(){return 0}},3480:(e,t,n)=>{"use strict";function r(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}n.d(t,{c:()=>r})},5448:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(3312);function i(e,t=r.c){let n,i=!1;if(1===t.length){let a;for(const o of e){const e=t(o);(i?(0,r.c)(e,a)>0:0===(0,r.c)(e,e))&&(n=o,a=e,i=!0)}}else for(const r of e)(i?t(r,n)>0:0===t(r,r))&&(n=r,i=!0);return n}},3418:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Adder:()=>k,InternMap:()=>A.S,InternSet:()=>A.C,ascending:()=>i.c,bin:()=>q,bisect:()=>r.cp,bisectCenter:()=>r._2,bisectLeft:()=>r.iI,bisectRight:()=>r.aM,bisector:()=>a.c,blur:()=>o,blur2:()=>l,blurImage:()=>c,count:()=>h,cross:()=>b,cumsum:()=>m,descending:()=>v.c,deviation:()=>w,difference:()=>Ce,disjoint:()=>Ve,every:()=>ke,extent:()=>x,fcumsum:()=>M,filter:()=>Me,flatGroup:()=>N,flatRollup:()=>z,fsum:()=>S,greatest:()=>ge.c,greatestIndex:()=>pe,group:()=>E,groupSort:()=>F,groups:()=>C,histogram:()=>q,index:()=>L,indexes:()=>O,intersection:()=>Ne,least:()=>de,leastIndex:()=>he,map:()=>Ae,max:()=>Q.c,maxIndex:()=>Z.c,mean:()=>J,median:()=>ee,medianIndex:()=>te,merge:()=>ne,min:()=>re.c,minIndex:()=>ie.c,mode:()=>ae,nice:()=>U,pairs:()=>oe,permute:()=>ce.c,quantile:()=>G.cp,quantileIndex:()=>G.wR,quantileSorted:()=>G.Ub,quickselect:()=>se.c,range:()=>ue.c,rank:()=>fe,reduce:()=>Te,reverse:()=>Ee,rollup:()=>D,rollups:()=>P,scan:()=>_e,shuffle:()=>be,shuffler:()=>me,some:()=>Se,sort:()=>B.cp,subset:()=>Le,sum:()=>ve,superset:()=>De,thresholdFreedmanDiaconis:()=>X,thresholdScott:()=>K,thresholdSturges:()=>W,tickIncrement:()=>H.uy,tickStep:()=>H.El,ticks:()=>H.cp,transpose:()=>ye,union:()=>Oe,variance:()=>y,zip:()=>xe});var r=n(8124),i=n(3312),a=n(864);function o(e,t){if(!((t=+t)>=0))throw new RangeError("invalid r");let n=e.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!t)return e;const r=d(t),i=e.slice();return r(e,i,0,n,1),r(i,e,0,n,1),r(e,i,0,n,1),e}const l=s(d),c=s((function(e){const t=d(e);return(e,n,r,i,a)=>{t(e,n,0+(r<<=2),0+(i<<=2),a<<=2),t(e,n,r+1,i+1,a),t(e,n,r+2,i+2,a),t(e,n,r+3,i+3,a)}}));function s(e){return function(t,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:a,height:o}=t;if(!((a=Math.floor(a))>=0))throw new RangeError("invalid width");if(!((o=Math.floor(void 0!==o?o:i.length/a))>=0))throw new RangeError("invalid height");if(!a||!o||!n&&!r)return t;const l=n&&e(n),c=r&&e(r),s=i.slice();return l&&c?(u(l,s,i,a,o),u(l,i,s,a,o),u(l,s,i,a,o),f(c,i,s,a,o),f(c,s,i,a,o),f(c,i,s,a,o)):l?(u(l,i,s,a,o),u(l,s,i,a,o),u(l,i,s,a,o)):c&&(f(c,i,s,a,o),f(c,s,i,a,o),f(c,i,s,a,o)),t}}function u(e,t,n,r,i){for(let a=0,o=r*i;a<o;)e(t,n,a,a+=r,1)}function f(e,t,n,r,i){for(let a=0,o=r*i;a<r;++a)e(t,n,a,a+o,r)}function d(e){const t=Math.floor(e);if(t===e)return function(e){const t=2*e+1;return(n,r,i,a,o)=>{if(!((a-=o)>=i))return;let l=e*r[i];const c=o*e;for(let e=i,t=i+c;e<t;e+=o)l+=r[Math.min(a,e)];for(let e=i,s=a;e<=s;e+=o)l+=r[Math.min(a,e+c)],n[e]=l/t,l-=r[Math.max(i,e-c)]}}(e);const n=e-t,r=2*e+1;return(e,i,a,o,l)=>{if(!((o-=l)>=a))return;let c=t*i[a];const s=l*t,u=s+l;for(let e=a,t=a+s;e<t;e+=l)c+=i[Math.min(o,e)];for(let t=a,f=o;t<=f;t+=l)c+=i[Math.min(o,t+s)],e[t]=(c+n*(i[Math.max(a,t-u)]+i[Math.min(o,t+u)]))/r,c-=i[Math.max(a,t-s)]}}function h(e,t){let n=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&++n;else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(i=+i)>=i&&++n}return n}function g(e){return 0|e.length}function p(e){return!(e>0)}function _(e){return"object"!=typeof e||"length"in e?e:Array.from(e)}function b(...e){const t="function"==typeof e[e.length-1]&&function(e){return t=>e(...t)}(e.pop()),n=(e=e.map(_)).map(g),r=e.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(p))return a;for(;;){a.push(i.map(((t,n)=>e[n][t])));let o=r;for(;++i[o]===n[o];){if(0===o)return t?a.map(t):a;i[o--]=0}}}function m(e,t){var n=0,r=0;return Float64Array.from(e,void 0===t?e=>n+=+e||0:i=>n+=+t(i,r++,e)||0)}var v=n(3480);function y(e,t){let n,r=0,i=0,a=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(n=t-i,i+=n/++r,a+=n*(t-i));else{let o=-1;for(let l of e)null!=(l=t(l,++o,e))&&(l=+l)>=l&&(n=l-i,i+=n/++r,a+=n*(l-i))}if(r>1)return a/(r-1)}function w(e,t){const n=y(e,t);return n?Math.sqrt(n):n}function x(e,t){let n,r;if(void 0===t)for(const t of e)null!=t&&(void 0===n?t>=t&&(n=r=t):(n>t&&(n=t),r<t&&(r=t)));else{let i=-1;for(let a of e)null!=(a=t(a,++i,e))&&(void 0===n?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class k{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=t[r],a=e+i,o=Math.abs(e)<Math.abs(i)?e-(a-i):i-(a-e);o&&(t[n++]=o),e=a}return t[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let t,n,r,i=this._n,a=0;if(i>0){for(a=e[--i];i>0&&(t=a,n=e[--i],a=t+n,r=n-(a-t),!r););i>0&&(r<0&&e[i-1]<0||r>0&&e[i-1]>0)&&(n=2*r,t=a+n,n==t-a&&(a=t))}return a}}function S(e,t){const n=new k;if(void 0===t)for(let t of e)(t=+t)&&n.add(t);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&n.add(i)}return+n}function M(e,t){const n=new k;let r=-1;return Float64Array.from(e,void 0===t?e=>n.add(+e||0):i=>n.add(+t(i,++r,e)||0))}var A=n(5584);function T(e){return e}function E(e,...t){return R(e,T,T,t)}function C(e,...t){return R(e,Array.from,T,t)}function V(e,t){for(let n=1,r=t.length;n<r;++n)e=e.flatMap((e=>e.pop().map((([t,n])=>[...e,t,n]))));return e}function N(e,...t){return V(C(e,...t),t)}function z(e,t,...n){return V(P(e,t,...n),n)}function D(e,t,...n){return R(e,T,t,n)}function P(e,t,...n){return R(e,Array.from,t,n)}function L(e,...t){return R(e,T,I,t)}function O(e,...t){return R(e,Array.from,I,t)}function I(e){if(1!==e.length)throw new Error("duplicate key");return e[0]}function R(e,t,n,r){return function e(i,a){if(a>=r.length)return n(i);const o=new A.S,l=r[a++];let c=-1;for(const e of i){const t=l(e,++c,i),n=o.get(t);n?n.push(e):o.set(t,[e])}for(const[t,n]of o)o.set(t,e(n,a));return t(o)}(e,0)}var B=n(4804);function F(e,t,n){return(2!==t.length?(0,B.cp)(D(e,t,n),(([e,t],[n,r])=>(0,i.c)(t,r)||(0,i.c)(e,n))):(0,B.cp)(E(e,n),(([e,n],[r,a])=>t(n,a)||(0,i.c)(e,r)))).map((([e])=>e))}var Y=Array.prototype,j=Y.slice;function $(e){return()=>e}Y.map;var H=n(8064);function U(e,t,n){let r;for(;;){const i=(0,H.uy)(e,t,n);if(i===r||0===i||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function W(e){return Math.max(1,Math.ceil(Math.log(h(e))/Math.LN2)+1)}function q(){var e=T,t=x,n=W;function i(i){Array.isArray(i)||(i=Array.from(i));var a,o,l,c=i.length,s=new Array(c);for(a=0;a<c;++a)s[a]=e(i[a],a,i);var u=t(s),f=u[0],d=u[1],h=n(s,f,d);if(!Array.isArray(h)){const e=d,n=+h;if(t===x&&([f,d]=U(f,d,n)),(h=(0,H.cp)(f,d,n))[0]<=f&&(l=(0,H.uy)(f,d,n)),h[h.length-1]>=d)if(e>=d&&t===x){const e=(0,H.uy)(f,d,n);isFinite(e)&&(e>0?d=(Math.floor(d/e)+1)*e:e<0&&(d=(Math.ceil(d*-e)+1)/-e))}else h.pop()}for(var g=h.length,p=0,_=g;h[p]<=f;)++p;for(;h[_-1]>d;)--_;(p||_<g)&&(h=h.slice(p,_),g=_-p);var b,m=new Array(g+1);for(a=0;a<=g;++a)(b=m[a]=[]).x0=a>0?h[a-1]:f,b.x1=a<g?h[a]:d;if(isFinite(l)){if(l>0)for(a=0;a<c;++a)null!=(o=s[a])&&f<=o&&o<=d&&m[Math.min(g,Math.floor((o-f)/l))].push(i[a]);else if(l<0)for(a=0;a<c;++a)if(null!=(o=s[a])&&f<=o&&o<=d){const e=Math.floor((f-o)*l);m[Math.min(g,e+(h[e]<=o))].push(i[a])}}else for(a=0;a<c;++a)null!=(o=s[a])&&f<=o&&o<=d&&m[(0,r.cp)(h,o,0,g)].push(i[a]);return m}return i.value=function(t){return arguments.length?(e="function"==typeof t?t:$(t),i):e},i.domain=function(e){return arguments.length?(t="function"==typeof e?e:$([e[0],e[1]]),i):t},i.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:$(Array.isArray(e)?j.call(e):e),i):n},i}var G=n(5127);function X(e,t,n){const r=h(e),i=(0,G.cp)(e,.75)-(0,G.cp)(e,.25);return r&&i?Math.ceil((n-t)/(2*i*Math.pow(r,-1/3))):1}function K(e,t,n){const r=h(e),i=w(e);return r&&i?Math.ceil((n-t)*Math.cbrt(r)/(3.49*i)):1}var Q=n(1976),Z=n(4432);function J(e,t){let n=0,r=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(++n,r+=t);else{let i=-1;for(let a of e)null!=(a=t(a,++i,e))&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function ee(e,t){return(0,G.cp)(e,.5,t)}function te(e,t){return(0,G.wR)(e,.5,t)}function ne(e){return Array.from(function*(e){for(const t of e)yield*t}(e))}var re=n(9660),ie=n(3224);function ae(e,t){const n=new A.S;if(void 0===t)for(let t of e)null!=t&&t>=t&&n.set(t,(n.get(t)||0)+1);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&i>=i&&n.set(i,(n.get(i)||0)+1)}let r,i=0;for(const[e,t]of n)t>i&&(i=t,r=e);return r}function oe(e,t=le){const n=[];let r,i=!1;for(const a of e)i&&n.push(t(r,a)),r=a,i=!0;return n}function le(e,t){return[e,t]}var ce=n(3012),se=n(4872),ue=n(5616);function fe(e,t=i.c){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");let n=Array.from(e);const r=new Float64Array(n.length);2!==t.length&&(n=n.map(t),t=i.c);const a=(e,r)=>t(n[e],n[r]);let o,l;return(e=Uint32Array.from(n,((e,t)=>t))).sort(t===i.c?(e,t)=>(0,B.aM)(n[e],n[t]):(0,B.I5)(a)),e.forEach(((e,t)=>{const n=a(e,void 0===o?e:o);n>=0?((void 0===o||n>0)&&(o=e,l=t),r[e]=l):r[e]=NaN})),r}function de(e,t=i.c){let n,r=!1;if(1===t.length){let a;for(const o of e){const e=t(o);(r?(0,i.c)(e,a)<0:0===(0,i.c)(e,e))&&(n=o,a=e,r=!0)}}else for(const i of e)(r?t(i,n)<0:0===t(i,i))&&(n=i,r=!0);return n}function he(e,t=i.c){if(1===t.length)return(0,ie.c)(e,t);let n,r=-1,a=-1;for(const i of e)++a,(r<0?0===t(i,i):t(i,n)<0)&&(n=i,r=a);return r}var ge=n(5448);function pe(e,t=i.c){if(1===t.length)return(0,Z.c)(e,t);let n,r=-1,a=-1;for(const i of e)++a,(r<0?0===t(i,i):t(i,n)>0)&&(n=i,r=a);return r}function _e(e,t){const n=he(e,t);return n<0?void 0:n}const be=me(Math.random);function me(e){return function(t,n=0,r=t.length){let i=r-(n=+n);for(;i;){const r=e()*i--|0,a=t[i+n];t[i+n]=t[r+n],t[r+n]=a}return t}}function ve(e,t){let n=0;if(void 0===t)for(let t of e)(t=+t)&&(n+=t);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function ye(e){if(!(i=e.length))return[];for(var t=-1,n=(0,re.c)(e,we),r=new Array(n);++t<n;)for(var i,a=-1,o=r[t]=new Array(i);++a<i;)o[a]=e[a][t];return r}function we(e){return e.length}function xe(){return ye(arguments)}function ke(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");let n=-1;for(const r of e)if(!t(r,++n,e))return!1;return!0}function Se(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");let n=-1;for(const r of e)if(t(r,++n,e))return!0;return!1}function Me(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of e)t(i,++r,e)&&n.push(i);return n}function Ae(e,t){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof t)throw new TypeError("mapper is not a function");return Array.from(e,((n,r)=>t(n,r,e)))}function Te(e,t,n){if("function"!=typeof t)throw new TypeError("reducer is not a function");const r=e[Symbol.iterator]();let i,a,o=-1;if(arguments.length<3){if(({done:i,value:n}=r.next()),i)return;++o}for(;({done:i,value:a}=r.next()),!i;)n=t(n,a,++o,e);return n}function Ee(e){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(e).reverse()}function Ce(e,...t){e=new A.C(e);for(const n of t)for(const t of n)e.delete(t);return e}function Ve(e,t){const n=t[Symbol.iterator](),r=new A.C;for(const t of e){if(r.has(t))return!1;let e,i;for(;({value:e,done:i}=n.next())&&!i;){if(Object.is(t,e))return!1;r.add(e)}}return!0}function Ne(e,...t){e=new A.C(e),t=t.map(ze);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function ze(e){return e instanceof A.C?e:new A.C(e)}function De(e,t){const n=e[Symbol.iterator](),r=new Set;for(const e of t){const t=Pe(e);if(r.has(t))continue;let i,a;for(;({value:i,done:a}=n.next());){if(a)return!1;const e=Pe(i);if(r.add(e),Object.is(t,e))break}}return!0}function Pe(e){return null!==e&&"object"==typeof e?e.valueOf():e}function Le(e,t){return De(t,e)}function Oe(...e){const t=new A.C;for(const n of e)for(const e of n)t.add(e);return t}},1976:(e,t,n)=>{"use strict";function r(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}n.d(t,{c:()=>r})},4432:(e,t,n)=>{"use strict";function r(e,t){let n,r=-1,i=-1;if(void 0===t)for(const t of e)++i,null!=t&&(n<t||void 0===n&&t>=t)&&(n=t,r=i);else for(let a of e)null!=(a=t(a,++i,e))&&(n<a||void 0===n&&a>=a)&&(n=a,r=i);return r}n.d(t,{c:()=>r})},9660:(e,t,n)=>{"use strict";function r(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n>t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}n.d(t,{c:()=>r})},3224:(e,t,n)=>{"use strict";function r(e,t){let n,r=-1,i=-1;if(void 0===t)for(const t of e)++i,null!=t&&(n>t||void 0===n&&t>=t)&&(n=t,r=i);else for(let a of e)null!=(a=t(a,++i,e))&&(n>a||void 0===n&&a>=a)&&(n=a,r=i);return r}n.d(t,{c:()=>r})},2152:(e,t,n)=>{"use strict";function r(e){return null===e?NaN:+e}function*i(e,t){if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(yield t);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}n.d(t,{T:()=>i,c:()=>r})},3012:(e,t,n)=>{"use strict";function r(e,t){return Array.from(t,(t=>e[t]))}n.d(t,{c:()=>r})},5127:(e,t,n)=>{"use strict";n.d(t,{Ub:()=>d,cp:()=>f,wR:()=>h});var r=n(1976),i=n(4432),a=n(9660),o=n(3224),l=n(4872),c=n(2152),s=n(4804),u=n(5448);function f(e,t,n){if((i=(e=Float64Array.from((0,c.T)(e,n))).length)&&!isNaN(t=+t)){if(t<=0||i<2)return(0,a.c)(e);if(t>=1)return(0,r.c)(e);var i,o=(i-1)*t,s=Math.floor(o),u=(0,r.c)((0,l.c)(e,s).subarray(0,s+1));return u+((0,a.c)(e.subarray(s+1))-u)*(o-s)}}function d(e,t,n=c.c){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e);return o+(+n(e[a+1],a+1,e)-o)*(i-a)}}function h(e,t,n=c.c){if(!isNaN(t=+t)){if(r=Float64Array.from(e,((t,r)=>(0,c.c)(n(e[r],r,e)))),t<=0)return(0,o.c)(r);if(t>=1)return(0,i.c)(r);var r,a=Uint32Array.from(e,((e,t)=>t)),f=r.length-1,d=Math.floor(f*t);return(0,l.c)(a,d,0,f,((e,t)=>(0,s.aM)(r[e],r[t]))),(d=(0,u.c)(a.subarray(0,d+1),(e=>r[e])))>=0?d:-1}}},4872:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(4804);function i(e,t,n=0,o=1/0,l){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),o=Math.floor(Math.min(e.length-1,o)),!(n<=t&&t<=o))return e;for(l=void 0===l?r.aM:(0,r.I5)(l);o>n;){if(o-n>600){const r=o-n+1,a=t-n+1,c=Math.log(r),s=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*s*(r-s)/r)*(a-r/2<0?-1:1);i(e,t,Math.max(n,Math.floor(t-a*s/r+u)),Math.min(o,Math.floor(t+(r-a)*s/r+u)),l)}const r=e[t];let c=n,s=o;for(a(e,n,t),l(e[o],r)>0&&a(e,n,o);c<s;){for(a(e,c,s),++c,--s;l(e[c],r)<0;)++c;for(;l(e[s],r)>0;)--s}0===l(e[n],r)?a(e,n,s):(++s,a(e,s,o)),s<=t&&(n=s+1),t<=s&&(o=s-1)}return e}function a(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}},5616:(e,t,n)=>{"use strict";function r(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}n.d(t,{c:()=>r})},4804:(e,t,n)=>{"use strict";n.d(t,{I5:()=>o,aM:()=>l,cp:()=>a});var r=n(3312),i=n(3012);function a(e,...t){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&2!==n.length||t.length>1){const r=Uint32Array.from(e,((e,t)=>t));return t.length>1?(t=t.map((t=>e.map(t))),r.sort(((e,n)=>{for(const r of t){const t=l(r[e],r[n]);if(t)return t}}))):(n=e.map(n),r.sort(((e,t)=>l(n[e],n[t])))),(0,i.c)(e,r)}return e.sort(o(n))}function o(e=r.c){if(e===r.c)return l;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function l(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}},8064:(e,t,n)=>{"use strict";n.d(t,{El:()=>s,cp:()=>l,uy:()=>c});const r=Math.sqrt(50),i=Math.sqrt(10),a=Math.sqrt(2);function o(e,t,n){const l=(t-e)/Math.max(0,n),c=Math.floor(Math.log10(l)),s=l/Math.pow(10,c),u=s>=r?10:s>=i?5:s>=a?2:1;let f,d,h;return c<0?(h=Math.pow(10,-c)/u,f=Math.round(e*h),d=Math.round(t*h),f/h<e&&++f,d/h>t&&--d,h=-h):(h=Math.pow(10,c)*u,f=Math.round(e/h),d=Math.round(t/h),f*h<e&&++f,d*h>t&&--d),d<f&&.5<=n&&n<2?o(e,t,2*n):[f,d,h]}function l(e,t,n){if(!((n=+n)>0))return[];if((e=+e)==(t=+t))return[e];const r=t<e,[i,a,l]=r?o(t,e,n):o(e,t,n);if(!(a>=i))return[];const c=a-i+1,s=new Array(c);if(r)if(l<0)for(let e=0;e<c;++e)s[e]=(a-e)/-l;else for(let e=0;e<c;++e)s[e]=(a-e)*l;else if(l<0)for(let e=0;e<c;++e)s[e]=(i+e)/-l;else for(let e=0;e<c;++e)s[e]=(i+e)*l;return s}function c(e,t,n){return o(e=+e,t=+t,n=+n)[2]}function s(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?c(t,e,n):c(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}},9132:(e,t,n)=>{"use strict";n.r(t),n.d(t,{brush:()=>I,brushSelection:()=>P,brushX:()=>L,brushY:()=>O});var r=n(8648),i=n(5416),a=n(2888),o=n(3291),l=n(1093),c=n(4452);const s=e=>()=>e;function u(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function f(e){e.preventDefault(),e.stopImmediatePropagation()}var d={name:"drag"},h={name:"space"},g={name:"handle"},p={name:"center"};const{abs:_,max:b,min:m}=Math;function v(e){return[+e[0],+e[1]]}function y(e){return[v(e[0]),v(e[1])]}var w={name:"x",handles:["w","e"].map(C),input:function(e,t){return null==e?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},x={name:"y",handles:["n","s"].map(C),input:function(e,t){return null==e?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},k={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(C),input:function(e){return null==e?null:y(e)},output:function(e){return e}},S={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},M={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},A={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},T={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},E={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function C(e){return{type:e}}function V(e){return!e.ctrlKey&&!e.button}function N(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function z(){return navigator.maxTouchPoints||"ontouchstart"in this}function D(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function P(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function L(){return R(w)}function O(){return R(x)}function I(){return R(k)}function R(e){var t,n=N,v=V,k=z,P=!0,L=(0,r.c)("start","brush","end"),O=6;function I(t){var n=t.property("__brush",H).selectAll(".overlay").data([C("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",S.overlay).merge(n).each((function(){var e=D(this).extent;(0,o.c)(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])})),t.selectAll(".selection").data([C("selection")]).enter().append("rect").attr("class","selection").attr("cursor",S.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=t.selectAll(".handle").data(e.handles,(function(e){return e.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(e){return"handle handle--"+e.type})).attr("cursor",(function(e){return S[e.type]})),t.each(R).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",Y).filter(k).on("touchstart.brush",Y).on("touchmove.brush",j).on("touchend.brush touchcancel.brush",$).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function R(){var e=(0,o.c)(this),t=D(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",(function(e){return"e"===e.type[e.type.length-1]?t[1][0]-O/2:t[0][0]-O/2})).attr("y",(function(e){return"s"===e.type[0]?t[1][1]-O/2:t[0][1]-O/2})).attr("width",(function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+O:O})).attr("height",(function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+O:O}))):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function B(e,t,n){var r=e.__brush.emitter;return!r||n&&r.clean?new F(e,t,n):r}function F(e,t,n){this.that=e,this.args=t,this.state=e.__brush,this.active=0,this.clean=n}function Y(n){if((!t||n.touches)&&v.apply(this,arguments)){var r,a,s,u,y,k,C,V,N,z,L,O=this,I=n.target.__data__.type,F="selection"===(P&&n.metaKey?I="overlay":I)?d:P&&n.altKey?p:g,Y=e===x?null:T[I],j=e===w?null:E[I],$=D(O),H=$.extent,U=$.selection,W=H[0][0],q=H[0][1],G=H[1][0],X=H[1][1],K=0,Q=0,Z=Y&&j&&P&&n.shiftKey,J=Array.from(n.touches||[n],(e=>{const t=e.identifier;return(e=(0,l.c)(e,O)).point0=e.slice(),e.identifier=t,e}));(0,c.Sm)(O);var ee=B(O,arguments,!0).beforestart();if("overlay"===I){U&&(N=!0);const t=[J[0],J[1]||J[0]];$.selection=U=[[r=e===x?W:m(t[0][0],t[1][0]),s=e===w?q:m(t[0][1],t[1][1])],[y=e===x?G:b(t[0][0],t[1][0]),C=e===w?X:b(t[0][1],t[1][1])]],J.length>1&&ae(n)}else r=U[0][0],s=U[0][1],y=U[1][0],C=U[1][1];a=r,u=s,k=y,V=C;var te=(0,o.c)(O).attr("pointer-events","none"),ne=te.selectAll(".overlay").attr("cursor",S[I]);if(n.touches)ee.moved=ie,ee.ended=oe;else{var re=(0,o.c)(n.view).on("mousemove.brush",ie,!0).on("mouseup.brush",oe,!0);P&&re.on("keydown.brush",(function(e){switch(e.keyCode){case 16:Z=Y&&j;break;case 18:F===g&&(Y&&(y=k-K*Y,r=a+K*Y),j&&(C=V-Q*j,s=u+Q*j),F=p,ae(e));break;case 32:F!==g&&F!==p||(Y<0?y=k-K:Y>0&&(r=a-K),j<0?C=V-Q:j>0&&(s=u-Q),F=h,ne.attr("cursor",S.selection),ae(e));break;default:return}f(e)}),!0).on("keyup.brush",(function(e){switch(e.keyCode){case 16:Z&&(z=L=Z=!1,ae(e));break;case 18:F===p&&(Y<0?y=k:Y>0&&(r=a),j<0?C=V:j>0&&(s=u),F=g,ae(e));break;case 32:F===h&&(e.altKey?(Y&&(y=k-K*Y,r=a+K*Y),j&&(C=V-Q*j,s=u+Q*j),F=p):(Y<0?y=k:Y>0&&(r=a),j<0?C=V:j>0&&(s=u),F=g),ne.attr("cursor",S[I]),ae(e));break;default:return}f(e)}),!0),(0,i.c)(n.view)}R.call(O),ee.start(n,F.name)}function ie(e){for(const t of e.changedTouches||[e])for(const e of J)e.identifier===t.identifier&&(e.cur=(0,l.c)(t,O));if(Z&&!z&&!L&&1===J.length){const e=J[0];_(e.cur[0]-e[0])>_(e.cur[1]-e[1])?L=!0:z=!0}for(const e of J)e.cur&&(e[0]=e.cur[0],e[1]=e.cur[1]);N=!0,f(e),ae(e)}function ae(e){const t=J[0],n=t.point0;var i;switch(K=t[0]-n[0],Q=t[1]-n[1],F){case h:case d:Y&&(K=b(W-r,m(G-y,K)),a=r+K,k=y+K),j&&(Q=b(q-s,m(X-C,Q)),u=s+Q,V=C+Q);break;case g:J[1]?(Y&&(a=b(W,m(G,J[0][0])),k=b(W,m(G,J[1][0])),Y=1),j&&(u=b(q,m(X,J[0][1])),V=b(q,m(X,J[1][1])),j=1)):(Y<0?(K=b(W-r,m(G-r,K)),a=r+K,k=y):Y>0&&(K=b(W-y,m(G-y,K)),a=r,k=y+K),j<0?(Q=b(q-s,m(X-s,Q)),u=s+Q,V=C):j>0&&(Q=b(q-C,m(X-C,Q)),u=s,V=C+Q));break;case p:Y&&(a=b(W,m(G,r-K*Y)),k=b(W,m(G,y+K*Y))),j&&(u=b(q,m(X,s-Q*j)),V=b(q,m(X,C+Q*j)))}k<a&&(Y*=-1,i=r,r=y,y=i,i=a,a=k,k=i,I in M&&ne.attr("cursor",S[I=M[I]])),V<u&&(j*=-1,i=s,s=C,C=i,i=u,u=V,V=i,I in A&&ne.attr("cursor",S[I=A[I]])),$.selection&&(U=$.selection),z&&(a=U[0][0],k=U[1][0]),L&&(u=U[0][1],V=U[1][1]),U[0][0]===a&&U[0][1]===u&&U[1][0]===k&&U[1][1]===V||($.selection=[[a,u],[k,V]],R.call(O),ee.brush(e,F.name))}function oe(e){if(function(e){e.stopImmediatePropagation()}(e),e.touches){if(e.touches.length)return;t&&clearTimeout(t),t=setTimeout((function(){t=null}),500)}else(0,i.i)(e.view,N),re.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);te.attr("pointer-events","all"),ne.attr("cursor",S.overlay),$.selection&&(U=$.selection),function(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}(U)&&($.selection=null,R.call(O)),ee.end(e,F.name)}}function j(e){B(this,arguments).moved(e)}function $(e){B(this,arguments).ended(e)}function H(){var t=this.__brush||{selection:null};return t.extent=y(n.apply(this,arguments)),t.dim=e,t}return I.move=function(t,n,r){t.tween?t.on("start.brush",(function(e){B(this,arguments).beforestart().start(e)})).on("interrupt.brush end.brush",(function(e){B(this,arguments).end(e)})).tween("brush",(function(){var t=this,r=t.__brush,i=B(t,arguments),o=r.selection,l=e.input("function"==typeof n?n.apply(this,arguments):n,r.extent),c=(0,a.c)(o,l);function s(e){r.selection=1===e&&null===l?null:c(e),R.call(t),i.brush()}return null!==o&&null!==l?s:s(1)})):t.each((function(){var t=this,i=arguments,a=t.__brush,o=e.input("function"==typeof n?n.apply(t,i):n,a.extent),l=B(t,i).beforestart();(0,c.Sm)(t),a.selection=null===o?null:o,R.call(t),l.start(r).brush(r).end(r)}))},I.clear=function(e,t){I.move(e,null,t)},F.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(e,t){return this.starting?(this.starting=!1,this.emit("start",e,t)):this.emit("brush",e),this},brush:function(e,t){return this.emit("brush",e,t),this},end:function(e,t){return 0==--this.active&&(delete this.state.emitter,this.emit("end",e,t)),this},emit:function(t,n,r){var i=(0,o.c)(this.that).datum();L.call(t,this.that,new u(t,{sourceEvent:n,target:I,selection:e.output(this.state.selection),mode:r,dispatch:L}),i)}},I.extent=function(e){return arguments.length?(n="function"==typeof e?e:s(y(e)),I):n},I.filter=function(e){return arguments.length?(v="function"==typeof e?e:s(!!e),I):v},I.touchable=function(e){return arguments.length?(k="function"==typeof e?e:s(!!e),I):k},I.handleSize=function(e){return arguments.length?(O=+e,I):O},I.keyModifiers=function(e){return arguments.length?(P=!!e,I):P},I.on=function(){var e=L.on.apply(L,arguments);return e===L?I:e},I}},2352:(e,t,n)=>{"use strict";n.d(t,{KM:()=>a,SI:()=>o,cp:()=>y,eu:()=>k,gC:()=>i,q:()=>M,uI:()=>S});var r=n(3656);function i(){}var a=.7,o=1/a,l="\\s*([+-]?\\d+)\\s*",c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",s="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u=/^#([0-9a-f]{3,8})$/,f=new RegExp(`^rgb\\(${l},${l},${l}\\)$`),d=new RegExp(`^rgb\\(${s},${s},${s}\\)$`),h=new RegExp(`^rgba\\(${l},${l},${l},${c}\\)$`),g=new RegExp(`^rgba\\(${s},${s},${s},${c}\\)$`),p=new RegExp(`^hsl\\(${c},${s},${s}\\)$`),_=new RegExp(`^hsla\\(${c},${s},${s},${c}\\)$`),b={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function m(){return this.rgb().formatHex()}function v(){return this.rgb().formatRgb()}function y(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=u.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?w(t):3===n?new M(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?x(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?x(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=f.exec(e))?new M(t[1],t[2],t[3],1):(t=d.exec(e))?new M(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=h.exec(e))?x(t[1],t[2],t[3],t[4]):(t=g.exec(e))?x(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=p.exec(e))?N(t[1],t[2]/100,t[3]/100,1):(t=_.exec(e))?N(t[1],t[2]/100,t[3]/100,t[4]):b.hasOwnProperty(e)?w(b[e]):"transparent"===e?new M(NaN,NaN,NaN,0):null}function w(e){return new M(e>>16&255,e>>8&255,255&e,1)}function x(e,t,n,r){return r<=0&&(e=t=n=NaN),new M(e,t,n,r)}function k(e){return e instanceof i||(e=y(e)),e?new M((e=e.rgb()).r,e.g,e.b,e.opacity):new M}function S(e,t,n,r){return 1===arguments.length?k(e):new M(e,t,n,null==r?1:r)}function M(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function A(){return`#${V(this.r)}${V(this.g)}${V(this.b)}`}function T(){const e=E(this.opacity);return`${1===e?"rgb(":"rgba("}${C(this.r)}, ${C(this.g)}, ${C(this.b)}${1===e?")":`, ${e})`}`}function E(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function C(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function V(e){return((e=C(e))<16?"0":"")+e.toString(16)}function N(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new D(e,t,n,r)}function z(e){if(e instanceof D)return new D(e.h,e.s,e.l,e.opacity);if(e instanceof i||(e=y(e)),!e)return new D;if(e instanceof D)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,c=o-a,s=(o+a)/2;return c?(l=t===o?(n-r)/c+6*(n<r):n===o?(r-t)/c+2:(t-n)/c+4,c/=s<.5?o+a:2-o-a,l*=60):c=s>0&&s<1?0:l,new D(l,c,s,e.opacity)}function D(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function P(e){return(e=(e||0)%360)<0?e+360:e}function L(e){return Math.max(0,Math.min(1,e||0))}function O(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}(0,r.c)(i,y,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:m,formatHex:m,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return z(this).formatHsl()},formatRgb:v,toString:v}),(0,r.c)(M,S,(0,r.S)(i,{brighter(e){return e=null==e?o:Math.pow(o,e),new M(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?a:Math.pow(a,e),new M(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new M(C(this.r),C(this.g),C(this.b),E(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:A,formatHex:A,formatHex8:function(){return`#${V(this.r)}${V(this.g)}${V(this.b)}${V(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:T,toString:T})),(0,r.c)(D,(function(e,t,n,r){return 1===arguments.length?z(e):new D(e,t,n,null==r?1:r)}),(0,r.S)(i,{brighter(e){return e=null==e?o:Math.pow(o,e),new D(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?a:Math.pow(a,e),new D(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new M(O(e>=240?e-240:e+120,i,r),O(e,i,r),O(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new D(P(this.h),L(this.s),L(this.l),E(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=E(this.opacity);return`${1===e?"hsl(":"hsla("}${P(this.h)}, ${100*L(this.s)}%, ${100*L(this.l)}%${1===e?")":`, ${e})`}`}}))},3656:(e,t,n)=>{"use strict";function r(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function i(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}n.d(t,{S:()=>i,c:()=>r})},8648:(e,t,n)=>{"use strict";n.d(t,{c:()=>c});var r={value:()=>{}};function i(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new a(r)}function a(e){this._=e}function o(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function l(e,t,n){for(var i=0,a=e.length;i<a;++i)if(e[i].name===t){e[i]=r,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}a.prototype=i.prototype={constructor:a,on:function(e,t){var n,r,i=this._,a=(r=i,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),c=-1,s=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++c<s;)if(n=(e=a[c]).type)i[n]=l(i[n],e.name,t);else if(null==t)for(n in i)i[n]=l(i[n],e.name,null);return this}for(;++c<s;)if((n=(e=a[c]).type)&&(n=o(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new a(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};const c=i},3028:(e,t,n)=>{"use strict";n.r(t),n.d(t,{dispatch:()=>r.c});var r=n(8648)},5416:(e,t,n)=>{"use strict";n.d(t,{c:()=>a,i:()=>o});var r=n(3291),i=n(2272);function a(e){var t=e.document.documentElement,n=(0,r.c)(e).on("dragstart.drag",i.cp,i.aK);"onselectstart"in t?n.on("selectstart.drag",i.cp,i.aK):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function o(e,t){var n=e.document.documentElement,a=(0,r.c)(e).on("dragstart.drag",null);t&&(a.on("click.drag",i.cp,i.aK),setTimeout((function(){a.on("click.drag",null)}),0)),"onselectstart"in n?a.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}},2272:(e,t,n)=>{"use strict";n.d(t,{Ut:()=>a,Y7:()=>r,aK:()=>i,cp:()=>o});const r={passive:!1},i={capture:!0,passive:!1};function a(e){e.stopImmediatePropagation()}function o(e){e.preventDefault(),e.stopImmediatePropagation()}},4076:(e,t,n)=>{"use strict";function r(e){return--e*e*e+1}function i(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}n.d(t,{AT:()=>i,KS:()=>r})},9564:(e,t,n)=>{"use strict";function r(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function i(e,t){return fetch(e,t).then(r)}function a(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function o(e,t){return fetch(e,t).then(a)}n.r(t),n.d(t,{blob:()=>i,buffer:()=>o,csv:()=>S,dsv:()=>k,html:()=>N,image:()=>A,json:()=>E,svg:()=>z,text:()=>w,tsv:()=>M,xml:()=>V});var l={},c={},s=34,u=10,f=13;function d(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function h(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function g(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function p(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],a=e.length,o=0,d=0,h=a<=0,g=!1;function p(){if(h)return c;if(g)return g=!1,l;var t,r,i=o;if(e.charCodeAt(i)===s){for(;o++<a&&e.charCodeAt(o)!==s||e.charCodeAt(++o)===s;);return(t=o)>=a?h=!0:(r=e.charCodeAt(o++))===u?g=!0:r===f&&(g=!0,e.charCodeAt(o)===u&&++o),e.slice(i+1,t-1).replace(/""/g,'"')}for(;o<a;){if((r=e.charCodeAt(t=o++))===u)g=!0;else if(r===f)g=!0,e.charCodeAt(o)===u&&++o;else if(r!==n)continue;return e.slice(i,t)}return h=!0,e.slice(i,a)}for(e.charCodeAt(a-1)===u&&--a,e.charCodeAt(a-1)===f&&--a;(r=p())!==c;){for(var _=[];r!==l&&r!==c;)_.push(r),r=p();t&&null==(_=t(_,d++))||i.push(_)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return o(t[e])})).join(e)}))}function a(t){return t.map(o).join(e)}function o(e){return null==e?"":e instanceof Date?(i=(n=e).getUTCHours(),a=n.getUTCMinutes(),o=n.getUTCSeconds(),l=n.getUTCMilliseconds(),isNaN(n)?"Invalid Date":((r=n.getUTCFullYear())<0?"-"+g(-r,6):r>9999?"+"+g(r,6):g(r,4))+"-"+g(n.getUTCMonth()+1,2)+"-"+g(n.getUTCDate(),2)+(l?"T"+g(i,2)+":"+g(a,2)+":"+g(o,2)+"."+g(l,3)+"Z":o?"T"+g(i,2)+":"+g(a,2)+":"+g(o,2)+"Z":a||i?"T"+g(i,2)+":"+g(a,2)+"Z":"")):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e;var n,r,i,a,o,l}return{parse:function(e,t){var n,i,a=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=d(e);return function(r,i){return t(n(r),i,e)}}(e,t):d(e)}));return a.columns=i||[],a},parseRows:r,format:function(t,n){return null==n&&(n=h(t)),[n.map(o).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=h(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(a).join("\n")},formatRow:a,formatValue:o}}var _=p(","),b=_.parse,m=(_.parseRows,_.format,_.formatBody,_.formatRows,_.formatRow,_.formatValue,p("\t")),v=m.parse;function y(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function w(e,t){return fetch(e,t).then(y)}function x(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),w(t,n).then((function(t){return e(t,r)}))}}function k(e,t,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var i=p(e);return w(t,n).then((function(e){return i.parse(e,r)}))}m.parseRows,m.format,m.formatBody,m.formatRows,m.formatRow,m.formatValue;var S=x(b),M=x(v);function A(e,t){return new Promise((function(n,r){var i=new Image;for(var a in t)i[a]=t[a];i.onerror=r,i.onload=function(){n(i)},i.src=e}))}function T(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(204!==e.status&&205!==e.status)return e.json()}function E(e,t){return fetch(e,t).then(T)}function C(e){return(t,n)=>w(t,n).then((t=>(new DOMParser).parseFromString(t,e)))}const V=C("application/xml");var N=C("text/html"),z=C("image/svg+xml")},7172:(e,t,n)=>{"use strict";n.d(t,{E9:()=>f,gV:()=>d});var r,i=n(2224),a=n(4772),o=n(7672);function l(e,t){var n=(0,o.g)(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const c={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:o.c,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>l(100*e,t),r:l,s:function(e,t){var n=(0,o.g)(e,t);if(!n)return e+"";var i=n[0],a=n[1],l=a-(r=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,c=i.length;return l===c?i:l>c?i+new Array(l-c+1).join("0"):l>0?i.slice(0,l)+"."+i.slice(l):"0."+new Array(1-l).join("0")+(0,o.g)(e,Math.max(0,t+l-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function s(e){return e}var u,f,d,h=Array.prototype.map,g=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];u=function(e){var t,n,o=void 0===e.grouping||void 0===e.thousands?s:(t=h.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(e.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[o=(o+1)%t.length];return a.reverse().join(n)}),l=void 0===e.currency?"":e.currency[0]+"",u=void 0===e.currency?"":e.currency[1]+"",f=void 0===e.decimal?".":e.decimal+"",d=void 0===e.numerals?s:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(h.call(e.numerals,String)),p=void 0===e.percent?"%":e.percent+"",_=void 0===e.minus?"−":e.minus+"",b=void 0===e.nan?"NaN":e.nan+"";function m(e){var t=(e=(0,a.c)(e)).fill,n=e.align,i=e.sign,s=e.symbol,h=e.zero,m=e.width,v=e.comma,y=e.precision,w=e.trim,x=e.type;"n"===x?(v=!0,x="g"):c[x]||(void 0===y&&(y=12),w=!0,x="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var k="$"===s?l:"#"===s&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",S="$"===s?u:/[%p]/.test(x)?p:"",M=c[x],A=/[defgprs%]/.test(x);function T(e){var a,l,c,s=k,u=S;if("c"===x)u=M(e)+u,e="";else{var p=(e=+e)<0||1/e<0;if(e=isNaN(e)?b:M(Math.abs(e),y),w&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),p&&0==+e&&"+"!==i&&(p=!1),s=(p?"("===i?i:_:"-"===i||"("===i?"":i)+s,u=("s"===x?g[8+r/3]:"")+u+(p&&"("===i?")":""),A)for(a=-1,l=e.length;++a<l;)if(48>(c=e.charCodeAt(a))||c>57){u=(46===c?f+e.slice(a+1):e.slice(a))+u,e=e.slice(0,a);break}}v&&!h&&(e=o(e,1/0));var T=s.length+e.length+u.length,E=T<m?new Array(m-T+1).join(t):"";switch(v&&h&&(e=o(E+e,E.length?m-u.length:1/0),E=""),n){case"<":e=s+e+u+E;break;case"=":e=s+E+e+u;break;case"^":e=E.slice(0,T=E.length>>1)+s+e+u+E.slice(T);break;default:e=E+s+e+u}return d(e)}return y=void 0===y?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),T.toString=function(){return e+""},T}return{format:m,formatPrefix:function(e,t){var n=m(((e=(0,a.c)(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor((0,i.c)(t)/3))),o=Math.pow(10,-r),l=g[8+r/3];return function(e){return n(o*e)+l}}}}({thousands:",",grouping:[3],currency:["$",""]}),f=u.format,d=u.formatPrefix},2224:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(7672);function i(e){return(e=(0,r.g)(Math.abs(e)))?e[1]:NaN}},7672:(e,t,n)=>{"use strict";function r(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function i(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}n.d(t,{c:()=>r,g:()=>i})},4772:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function i(e){if(!(t=r.exec(e)))throw new Error("invalid format: "+e);var t;return new a({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function a(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}i.prototype=a.prototype,a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},9432:(e,t,n)=>{"use strict";n.d(t,{Eh:()=>a,cp:()=>l,oR:()=>o});var r=n(5092);function i(e,t){return function(n){return e+n*t}}function a(e,t){var n=t-e;return n?i(e,n>180||n<-180?n-360*Math.round(n/360):n):(0,r.c)(isNaN(e)?t:e)}function o(e){return 1==(e=+e)?l:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):(0,r.c)(isNaN(t)?n:t)}}function l(e,t){var n=t-e;return n?i(e,n):(0,r.c)(isNaN(e)?t:e)}},5092:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});const r=e=>()=>e},5568:(e,t,n)=>{"use strict";function r(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}n.d(t,{c:()=>r})},9720:(e,t,n)=>{"use strict";n.d(t,{cp:()=>o,Yf:()=>c});var r=n(2352);function i(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}var a=n(9432);const o=function e(t){var n=(0,a.oR)(t);function i(e,t){var i=n((e=(0,r.uI)(e)).r,(t=(0,r.uI)(t)).r),o=n(e.g,t.g),l=n(e.b,t.b),c=(0,a.cp)(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=o(t),e.b=l(t),e.opacity=c(t),e+""}}return i.gamma=e,i}(1);function l(e){return function(t){var n,i,a=t.length,o=new Array(a),l=new Array(a),c=new Array(a);for(n=0;n<a;++n)i=(0,r.uI)(t[n]),o[n]=i.r||0,l[n]=i.g||0,c[n]=i.b||0;return o=e(o),l=e(l),c=e(c),i.opacity=1,function(e){return i.r=o(e),i.g=l(e),i.b=c(e),i+""}}}var c=l((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],o=e[r+1],l=r>0?e[r-1]:2*a-o,c=r<t-1?e[r+2]:2*o-a;return i((n-r/t)*t,l,a,o,c)}}));l((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],o=e[r%t],l=e[(r+1)%t],c=e[(r+2)%t];return i((n-r/t)*t,a,o,l,c)}}))},239:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});var r=n(5568),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,a=new RegExp(i.source,"g");function o(e,t){var n,o,l,c=i.lastIndex=a.lastIndex=0,s=-1,u=[],f=[];for(e+="",t+="";(n=i.exec(e))&&(o=a.exec(t));)(l=o.index)>c&&(l=t.slice(c,l),u[s]?u[s]+=l:u[++s]=l),(n=n[0])===(o=o[0])?u[s]?u[s]+=o:u[++s]=o:(u[++s]=null,f.push({i:s,x:(0,r.c)(n,o)})),c=a.lastIndex;return c<t.length&&(l=t.slice(c),u[s]?u[s]+=l:u[++s]=l),u.length<2?f[0]?function(e){return function(t){return e(t)+""}}(f[0].x):function(e){return function(){return e}}(t):(t=f.length,function(e){for(var n,r=0;r<t;++r)u[(n=f[r]).i]=n.x(e);return u.join("")})}},2888:(e,t,n)=>{"use strict";n.d(t,{c:()=>d});var r=n(2352),i=n(9720);function a(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=d(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}function o(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}var l=n(5568);function c(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=d(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var s=n(239),u=n(5092);function f(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function d(e,t){var n,d,h=typeof t;return null==t||"boolean"===h?(0,u.c)(t):("number"===h?l.c:"string"===h?(n=(0,r.cp)(t))?(t=n,i.cp):s.c:t instanceof r.cp?i.cp:t instanceof Date?o:(d=t,!ArrayBuffer.isView(d)||d instanceof DataView?Array.isArray(t)?a:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?c:l.c:f))(e,t)}},1512:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Path:()=>r.YH,path:()=>r.kZ,pathRound:()=>r.Id});var r=n(7064)},7064:(e,t,n)=>{"use strict";n.d(t,{Id:()=>u,YH:()=>c,kZ:()=>s});const r=Math.PI,i=2*r,a=1e-6,o=i-a;function l(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class c{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?l:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return l;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,a){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+a}`}arcTo(e,t,n,i,o){if(e=+e,t=+t,n=+n,i=+i,(o=+o)<0)throw new Error(`negative radius: ${o}`);let l=this._x1,c=this._y1,s=n-e,u=i-t,f=l-e,d=c-t,h=f*f+d*d;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(h>a)if(Math.abs(d*s-u*f)>a&&o){let g=n-l,p=i-c,_=s*s+u*u,b=g*g+p*p,m=Math.sqrt(_),v=Math.sqrt(h),y=o*Math.tan((r-Math.acos((_+h-b)/(2*m*v)))/2),w=y/v,x=y/m;Math.abs(w-1)>a&&this._append`L${e+w*f},${t+w*d}`,this._append`A${o},${o},0,0,${+(d*g>f*p)},${this._x1=e+x*s},${this._y1=t+x*u}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,n,l,c,s){if(e=+e,t=+t,s=!!s,(n=+n)<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(l),f=n*Math.sin(l),d=e+u,h=t+f,g=1^s,p=s?l-c:c-l;null===this._x1?this._append`M${d},${h}`:(Math.abs(this._x1-d)>a||Math.abs(this._y1-h)>a)&&this._append`L${d},${h}`,n&&(p<0&&(p=p%i+i),p>o?this._append`A${n},${n},0,1,${g},${e-u},${t-f}A${n},${n},0,1,${g},${this._x1=d},${this._y1=h}`:p>a&&this._append`A${n},${n},0,${+(p>=r)},${g},${this._x1=e+n*Math.cos(c)},${this._y1=t+n*Math.sin(c)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function s(){return new c}function u(e=3){return new c(+e)}s.prototype=c.prototype},5272:(e,t,n)=>{"use strict";n.r(t),n.d(t,{randomBates:()=>s,randomBernoulli:()=>d,randomBeta:()=>p,randomBinomial:()=>_,randomCauchy:()=>m,randomExponential:()=>u,randomGamma:()=>g,randomGeometric:()=>h,randomInt:()=>a,randomIrwinHall:()=>c,randomLcg:()=>S,randomLogNormal:()=>l,randomLogistic:()=>v,randomNormal:()=>o,randomPareto:()=>f,randomPoisson:()=>y,randomUniform:()=>i,randomWeibull:()=>b});const r=Math.random,i=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return n.source=e,n}(r),a=function e(t){function n(e,n){return arguments.length<2&&(n=e,e=0),e=Math.floor(e),n=Math.floor(n)-e,function(){return Math.floor(t()*n+e)}}return n.source=e,n}(r),o=function e(t){function n(e,n){var r,i;return e=null==e?0:+e,n=null==n?1:+n,function(){var a;if(null!=r)a=r,r=null;else do{r=2*t()-1,a=2*t()-1,i=r*r+a*a}while(!i||i>1);return e+n*a*Math.sqrt(-2*Math.log(i)/i)}}return n.source=e,n}(r),l=function e(t){var n=o.source(t);function r(){var e=n.apply(this,arguments);return function(){return Math.exp(e())}}return r.source=e,r}(r),c=function e(t){function n(e){return(e=+e)<=0?()=>0:function(){for(var n=0,r=e;r>1;--r)n+=t();return n+r*t()}}return n.source=e,n}(r),s=function e(t){var n=c.source(t);function r(e){if(0==(e=+e))return t;var r=n(e);return function(){return r()/e}}return r.source=e,r}(r),u=function e(t){function n(e){return function(){return-Math.log1p(-t())/e}}return n.source=e,n}(r),f=function e(t){function n(e){if((e=+e)<0)throw new RangeError("invalid alpha");return e=1/-e,function(){return Math.pow(1-t(),e)}}return n.source=e,n}(r),d=function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+e)}}return n.source=e,n}(r),h=function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return 0===e?()=>1/0:1===e?()=>1:(e=Math.log1p(-e),function(){return 1+Math.floor(Math.log1p(-t())/e)})}return n.source=e,n}(r),g=function e(t){var n=o.source(t)();function r(e,r){if((e=+e)<0)throw new RangeError("invalid k");if(0===e)return()=>0;if(r=null==r?1:+r,1===e)return()=>-Math.log1p(-t())*r;var i=(e<1?e+1:e)-1/3,a=1/(3*Math.sqrt(i)),o=e<1?()=>Math.pow(t(),1/e):()=>1;return function(){do{do{var e=n(),l=1+a*e}while(l<=0);l*=l*l;var c=1-t()}while(c>=1-.0331*e*e*e*e&&Math.log(c)>=.5*e*e+i*(1-l+Math.log(l)));return i*l*o()*r}}return r.source=e,r}(r),p=function e(t){var n=g.source(t);function r(e,t){var r=n(e),i=n(t);return function(){var e=r();return 0===e?0:e/(e+i())}}return r.source=e,r}(r),_=function e(t){var n=h.source(t),r=p.source(t);function i(e,t){return e=+e,(t=+t)>=1?()=>e:t<=0?()=>0:function(){for(var i=0,a=e,o=t;a*o>16&&a*(1-o)>16;){var l=Math.floor((a+1)*o),c=r(l,a-l+1)();c<=o?(i+=l,a-=l,o=(o-c)/(1-c)):(a=l-1,o/=c)}for(var s=o<.5,u=n(s?o:1-o),f=u(),d=0;f<=a;++d)f+=u();return i+(s?d:a-d)}}return i.source=e,i}(r),b=function e(t){function n(e,n,r){var i;return 0==(e=+e)?i=e=>-Math.log(e):(e=1/e,i=t=>Math.pow(t,e)),n=null==n?0:+n,r=null==r?1:+r,function(){return n+r*i(-Math.log1p(-t()))}}return n.source=e,n}(r),m=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,function(){return e+n*Math.tan(Math.PI*t())}}return n.source=e,n}(r),v=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,function(){var r=t();return e+n*Math.log(r/(1-r))}}return n.source=e,n}(r),y=function e(t){var n=g.source(t),r=_.source(t);function i(e){return function(){for(var i=0,a=e;a>16;){var o=Math.floor(.875*a),l=n(o)();if(l>a)return i+r(o-1,a/l)();i+=o,a-=l}for(var c=-Math.log1p(-t()),s=0;c<=a;++s)c-=Math.log1p(-t());return i+s}}return i.source=e,i}(r),w=1664525,x=1013904223,k=1/4294967296;function S(e=Math.random()){let t=0|(0<=e&&e<1?e/k:Math.abs(e));return()=>(t=w*t+x|0,k*(t>>>0))}},3296:(e,t,n)=>{"use strict";function r(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}n.r(t),n.d(t,{interpolateBlues:()=>ae,interpolateBrBG:()=>b,interpolateBuGn:()=>L,interpolateBuPu:()=>I,interpolateCividis:()=>_e,interpolateCool:()=>Oe,interpolateCubehelixDefault:()=>Pe,interpolateGnBu:()=>B,interpolateGreens:()=>le,interpolateGreys:()=>se,interpolateInferno:()=>qe,interpolateMagma:()=>We,interpolateOrRd:()=>Y,interpolateOranges:()=>pe,interpolatePRGn:()=>v,interpolatePiYG:()=>w,interpolatePlasma:()=>Ge,interpolatePuBu:()=>U,interpolatePuBuGn:()=>$,interpolatePuOr:()=>k,interpolatePuRd:()=>q,interpolatePurples:()=>fe,interpolateRainbow:()=>Re,interpolateRdBu:()=>M,interpolateRdGy:()=>T,interpolateRdPu:()=>X,interpolateRdYlBu:()=>C,interpolateRdYlGn:()=>N,interpolateReds:()=>he,interpolateSinebow:()=>je,interpolateSpectral:()=>D,interpolateTurbo:()=>$e,interpolateViridis:()=>Ue,interpolateWarm:()=>Le,interpolateYlGn:()=>J,interpolateYlGnBu:()=>Q,interpolateYlOrBr:()=>te,interpolateYlOrRd:()=>re,schemeAccent:()=>a,schemeBlues:()=>ie,schemeBrBG:()=>_,schemeBuGn:()=>P,schemeBuPu:()=>O,schemeCategory10:()=>i,schemeDark2:()=>o,schemeGnBu:()=>R,schemeGreens:()=>oe,schemeGreys:()=>ce,schemeOrRd:()=>F,schemeOranges:()=>ge,schemePRGn:()=>m,schemePaired:()=>l,schemePastel1:()=>c,schemePastel2:()=>s,schemePiYG:()=>y,schemePuBu:()=>H,schemePuBuGn:()=>j,schemePuOr:()=>x,schemePuRd:()=>W,schemePurples:()=>ue,schemeRdBu:()=>S,schemeRdGy:()=>A,schemeRdPu:()=>G,schemeRdYlBu:()=>E,schemeRdYlGn:()=>V,schemeReds:()=>de,schemeSet1:()=>u,schemeSet2:()=>f,schemeSet3:()=>d,schemeSpectral:()=>z,schemeTableau10:()=>h,schemeYlGn:()=>Z,schemeYlGnBu:()=>K,schemeYlOrBr:()=>ee,schemeYlOrRd:()=>ne});const i=r("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),a=r("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),o=r("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),l=r("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),c=r("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),s=r("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),u=r("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),f=r("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),d=r("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),h=r("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");var g=n(9720);const p=e=>(0,g.Yf)(e[e.length-1]);var _=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(r);const b=p(_);var m=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(r);const v=p(m);var y=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(r);const w=p(y);var x=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(r);const k=p(x);var S=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(r);const M=p(S);var A=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(r);const T=p(A);var E=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(r);const C=p(E);var V=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(r);const N=p(V);var z=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(r);const D=p(z);var P=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(r);const L=p(P);var O=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(r);const I=p(O);var R=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(r);const B=p(R);var F=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(r);const Y=p(F);var j=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(r);const $=p(j);var H=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(r);const U=p(H);var W=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(r);const q=p(W);var G=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(r);const X=p(G);var K=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(r);const Q=p(K);var Z=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(r);const J=p(Z);var ee=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(r);const te=p(ee);var ne=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(r);const re=p(ne);var ie=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(r);const ae=p(ie);var oe=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(r);const le=p(oe);var ce=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(r);const se=p(ce);var ue=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(r);const fe=p(ue);var de=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(r);const he=p(de);var ge=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(r);const pe=p(ge);function _e(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"}var be=n(3656),me=n(2352);const ve=Math.PI/180,ye=180/Math.PI;var we=-.14861,xe=1.78277,ke=-.29227,Se=-.90649,Me=1.97294,Ae=Me*Se,Te=Me*xe,Ee=xe*ke-Se*we;function Ce(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof Ve)return new Ve(e.h,e.s,e.l,e.opacity);e instanceof me.q||(e=(0,me.eu)(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Ee*r+Ae*t-Te*n)/(Ee+Ae-Te),a=r-i,o=(Me*(n-i)-ke*a)/Se,l=Math.sqrt(o*o+a*a)/(Me*i*(1-i)),c=l?Math.atan2(o,a)*ye-120:NaN;return new Ve(c<0?c+360:c,l,i,e.opacity)}(e):new Ve(e,t,n,null==r?1:r)}function Ve(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}(0,be.c)(Ve,Ce,(0,be.S)(me.gC,{brighter(e){return e=null==e?me.SI:Math.pow(me.SI,e),new Ve(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?me.KM:Math.pow(me.KM,e),new Ve(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*ve,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new me.q(255*(t+n*(we*r+xe*i)),255*(t+n*(ke*r+Se*i)),255*(t+n*(Me*r)),this.opacity)}}));var Ne=n(9432);function ze(e){return function t(n){function r(t,r){var i=e((t=Ce(t)).h,(r=Ce(r)).h),a=(0,Ne.cp)(t.s,r.s),o=(0,Ne.cp)(t.l,r.l),l=(0,Ne.cp)(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=a(e),t.l=o(Math.pow(e,n)),t.opacity=l(e),t+""}}return n=+n,r.gamma=t,r}(1)}ze(Ne.Eh);var De=ze(Ne.cp);const Pe=De(Ce(300,.5,0),Ce(-240,.5,1));var Le=De(Ce(-100,.75,.35),Ce(80,1.5,.8)),Oe=De(Ce(260,.75,.35),Ce(80,1.5,.8)),Ie=Ce();function Re(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Ie.h=360*e-100,Ie.s=1.5-1.5*t,Ie.l=.8-.9*t,Ie+""}var Be=(0,me.uI)(),Fe=Math.PI/3,Ye=2*Math.PI/3;function je(e){var t;return e=(.5-e)*Math.PI,Be.r=255*(t=Math.sin(e))*t,Be.g=255*(t=Math.sin(e+Fe))*t,Be.b=255*(t=Math.sin(e+Ye))*t,Be+""}function $e(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"}function He(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const Ue=He(r("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var We=He(r("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),qe=He(r("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Ge=He(r("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))},2816:(e,t,n)=>{"use strict";n.r(t),n.d(t,{scaleBand:()=>s,scaleDiverging:()=>Kt,scaleDivergingLog:()=>Qt,scaleDivergingPow:()=>Jt,scaleDivergingSqrt:()=>en,scaleDivergingSymlog:()=>Zt,scaleIdentity:()=>z,scaleImplicit:()=>l,scaleLinear:()=>N,scaleLog:()=>Y,scaleOrdinal:()=>c,scalePoint:()=>f,scalePow:()=>K,scaleQuantile:()=>ne,scaleQuantize:()=>re,scaleRadial:()=>J,scaleSequential:()=>$t,scaleSequentialLog:()=>Ht,scaleSequentialPow:()=>Wt,scaleSequentialQuantile:()=>Gt,scaleSequentialSqrt:()=>qt,scaleSequentialSymlog:()=>Ut,scaleSqrt:()=>Q,scaleSymlog:()=>U,scaleThreshold:()=>ie,scaleTime:()=>Bt,scaleUtc:()=>Ft,tickFormat:()=>C});var r=n(5616);function i(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function a(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}var o=n(5584);const l=Symbol("implicit");function c(){var e=new o.S,t=[],n=[],r=l;function a(i){let a=e.get(i);if(void 0===a){if(r!==l)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new o.S;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return c(t,n).unknown(r)},i.apply(a,arguments),a}function s(){var e,t,n=c().unknown(void 0),a=n.domain,o=n.range,l=0,u=1,f=!1,d=0,h=0,g=.5;function p(){var n=a().length,i=u<l,c=i?u:l,s=i?l:u;e=(s-c)/Math.max(1,n-d+2*h),f&&(e=Math.floor(e)),c+=(s-c-e*(n-d))*g,t=e*(1-d),f&&(c=Math.round(c),t=Math.round(t));var p=(0,r.c)(n).map((function(t){return c+e*t}));return o(i?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(a(e),p()):a()},n.range=function(e){return arguments.length?([l,u]=e,l=+l,u=+u,p()):[l,u]},n.rangeRound=function(e){return[l,u]=e,l=+l,u=+u,f=!0,p()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(f=!!e,p()):f},n.padding=function(e){return arguments.length?(d=Math.min(1,h=+e),p()):d},n.paddingInner=function(e){return arguments.length?(d=Math.min(1,e),p()):d},n.paddingOuter=function(e){return arguments.length?(h=+e,p()):h},n.align=function(e){return arguments.length?(g=Math.max(0,Math.min(1,e)),p()):g},n.copy=function(){return s(a(),[l,u]).round(f).paddingInner(d).paddingOuter(h).align(g)},i.apply(p(),arguments)}function u(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return u(t())},e}function f(){return u(s.apply(null,arguments).paddingInner(1))}var d=n(8064),h=n(8124),g=n(2888),p=n(5568);function _(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function b(e){return+e}var m=[0,1];function v(e){return e}function y(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function w(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=y(i,r),a=n(o,a)):(r=y(r,i),a=n(a,o)),function(e){return a(r(e))}}function x(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=y(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=(0,h.cp)(e,t,1,r)-1;return a[n](i[n](t))}}function k(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function S(){var e,t,n,r,i,a,o=m,l=m,c=g.c,s=v;function u(){var e,t,n,c=Math.min(o.length,l.length);return s!==v&&(e=o[0],t=o[c-1],e>t&&(n=e,e=t,t=n),s=function(n){return Math.max(e,Math.min(t,n))}),r=c>2?x:w,i=a=null,f}function f(t){return null==t||isNaN(t=+t)?n:(i||(i=r(o.map(e),l,c)))(e(s(t)))}return f.invert=function(n){return s(t((a||(a=r(l,o.map(e),p.c)))(n)))},f.domain=function(e){return arguments.length?(o=Array.from(e,b),u()):o.slice()},f.range=function(e){return arguments.length?(l=Array.from(e),u()):l.slice()},f.rangeRound=function(e){return l=Array.from(e),c=_,u()},f.clamp=function(e){return arguments.length?(s=!!e||v,u()):s!==v},f.interpolate=function(e){return arguments.length?(c=e,u()):c},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,u()}}function M(){return S()(v,v)}var A=n(4772),T=n(2224),E=n(7172);function C(e,t,n,r){var i,a=(0,d.El)(e,t,n);switch((r=(0,A.c)(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,T.c)(t)/3)))-(0,T.c)(Math.abs(e)))}(a,o))||(r.precision=i),(0,E.gV)(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,(0,T.c)(t)-(0,T.c)(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-(0,T.c)(Math.abs(e)))}(a))||(r.precision=i-2*("%"===r.type))}return(0,E.E9)(r)}function V(e){var t=e.domain;return e.ticks=function(e){var n=t();return(0,d.cp)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return C(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),o=0,l=a.length-1,c=a[o],s=a[l],u=10;for(s<c&&(i=c,c=s,s=i,i=o,o=l,l=i);u-- >0;){if((i=(0,d.uy)(c,s,n))===r)return a[o]=c,a[l]=s,t(a);if(i>0)c=Math.floor(c/i)*i,s=Math.ceil(s/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,s=Math.floor(s*i)/i}r=i}return e},e}function N(){var e=M();return e.copy=function(){return k(e,N())},i.apply(e,arguments),V(e)}function z(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,b),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return z(e).unknown(t)},e=arguments.length?Array.from(e,b):[0,1],V(n)}function D(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}function P(e){return Math.log(e)}function L(e){return Math.exp(e)}function O(e){return-Math.log(-e)}function I(e){return-Math.exp(-e)}function R(e){return isFinite(e)?+("1e"+e):e<0?0:e}function B(e){return(t,n)=>-e(-t,n)}function F(e){const t=e(P,L),n=t.domain;let r,i,a=10;function o(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),i=function(e){return 10===e?R:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),n()[0]<0?(r=B(r),i=B(i),e(O,I)):e(P,L),t}return t.base=function(e){return arguments.length?(a=+e,o()):a},t.domain=function(e){return arguments.length?(n(e),o()):n()},t.ticks=e=>{const t=n();let o=t[0],l=t[t.length-1];const c=l<o;c&&([o,l]=[l,o]);let s,u,f=r(o),h=r(l);const g=null==e?10:+e;let p=[];if(!(a%1)&&h-f<g){if(f=Math.floor(f),h=Math.ceil(h),o>0){for(;f<=h;++f)for(s=1;s<a;++s)if(u=f<0?s/i(-f):s*i(f),!(u<o)){if(u>l)break;p.push(u)}}else for(;f<=h;++f)for(s=a-1;s>=1;--s)if(u=f>0?s/i(-f):s*i(f),!(u<o)){if(u>l)break;p.push(u)}2*p.length<g&&(p=(0,d.cp)(o,l,g))}else p=(0,d.cp)(f,h,Math.min(h-f,g)).map(i);return c?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===a?"s":","),"function"!=typeof n&&(a%1||null!=(n=(0,A.c)(n)).precision||(n.trim=!0),n=(0,E.E9)(n)),e===1/0)return n;const o=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*a<a-.5&&(t*=a),t<=o?n(e):""}},t.nice=()=>n(D(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function Y(){const e=F(S()).domain([1,10]);return e.copy=()=>k(e,Y()).base(e.base()),i.apply(e,arguments),e}function j(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function $(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function H(e){var t=1,n=e(j(t),$(t));return n.constant=function(n){return arguments.length?e(j(t=+n),$(t)):t},V(n)}function U(){var e=H(S());return e.copy=function(){return k(e,U()).constant(e.constant())},i.apply(e,arguments)}function W(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function q(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function G(e){return e<0?-e*e:e*e}function X(e){var t=e(v,v),n=1;return t.exponent=function(t){return arguments.length?1==(n=+t)?e(v,v):.5===n?e(q,G):e(W(n),W(1/n)):n},V(t)}function K(){var e=X(S());return e.copy=function(){return k(e,K()).exponent(e.exponent())},i.apply(e,arguments),e}function Q(){return K.apply(null,arguments).exponent(.5)}function Z(e){return Math.sign(e)*e*e}function J(){var e,t=M(),n=[0,1],r=!1;function a(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return a.invert=function(e){return t.invert(Z(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((n=Array.from(e,b)).map(Z)),a):n.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(r=!!e,a):r},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return J(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},i.apply(a,arguments),V(a)}var ee=n(5127),te=n(3312);function ne(){var e,t=[],n=[],r=[];function a(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=(0,ee.Ub)(t,e/i);return o}function o(t){return null==t||isNaN(t=+t)?e:n[(0,h.cp)(r,t)]}return o.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(te.c),a()},o.range=function(e){return arguments.length?(n=Array.from(e),a()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return r.slice()},o.copy=function(){return ne().domain(t).range(n).unknown(e)},i.apply(o,arguments)}function re(){var e,t=0,n=1,r=1,a=[.5],o=[0,1];function l(t){return null!=t&&t<=t?o[(0,h.cp)(a,t,0,r)]:e}function c(){var e=-1;for(a=new Array(r);++e<r;)a[e]=((e+1)*n-(e-r)*t)/(r+1);return l}return l.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,c()):[t,n]},l.range=function(e){return arguments.length?(r=(o=Array.from(e)).length-1,c()):o.slice()},l.invertExtent=function(e){var i=o.indexOf(e);return i<0?[NaN,NaN]:i<1?[t,a[0]]:i>=r?[a[r-1],n]:[a[i-1],a[i]]},l.unknown=function(t){return arguments.length?(e=t,l):l},l.thresholds=function(){return a.slice()},l.copy=function(){return re().domain([t,n]).range(o).unknown(e)},i.apply(V(l),arguments)}function ie(){var e,t=[.5],n=[0,1],r=1;function a(i){return null!=i&&i<=i?n[(0,h.cp)(t,i,0,r)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),a):t.slice()},a.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),a):n.slice()},a.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return ie().domain(t).range(n).unknown(e)},i.apply(a,arguments)}var ae=n(4092),oe=n(9516),le=n(3024),ce=n(3464),se=n(2676),ue=n(8544),fe=n(8519),de=n(1384);function he(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ge(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function pe(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var _e,be,me,ve={"-":"",_:" ",0:"0"},ye=/^\s*\d+/,we=/^%/,xe=/[\\^$*+?|[\]().{}]/g;function ke(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Se(e){return e.replace(xe,"\\$&")}function Me(e){return new RegExp("^(?:"+e.map(Se).join("|")+")","i")}function Ae(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function Te(e,t,n){var r=ye.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Ee(e,t,n){var r=ye.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Ce(e,t,n){var r=ye.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Ve(e,t,n){var r=ye.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Ne(e,t,n){var r=ye.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function ze(e,t,n){var r=ye.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function De(e,t,n){var r=ye.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Pe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Le(e,t,n){var r=ye.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Oe(e,t,n){var r=ye.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Ie(e,t,n){var r=ye.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Re(e,t,n){var r=ye.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Be(e,t,n){var r=ye.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Fe(e,t,n){var r=ye.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Ye(e,t,n){var r=ye.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function je(e,t,n){var r=ye.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function $e(e,t,n){var r=ye.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function He(e,t,n){var r=we.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Ue(e,t,n){var r=ye.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function We(e,t,n){var r=ye.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function qe(e,t){return ke(e.getDate(),t,2)}function Ge(e,t){return ke(e.getHours(),t,2)}function Xe(e,t){return ke(e.getHours()%12||12,t,2)}function Ke(e,t){return ke(1+se.oL.count((0,oe.es)(e),e),t,3)}function Qe(e,t){return ke(e.getMilliseconds(),t,3)}function Ze(e,t){return Qe(e,t)+"000"}function Je(e,t){return ke(e.getMonth()+1,t,2)}function et(e,t){return ke(e.getMinutes(),t,2)}function tt(e,t){return ke(e.getSeconds(),t,2)}function nt(e){var t=e.getDay();return 0===t?7:t}function rt(e,t){return ke(ce.LE.count((0,oe.es)(e)-1,e),t,2)}function it(e){var t=e.getDay();return t>=4||0===t?(0,ce.eC)(e):ce.eC.ceil(e)}function at(e,t){return e=it(e),ke(ce.eC.count((0,oe.es)(e),e)+(4===(0,oe.es)(e).getDay()),t,2)}function ot(e){return e.getDay()}function lt(e,t){return ke(ce.MH.count((0,oe.es)(e)-1,e),t,2)}function ct(e,t){return ke(e.getFullYear()%100,t,2)}function st(e,t){return ke((e=it(e)).getFullYear()%100,t,2)}function ut(e,t){return ke(e.getFullYear()%1e4,t,4)}function ft(e,t){var n=e.getDay();return ke((e=n>=4||0===n?(0,ce.eC)(e):ce.eC.ceil(e)).getFullYear()%1e4,t,4)}function dt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ke(t/60|0,"0",2)+ke(t%60,"0",2)}function ht(e,t){return ke(e.getUTCDate(),t,2)}function gt(e,t){return ke(e.getUTCHours(),t,2)}function pt(e,t){return ke(e.getUTCHours()%12||12,t,2)}function _t(e,t){return ke(1+se.wp.count((0,oe.KA)(e),e),t,3)}function bt(e,t){return ke(e.getUTCMilliseconds(),t,3)}function mt(e,t){return bt(e,t)+"000"}function vt(e,t){return ke(e.getUTCMonth()+1,t,2)}function yt(e,t){return ke(e.getUTCMinutes(),t,2)}function wt(e,t){return ke(e.getUTCSeconds(),t,2)}function xt(e){var t=e.getUTCDay();return 0===t?7:t}function kt(e,t){return ke(ce.EV.count((0,oe.KA)(e)-1,e),t,2)}function St(e){var t=e.getUTCDay();return t>=4||0===t?(0,ce.yA)(e):ce.yA.ceil(e)}function Mt(e,t){return e=St(e),ke(ce.yA.count((0,oe.KA)(e),e)+(4===(0,oe.KA)(e).getUTCDay()),t,2)}function At(e){return e.getUTCDay()}function Tt(e,t){return ke(ce.ot.count((0,oe.KA)(e)-1,e),t,2)}function Et(e,t){return ke(e.getUTCFullYear()%100,t,2)}function Ct(e,t){return ke((e=St(e)).getUTCFullYear()%100,t,2)}function Vt(e,t){return ke(e.getUTCFullYear()%1e4,t,4)}function Nt(e,t){var n=e.getUTCDay();return ke((e=n>=4||0===n?(0,ce.yA)(e):ce.yA.ceil(e)).getUTCFullYear()%1e4,t,4)}function zt(){return"+0000"}function Dt(){return"%"}function Pt(e){return+e}function Lt(e){return Math.floor(+e/1e3)}function Ot(e){return new Date(e)}function It(e){return e instanceof Date?+e:+new Date(+e)}function Rt(e,t,n,r,i,a,o,l,c,s){var u=M(),f=u.invert,d=u.domain,h=s(".%L"),g=s(":%S"),p=s("%I:%M"),_=s("%I %p"),b=s("%a %d"),m=s("%b %d"),v=s("%B"),y=s("%Y");function w(e){return(c(e)<e?h:l(e)<e?g:o(e)<e?p:a(e)<e?_:r(e)<e?i(e)<e?b:m:n(e)<e?v:y)(e)}return u.invert=function(e){return new Date(f(e))},u.domain=function(e){return arguments.length?d(Array.from(e,It)):d().map(Ot)},u.ticks=function(t){var n=d();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:s(t)},u.nice=function(e){var n=d();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?d(D(n,e)):u},u.copy=function(){return k(u,Rt(e,t,n,r,i,a,o,l,c,s))},u}function Bt(){return i.apply(Rt(ae.sD,ae._8,oe.es,le.IB,ce.LE,se.oL,ue.We,fe.i_,de.s,be).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ft(){return i.apply(Rt(ae.yc,ae.ig,oe.KA,le.QT,ce.EV,se.wp,ue.wr,fe.wj,de.s,me).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Yt(){var e,t,n,r,i,a=0,o=1,l=v,c=!1;function s(t){return null==t||isNaN(t=+t)?i:l(0===n?.5:(t=(r(t)-e)*n,c?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,l=e(n,r),s):[l(0),l(1)]}}return s.domain=function(i){return arguments.length?([a,o]=i,e=r(a=+a),t=r(o=+o),n=e===t?0:1/(t-e),s):[a,o]},s.clamp=function(e){return arguments.length?(c=!!e,s):c},s.interpolator=function(e){return arguments.length?(l=e,s):l},s.range=u(g.c),s.rangeRound=u(_),s.unknown=function(e){return arguments.length?(i=e,s):i},function(i){return r=i,e=i(a),t=i(o),n=e===t?0:1/(t-e),s}}function jt(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $t(){var e=V(Yt()(v));return e.copy=function(){return jt(e,$t())},a.apply(e,arguments)}function Ht(){var e=F(Yt()).domain([1,10]);return e.copy=function(){return jt(e,Ht()).base(e.base())},a.apply(e,arguments)}function Ut(){var e=H(Yt());return e.copy=function(){return jt(e,Ut()).constant(e.constant())},a.apply(e,arguments)}function Wt(){var e=X(Yt());return e.copy=function(){return jt(e,Wt()).exponent(e.exponent())},a.apply(e,arguments)}function qt(){return Wt.apply(null,arguments).exponent(.5)}function Gt(){var e=[],t=v;function n(n){if(null!=n&&!isNaN(n=+n))return t(((0,h.cp)(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(te.c),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map(((n,r)=>t(r/(e.length-1))))},n.quantiles=function(t){return Array.from({length:t+1},((n,r)=>(0,ee.cp)(e,r/t)))},n.copy=function(){return Gt(t).domain(e)},a.apply(n,arguments)}function Xt(){var e,t,n,r,i,a,o,l=0,c=.5,s=1,u=1,f=v,d=!1;function h(e){return isNaN(e=+e)?o:(e=.5+((e=+a(e))-t)*(u*e<u*t?r:i),f(d?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,f=function(e,t){void 0===t&&(t=e,e=g.c);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}(e,[n,r,i]),h):[f(0),f(.5),f(1)]}}return h.domain=function(o){return arguments.length?([l,c,s]=o,e=a(l=+l),t=a(c=+c),n=a(s=+s),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,h):[l,c,s]},h.clamp=function(e){return arguments.length?(d=!!e,h):d},h.interpolator=function(e){return arguments.length?(f=e,h):f},h.range=p(g.c),h.rangeRound=p(_),h.unknown=function(e){return arguments.length?(o=e,h):o},function(o){return a=o,e=o(l),t=o(c),n=o(s),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,h}}function Kt(){var e=V(Xt()(v));return e.copy=function(){return jt(e,Kt())},a.apply(e,arguments)}function Qt(){var e=F(Xt()).domain([.1,1,10]);return e.copy=function(){return jt(e,Qt()).base(e.base())},a.apply(e,arguments)}function Zt(){var e=H(Xt());return e.copy=function(){return jt(e,Zt()).constant(e.constant())},a.apply(e,arguments)}function Jt(){var e=X(Xt());return e.copy=function(){return jt(e,Jt()).exponent(e.exponent())},a.apply(e,arguments)}function en(){return Jt.apply(null,arguments).exponent(.5)}_e=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,s=Me(i),u=Ae(i),f=Me(a),d=Ae(a),h=Me(o),g=Ae(o),p=Me(l),_=Ae(l),b=Me(c),m=Ae(c),v={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return c[e.getMonth()]},B:function(e){return l[e.getMonth()]},c:null,d:qe,e:qe,f:Ze,g:st,G:ft,H:Ge,I:Xe,j:Ke,L:Qe,m:Je,M:et,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Pt,s:Lt,S:tt,u:nt,U:rt,V:at,w:ot,W:lt,x:null,X:null,y:ct,Y:ut,Z:dt,"%":Dt},y={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return c[e.getUTCMonth()]},B:function(e){return l[e.getUTCMonth()]},c:null,d:ht,e:ht,f:mt,g:Ct,G:Nt,H:gt,I:pt,j:_t,L:bt,m:vt,M:yt,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Pt,s:Lt,S:wt,u:xt,U:kt,V:Mt,w:At,W:Tt,x:null,X:null,y:Et,Y:Vt,Z:zt,"%":Dt},w={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=g.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=b.exec(t.slice(n));return r?(e.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.m=_.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return S(e,t,n,r)},d:Ie,e:Ie,f:$e,g:De,G:ze,H:Be,I:Be,j:Re,L:je,m:Oe,M:Fe,p:function(e,t,n){var r=s.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:Le,Q:Ue,s:We,S:Ye,u:Ee,U:Ce,V:Ve,w:Te,W:Ne,x:function(e,t,r){return S(e,n,t,r)},X:function(e,t,n){return S(e,r,t,n)},y:De,Y:ze,Z:Pe,"%":He};function x(e,t){return function(n){var r,i,a,o=[],l=-1,c=0,s=e.length;for(n instanceof Date||(n=new Date(+n));++l<s;)37===e.charCodeAt(l)&&(o.push(e.slice(c,l)),null!=(i=ve[r=e.charAt(++l)])?r=e.charAt(++l):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),c=l+1);return o.push(e.slice(c,l)),o.join("")}}function k(e,t){return function(n){var r,i,a=pe(1900,void 0,1);if(S(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=ge(pe(a.y,0,1))).getUTCDay(),r=i>4||0===i?ce.ot.ceil(r):(0,ce.ot)(r),r=se.wp.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=he(pe(a.y,0,1))).getDay(),r=i>4||0===i?ce.MH.ceil(r):(0,ce.MH)(r),r=se.oL.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?ge(pe(a.y,0,1)).getUTCDay():he(pe(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,ge(a)):he(a)}}function S(e,t,n,r){for(var i,a,o=0,l=t.length,c=n.length;o<l;){if(r>=c)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=w[i in ve?t.charAt(o++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return v.x=x(n,v),v.X=x(r,v),v.c=x(t,v),y.x=x(n,y),y.X=x(r,y),y.c=x(t,y),{format:function(e){var t=x(e+="",v);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=x(e+="",y);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),be=_e.format,_e.parse,me=_e.utcFormat,_e.utcParse},9048:(e,t,n)=>{"use strict";function r(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}n.d(t,{c:()=>r})},7548:(e,t,n)=>{"use strict";n.d(t,{c:()=>l});var r=n(976),i=n(3168);function a(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===i.i&&t.documentElement.namespaceURI===i.i?t.createElement(e):t.createElementNS(n,e)}}function o(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function l(e){var t=(0,r.c)(e);return(t.local?o:a)(t)}},7680:(e,t,n)=>{"use strict";n.r(t),n.d(t,{create:()=>a,creator:()=>r.c,local:()=>l,matcher:()=>s.M,namespace:()=>u.c,namespaces:()=>f.c,pointer:()=>d.c,pointers:()=>g,select:()=>i.c,selectAll:()=>b,selection:()=>_.cp,selector:()=>m.c,selectorAll:()=>v.c,style:()=>y.V,window:()=>w.c});var r=n(7548),i=n(3291);function a(e){return(0,i.c)((0,r.c)(e).call(document.documentElement))}var o=0;function l(){return new c}function c(){this._="@"+(++o).toString(36)}c.prototype=l.prototype={constructor:c,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var s=n(2677),u=n(976),f=n(3168),d=n(1093),h=n(752);function g(e,t){return e.target&&(e=(0,h.c)(e),void 0===t&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,(e=>(0,d.c)(e,t)))}var p=n(9048),_=n(5932);function b(e){return"string"==typeof e?new _.GR([document.querySelectorAll(e)],[document.documentElement]):new _.GR([(0,p.c)(e)],_.Sq)}var m=n(5668),v=n(8468),y=n(4248),w=n(2800)},2677:(e,t,n)=>{"use strict";function r(e){return function(){return this.matches(e)}}function i(e){return function(t){return t.matches(e)}}n.d(t,{M:()=>r,c:()=>i})},976:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(3168);function i(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),r.c.hasOwnProperty(t)?{space:r.c[t],local:e}:e}},3168:(e,t,n)=>{"use strict";n.d(t,{c:()=>i,i:()=>r});var r="http://www.w3.org/1999/xhtml";const i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},1093:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(752);function i(e,t){if(e=(0,r.c)(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}},3291:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(5932);function i(e){return"string"==typeof e?new r.GR([[document.querySelector(e)]],[document.documentElement]):new r.GR([[e]],r.Sq)}},5932:(e,t,n)=>{"use strict";n.d(t,{GR:()=>re,cp:()=>ae,Sq:()=>ne});var r=n(5668),i=n(9048),a=n(8468),o=n(2677),l=Array.prototype.find;function c(){return this.firstElementChild}var s=Array.prototype.filter;function u(){return Array.from(this.children)}function f(e){return new Array(e.length)}function d(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function h(e,t,n,r,i,a){for(var o,l=0,c=t.length,s=a.length;l<s;++l)(o=t[l])?(o.__data__=a[l],r[l]=o):n[l]=new d(e,a[l]);for(;l<c;++l)(o=t[l])&&(i[l]=o)}function g(e,t,n,r,i,a,o){var l,c,s,u=new Map,f=t.length,h=a.length,g=new Array(f);for(l=0;l<f;++l)(c=t[l])&&(g[l]=s=o.call(c,c.__data__,l,t)+"",u.has(s)?i[l]=c:u.set(s,c));for(l=0;l<h;++l)s=o.call(e,a[l],l,a)+"",(c=u.get(s))?(r[l]=c,c.__data__=a[l],u.delete(s)):n[l]=new d(e,a[l]);for(l=0;l<f;++l)(c=t[l])&&u.get(g[l])===c&&(i[l]=c)}function p(e){return e.__data__}function _(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function b(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}d.prototype={constructor:d,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var m=n(976);function v(e){return function(){this.removeAttribute(e)}}function y(e){return function(){this.removeAttributeNS(e.space,e.local)}}function w(e,t){return function(){this.setAttribute(e,t)}}function x(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function k(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function S(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var M=n(4248);function A(e){return function(){delete this[e]}}function T(e,t){return function(){this[e]=t}}function E(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function C(e){return e.trim().split(/^|\s+/)}function V(e){return e.classList||new N(e)}function N(e){this._node=e,this._names=C(e.getAttribute("class")||"")}function z(e,t){for(var n=V(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function D(e,t){for(var n=V(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function P(e){return function(){z(this,e)}}function L(e){return function(){D(this,e)}}function O(e,t){return function(){(t.apply(this,arguments)?z:D)(this,e)}}function I(){this.textContent=""}function R(e){return function(){this.textContent=e}}function B(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function F(){this.innerHTML=""}function Y(e){return function(){this.innerHTML=e}}function j(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function $(){this.nextSibling&&this.parentNode.appendChild(this)}function H(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}N.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var U=n(7548);function W(){return null}function q(){var e=this.parentNode;e&&e.removeChild(this)}function G(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function X(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function K(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function Q(e,t,n){return function(){var r,i=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var o=0,l=i.length;o<l;++o)if((r=i[o]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=t);this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(r):this.__on=[r]}}var Z=n(2800);function J(e,t,n){var r=(0,Z.c)(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function ee(e,t){return function(){return J(this,e,t)}}function te(e,t){return function(){return J(this,e,t.apply(this,arguments))}}var ne=[null];function re(e,t){this._groups=e,this._parents=t}function ie(){return new re([[document.documentElement]],ne)}re.prototype=ie.prototype={constructor:re,select:function(e){"function"!=typeof e&&(e=(0,r.c)(e));for(var t=this._groups,n=t.length,i=new Array(n),a=0;a<n;++a)for(var o,l,c=t[a],s=c.length,u=i[a]=new Array(s),f=0;f<s;++f)(o=c[f])&&(l=e.call(o,o.__data__,f,c))&&("__data__"in o&&(l.__data__=o.__data__),u[f]=l);return new re(i,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){return(0,i.c)(e.apply(this,arguments))}}(e):(0,a.c)(e);for(var t=this._groups,n=t.length,r=[],o=[],l=0;l<n;++l)for(var c,s=t[l],u=s.length,f=0;f<u;++f)(c=s[f])&&(r.push(e.call(c,c.__data__,f,s)),o.push(c));return new re(r,o)},selectChild:function(e){return this.select(null==e?c:function(e){return function(){return l.call(this.children,e)}}("function"==typeof e?e:(0,o.c)(e)))},selectChildren:function(e){return this.selectAll(null==e?u:function(e){return function(){return s.call(this.children,e)}}("function"==typeof e?e:(0,o.c)(e)))},filter:function(e){"function"!=typeof e&&(e=(0,o.M)(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,l=t[i],c=l.length,s=r[i]=[],u=0;u<c;++u)(a=l[u])&&e.call(a,a.__data__,u,l)&&s.push(a);return new re(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,p);var n,r=t?g:h,i=this._parents,a=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var o=a.length,l=new Array(o),c=new Array(o),s=new Array(o),u=0;u<o;++u){var f=i[u],d=a[u],b=d.length,m=_(e.call(f,f&&f.__data__,u,i)),v=m.length,y=c[u]=new Array(v),w=l[u]=new Array(v);r(f,d,y,w,s[u]=new Array(b),m,t);for(var x,k,S=0,M=0;S<v;++S)if(x=y[S]){for(S>=M&&(M=S+1);!(k=w[M])&&++M<v;);x._next=k||null}}return(l=new re(l,i))._enter=c,l._exit=s,l},enter:function(){return new re(this._enter||this._groups.map(f),this._parents)},exit:function(){return new re(this._exit||this._groups.map(f),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,a=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),l=new Array(i),c=0;c<o;++c)for(var s,u=n[c],f=r[c],d=u.length,h=l[c]=new Array(d),g=0;g<d;++g)(s=u[g]||f[g])&&(h[g]=s);for(;c<i;++c)l[c]=n[c];return new re(l,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=b);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,l=n[a],c=l.length,s=i[a]=new Array(c),u=0;u<c;++u)(o=l[u])&&(s[u]=o);s.sort(t)}return new re(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],o=0,l=a.length;o<l;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this},attr:function(e,t){var n=(0,m.c)(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?y:v:"function"==typeof t?n.local?S:k:n.local?x:w)(n,t))},style:M.c,property:function(e,t){return arguments.length>1?this.each((null==t?A:"function"==typeof t?E:T)(e,t)):this.node()[e]},classed:function(e,t){var n=C(e+"");if(arguments.length<2){for(var r=V(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?O:t?P:L)(n,t))},text:function(e){return arguments.length?this.each(null==e?I:("function"==typeof e?B:R)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?F:("function"==typeof e?j:Y)(e)):this.node().innerHTML},raise:function(){return this.each($)},lower:function(){return this.each(H)},append:function(e){var t="function"==typeof e?e:(0,U.c)(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:(0,U.c)(e),i=null==t?W:"function"==typeof t?t:(0,r.c)(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(q)},clone:function(e){return this.select(e?X:G)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,a=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),o=a.length;if(!(arguments.length<2)){for(l=t?Q:K,r=0;r<o;++r)this.each(l(a[r],t,n));return this}var l=this.node().__on;if(l)for(var c,s=0,u=l.length;s<u;++s)for(r=0,c=l[s];r<o;++r)if((i=a[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(e,t){return this.each(("function"==typeof t?te:ee)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],a=0,o=i.length;a<o;++a)(r=i[a])&&(yield r)}};const ae=ie},4248:(e,t,n)=>{"use strict";n.d(t,{V:()=>c,c:()=>l});var r=n(2800);function i(e){return function(){this.style.removeProperty(e)}}function a(e,t,n){return function(){this.style.setProperty(e,t,n)}}function o(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function l(e,t,n){return arguments.length>1?this.each((null==t?i:"function"==typeof t?o:a)(e,t,null==n?"":n)):c(this.node(),e)}function c(e,t){return e.style.getPropertyValue(t)||(0,r.c)(e).getComputedStyle(e,null).getPropertyValue(t)}},5668:(e,t,n)=>{"use strict";function r(){}function i(e){return null==e?r:function(){return this.querySelector(e)}}n.d(t,{c:()=>i})},8468:(e,t,n)=>{"use strict";function r(){return[]}function i(e){return null==e?r:function(){return this.querySelectorAll(e)}}n.d(t,{c:()=>i})},752:(e,t,n)=>{"use strict";function r(e){let t;for(;t=e.sourceEvent;)e=t;return e}n.d(t,{c:()=>r})},2800:(e,t,n)=>{"use strict";function r(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}n.d(t,{c:()=>r})},5824:(e,t,n)=>{"use strict";function r(e){return function(){return e}}n.r(t),n.d(t,{arc:()=>S,area:()=>z,areaRadial:()=>Y,curveBasis:()=>Ne,curveBasisClosed:()=>De,curveBasisOpen:()=>Le,curveBumpX:()=>U,curveBumpY:()=>W,curveBundle:()=>Ie,curveCardinal:()=>Fe,curveCardinalClosed:()=>je,curveCardinalOpen:()=>He,curveCatmullRom:()=>qe,curveCatmullRomClosed:()=>Xe,curveCatmullRomOpen:()=>Qe,curveLinear:()=>E,curveLinearClosed:()=>Je,curveMonotoneX:()=>lt,curveMonotoneY:()=>ct,curveNatural:()=>ft,curveStep:()=>ht,curveStepAfter:()=>pt,curveStepBefore:()=>gt,line:()=>N,lineRadial:()=>F,link:()=>K,linkHorizontal:()=>Q,linkRadial:()=>J,linkVertical:()=>Z,pie:()=>L,pointRadial:()=>j,radialArea:()=>Y,radialLine:()=>F,stack:()=>yt,stackOffsetDiverging:()=>xt,stackOffsetExpand:()=>wt,stackOffsetNone:()=>_t,stackOffsetSilhouette:()=>kt,stackOffsetWiggle:()=>St,stackOrderAppearance:()=>Mt,stackOrderAscending:()=>Tt,stackOrderDescending:()=>Ct,stackOrderInsideOut:()=>Vt,stackOrderNone:()=>bt,stackOrderReverse:()=>Nt,symbol:()=>Te,symbolAsterisk:()=>te,symbolCircle:()=>ne,symbolCross:()=>re,symbolDiamond:()=>oe,symbolDiamond2:()=>le,symbolPlus:()=>ce,symbolSquare:()=>se,symbolSquare2:()=>ue,symbolStar:()=>ge,symbolTimes:()=>Se,symbolTriangle:()=>_e,symbolTriangle2:()=>me,symbolWye:()=>ke,symbolX:()=>Se,symbols:()=>Me,symbolsFill:()=>Me,symbolsStroke:()=>Ae});const i=Math.abs,a=Math.atan2,o=Math.cos,l=Math.max,c=Math.min,s=Math.sin,u=Math.sqrt,f=1e-12,d=Math.PI,h=d/2,g=2*d;function p(e){return e>=1?h:e<=-1?-h:Math.asin(e)}var _=n(7064);function b(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new _.YH(t)}function m(e){return e.innerRadius}function v(e){return e.outerRadius}function y(e){return e.startAngle}function w(e){return e.endAngle}function x(e){return e&&e.padAngle}function k(e,t,n,r,i,a,o){var c=e-n,s=t-r,f=(o?a:-a)/u(c*c+s*s),d=f*s,h=-f*c,g=e+d,p=t+h,_=n+d,b=r+h,m=(g+_)/2,v=(p+b)/2,y=_-g,w=b-p,x=y*y+w*w,k=i-a,S=g*b-_*p,M=(w<0?-1:1)*u(l(0,k*k*x-S*S)),A=(S*w-y*M)/x,T=(-S*y-w*M)/x,E=(S*w+y*M)/x,C=(-S*y+w*M)/x,V=A-m,N=T-v,z=E-m,D=C-v;return V*V+N*N>z*z+D*D&&(A=E,T=C),{cx:A,cy:T,x01:-d,y01:-h,x11:A*(i/k-1),y11:T*(i/k-1)}}function S(){var e=m,t=v,n=r(0),l=null,_=y,S=w,M=x,A=null,T=b(E);function E(){var r,b,m,v=+e.apply(this,arguments),y=+t.apply(this,arguments),w=_.apply(this,arguments)-h,x=S.apply(this,arguments)-h,E=i(x-w),C=x>w;if(A||(A=r=T()),y<v&&(b=y,y=v,v=b),y>f)if(E>g-f)A.moveTo(y*o(w),y*s(w)),A.arc(0,0,y,w,x,!C),v>f&&(A.moveTo(v*o(x),v*s(x)),A.arc(0,0,v,x,w,C));else{var V,N,z=w,D=x,P=w,L=x,O=E,I=E,R=M.apply(this,arguments)/2,B=R>f&&(l?+l.apply(this,arguments):u(v*v+y*y)),F=c(i(y-v)/2,+n.apply(this,arguments)),Y=F,j=F;if(B>f){var $=p(B/v*s(R)),H=p(B/y*s(R));(O-=2*$)>f?(P+=$*=C?1:-1,L-=$):(O=0,P=L=(w+x)/2),(I-=2*H)>f?(z+=H*=C?1:-1,D-=H):(I=0,z=D=(w+x)/2)}var U=y*o(z),W=y*s(z),q=v*o(L),G=v*s(L);if(F>f){var X,K=y*o(D),Q=y*s(D),Z=v*o(P),J=v*s(P);if(E<d)if(X=function(e,t,n,r,i,a,o,l){var c=n-e,s=r-t,u=o-i,d=l-a,h=d*c-u*s;if(!(h*h<f))return[e+(h=(u*(t-a)-d*(e-i))/h)*c,t+h*s]}(U,W,Z,J,K,Q,q,G)){var ee=U-X[0],te=W-X[1],ne=K-X[0],re=Q-X[1],ie=1/s(((m=(ee*ne+te*re)/(u(ee*ee+te*te)*u(ne*ne+re*re)))>1?0:m<-1?d:Math.acos(m))/2),ae=u(X[0]*X[0]+X[1]*X[1]);Y=c(F,(v-ae)/(ie-1)),j=c(F,(y-ae)/(ie+1))}else Y=j=0}I>f?j>f?(V=k(Z,J,U,W,y,j,C),N=k(K,Q,q,G,y,j,C),A.moveTo(V.cx+V.x01,V.cy+V.y01),j<F?A.arc(V.cx,V.cy,j,a(V.y01,V.x01),a(N.y01,N.x01),!C):(A.arc(V.cx,V.cy,j,a(V.y01,V.x01),a(V.y11,V.x11),!C),A.arc(0,0,y,a(V.cy+V.y11,V.cx+V.x11),a(N.cy+N.y11,N.cx+N.x11),!C),A.arc(N.cx,N.cy,j,a(N.y11,N.x11),a(N.y01,N.x01),!C))):(A.moveTo(U,W),A.arc(0,0,y,z,D,!C)):A.moveTo(U,W),v>f&&O>f?Y>f?(V=k(q,G,K,Q,v,-Y,C),N=k(U,W,Z,J,v,-Y,C),A.lineTo(V.cx+V.x01,V.cy+V.y01),Y<F?A.arc(V.cx,V.cy,Y,a(V.y01,V.x01),a(N.y01,N.x01),!C):(A.arc(V.cx,V.cy,Y,a(V.y01,V.x01),a(V.y11,V.x11),!C),A.arc(0,0,v,a(V.cy+V.y11,V.cx+V.x11),a(N.cy+N.y11,N.cx+N.x11),C),A.arc(N.cx,N.cy,Y,a(N.y11,N.x11),a(N.y01,N.x01),!C))):A.arc(0,0,v,L,P,C):A.lineTo(q,G)}else A.moveTo(0,0);if(A.closePath(),r)return A=null,r+""||null}return E.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+_.apply(this,arguments)+ +S.apply(this,arguments))/2-d/2;return[o(r)*n,s(r)*n]},E.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:r(+t),E):e},E.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:r(+e),E):t},E.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:r(+e),E):n},E.padRadius=function(e){return arguments.length?(l=null==e?null:"function"==typeof e?e:r(+e),E):l},E.startAngle=function(e){return arguments.length?(_="function"==typeof e?e:r(+e),E):_},E.endAngle=function(e){return arguments.length?(S="function"==typeof e?e:r(+e),E):S},E.padAngle=function(e){return arguments.length?(M="function"==typeof e?e:r(+e),E):M},E.context=function(e){return arguments.length?(A=null==e?null:e,E):A},E}var M=Array.prototype.slice;function A(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function T(e){this._context=e}function E(e){return new T(e)}function C(e){return e[0]}function V(e){return e[1]}function N(e,t){var n=r(!0),i=null,a=E,o=null,l=b(c);function c(r){var c,s,u,f=(r=A(r)).length,d=!1;for(null==i&&(o=a(u=l())),c=0;c<=f;++c)!(c<f&&n(s=r[c],c,r))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(s,c,r),+t(s,c,r));if(u)return o=null,u+""||null}return e="function"==typeof e?e:void 0===e?C:r(e),t="function"==typeof t?t:void 0===t?V:r(t),c.x=function(t){return arguments.length?(e="function"==typeof t?t:r(+t),c):e},c.y=function(e){return arguments.length?(t="function"==typeof e?e:r(+e),c):t},c.defined=function(e){return arguments.length?(n="function"==typeof e?e:r(!!e),c):n},c.curve=function(e){return arguments.length?(a=e,null!=i&&(o=a(i)),c):a},c.context=function(e){return arguments.length?(null==e?i=o=null:o=a(i=e),c):i},c}function z(e,t,n){var i=null,a=r(!0),o=null,l=E,c=null,s=b(u);function u(r){var u,f,d,h,g,p=(r=A(r)).length,_=!1,b=new Array(p),m=new Array(p);for(null==o&&(c=l(g=s())),u=0;u<=p;++u){if(!(u<p&&a(h=r[u],u,r))===_)if(_=!_)f=u,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),d=u-1;d>=f;--d)c.point(b[d],m[d]);c.lineEnd(),c.areaEnd()}_&&(b[u]=+e(h,u,r),m[u]=+t(h,u,r),c.point(i?+i(h,u,r):b[u],n?+n(h,u,r):m[u]))}if(g)return c=null,g+""||null}function f(){return N().defined(a).curve(l).context(o)}return e="function"==typeof e?e:void 0===e?C:r(+e),t="function"==typeof t?t:r(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?V:r(+n),u.x=function(t){return arguments.length?(e="function"==typeof t?t:r(+t),i=null,u):e},u.x0=function(t){return arguments.length?(e="function"==typeof t?t:r(+t),u):e},u.x1=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:r(+e),u):i},u.y=function(e){return arguments.length?(t="function"==typeof e?e:r(+e),n=null,u):t},u.y0=function(e){return arguments.length?(t="function"==typeof e?e:r(+e),u):t},u.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:r(+e),u):n},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(n)},u.lineX1=function(){return f().x(i).y(t)},u.defined=function(e){return arguments.length?(a="function"==typeof e?e:r(!!e),u):a},u.curve=function(e){return arguments.length?(l=e,null!=o&&(c=l(o)),u):l},u.context=function(e){return arguments.length?(null==e?o=c=null:c=l(o=e),u):o},u}function D(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function P(e){return e}function L(){var e=P,t=D,n=null,i=r(0),a=r(g),o=r(0);function l(r){var l,c,s,u,f,d=(r=A(r)).length,h=0,p=new Array(d),_=new Array(d),b=+i.apply(this,arguments),m=Math.min(g,Math.max(-g,a.apply(this,arguments)-b)),v=Math.min(Math.abs(m)/d,o.apply(this,arguments)),y=v*(m<0?-1:1);for(l=0;l<d;++l)(f=_[p[l]=l]=+e(r[l],l,r))>0&&(h+=f);for(null!=t?p.sort((function(e,n){return t(_[e],_[n])})):null!=n&&p.sort((function(e,t){return n(r[e],r[t])})),l=0,s=h?(m-d*y)/h:0;l<d;++l,b=u)c=p[l],u=b+((f=_[c])>0?f*s:0)+y,_[c]={data:r[c],index:l,value:f,startAngle:b,endAngle:u,padAngle:v};return _}return l.value=function(t){return arguments.length?(e="function"==typeof t?t:r(+t),l):e},l.sortValues=function(e){return arguments.length?(t=e,n=null,l):t},l.sort=function(e){return arguments.length?(n=e,t=null,l):n},l.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:r(+e),l):i},l.endAngle=function(e){return arguments.length?(a="function"==typeof e?e:r(+e),l):a},l.padAngle=function(e){return arguments.length?(o="function"==typeof e?e:r(+e),l):o},l}T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var O=R(E);function I(e){this._curve=e}function R(e){function t(t){return new I(e(t))}return t._curve=e,t}function B(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(R(e)):t()._curve},e}function F(){return B(N().curve(O))}function Y(){var e=z().curve(O),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,a=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return B(n())},delete e.lineX0,e.lineEndAngle=function(){return B(r())},delete e.lineX1,e.lineInnerRadius=function(){return B(i())},delete e.lineY0,e.lineOuterRadius=function(){return B(a())},delete e.lineY1,e.curve=function(e){return arguments.length?t(R(e)):t()._curve},e}function j(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}I.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};class ${constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}class H{constructor(e){this._context=e}lineStart(){this._point=0}lineEnd(){}point(e,t){if(e=+e,t=+t,0===this._point)this._point=1;else{const n=j(this._x0,this._y0),r=j(this._x0,this._y0=(this._y0+t)/2),i=j(e,this._y0),a=j(e,t);this._context.moveTo(...n),this._context.bezierCurveTo(...r,...i,...a)}this._x0=e,this._y0=t}}function U(e){return new $(e,!0)}function W(e){return new $(e,!1)}function q(e){return new H(e)}function G(e){return e.source}function X(e){return e.target}function K(e){let t=G,n=X,i=C,a=V,o=null,l=null,c=b(s);function s(){let r;const s=M.call(arguments),u=t.apply(this,s),f=n.apply(this,s);if(null==o&&(l=e(r=c())),l.lineStart(),s[0]=u,l.point(+i.apply(this,s),+a.apply(this,s)),s[0]=f,l.point(+i.apply(this,s),+a.apply(this,s)),l.lineEnd(),r)return l=null,r+""||null}return s.source=function(e){return arguments.length?(t=e,s):t},s.target=function(e){return arguments.length?(n=e,s):n},s.x=function(e){return arguments.length?(i="function"==typeof e?e:r(+e),s):i},s.y=function(e){return arguments.length?(a="function"==typeof e?e:r(+e),s):a},s.context=function(t){return arguments.length?(null==t?o=l=null:l=e(o=t),s):o},s}function Q(){return K(U)}function Z(){return K(W)}function J(){const e=K(q);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}const ee=u(3),te={draw(e,t){const n=.59436*u(t+c(t/28,.75)),r=n/2,i=r*ee;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},ne={draw(e,t){const n=u(t/d);e.moveTo(n,0),e.arc(0,0,n,0,g)}},re={draw(e,t){const n=u(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},ie=u(1/3),ae=2*ie,oe={draw(e,t){const n=u(t/ae),r=n*ie;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},le={draw(e,t){const n=.62625*u(t);e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},ce={draw(e,t){const n=.87559*u(t-c(t/7,2));e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},se={draw(e,t){const n=u(t),r=-n/2;e.rect(r,r,n,n)}},ue={draw(e,t){const n=.4431*u(t);e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},fe=s(d/10)/s(7*d/10),de=s(g/10)*fe,he=-o(g/10)*fe,ge={draw(e,t){const n=u(.8908130915292852*t),r=de*n,i=he*n;e.moveTo(0,-n),e.lineTo(r,i);for(let t=1;t<5;++t){const a=g*t/5,l=o(a),c=s(a);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*i,c*r+l*i)}e.closePath()}},pe=u(3),_e={draw(e,t){const n=-u(t/(3*pe));e.moveTo(0,2*n),e.lineTo(-pe*n,-n),e.lineTo(pe*n,-n),e.closePath()}},be=u(3),me={draw(e,t){const n=.6824*u(t),r=n/2,i=n*be/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},ve=-.5,ye=u(3)/2,we=1/u(12),xe=3*(we/2+1),ke={draw(e,t){const n=u(t/xe),r=n/2,i=n*we,a=r,o=n*we+n,l=-a,c=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(ve*r-ye*i,ye*r+ve*i),e.lineTo(ve*a-ye*o,ye*a+ve*o),e.lineTo(ve*l-ye*c,ye*l+ve*c),e.lineTo(ve*r+ye*i,ve*i-ye*r),e.lineTo(ve*a+ye*o,ve*o-ye*a),e.lineTo(ve*l+ye*c,ve*c-ye*l),e.closePath()}},Se={draw(e,t){const n=.6189*u(t-c(t/6,1.7));e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},Me=[ne,re,oe,se,ge,_e,ke],Ae=[ne,ce,Se,me,te,ue,le];function Te(e,t){let n=null,i=b(a);function a(){let r;if(n||(n=r=i()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return e="function"==typeof e?e:r(e||ne),t="function"==typeof t?t:r(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"==typeof t?t:r(t),a):e},a.size=function(e){return arguments.length?(t="function"==typeof e?e:r(+e),a):t},a.context=function(e){return arguments.length?(n=null==e?null:e,a):n},a}function Ee(){}function Ce(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Ve(e){this._context=e}function Ne(e){return new Ve(e)}function ze(e){this._context=e}function De(e){return new ze(e)}function Pe(e){this._context=e}function Le(e){return new Pe(e)}function Oe(e,t){this._basis=new Ve(e),this._beta=t}Ve.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ce(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ce(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},ze.prototype={areaStart:Ee,areaEnd:Ee,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ce(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Pe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ce(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Oe.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],a=t[0],o=e[n]-i,l=t[n]-a,c=-1;++c<=n;)r=c/n,this._basis.point(this._beta*e[c]+(1-this._beta)*(i+r*o),this._beta*t[c]+(1-this._beta)*(a+r*l));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Ie=function e(t){function n(e){return 1===t?new Ve(e):new Oe(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function Re(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Be(e,t){this._context=e,this._k=(1-t)/6}Be.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Re(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Re(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Fe=function e(t){function n(e){return new Be(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Ye(e,t){this._context=e,this._k=(1-t)/6}Ye.prototype={areaStart:Ee,areaEnd:Ee,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Re(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const je=function e(t){function n(e){return new Ye(e,t)}return n.tension=function(t){return e(+t)},n}(0);function $e(e,t){this._context=e,this._k=(1-t)/6}$e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Re(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const He=function e(t){function n(e){return new $e(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Ue(e,t,n){var r=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>f){var l=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*l-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,i=(i*l-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>f){var s=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*s+e._x1*e._l23_2a-t*e._l12_2a)/u,o=(o*s+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,a,o,e._x2,e._y2)}function We(e,t){this._context=e,this._alpha=t}We.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Ue(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const qe=function e(t){function n(e){return t?new We(e,t):new Be(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Ge(e,t){this._context=e,this._alpha=t}Ge.prototype={areaStart:Ee,areaEnd:Ee,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ue(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Xe=function e(t){function n(e){return t?new Ge(e,t):new Ye(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Ke(e,t){this._context=e,this._alpha=t}Ke.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ue(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Qe=function e(t){function n(e){return t?new Ke(e,t):new $e(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Ze(e){this._context=e}function Je(e){return new Ze(e)}function et(e){return e<0?-1:1}function tt(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(et(a)+et(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function nt(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function rt(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,i+l*t,a-l,o-l*n,a,o)}function it(e){this._context=e}function at(e){this._context=new ot(e)}function ot(e){this._context=e}function lt(e){return new it(e)}function ct(e){return new at(e)}function st(e){this._context=e}function ut(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function ft(e){return new st(e)}function dt(e,t){this._context=e,this._t=t}function ht(e){return new dt(e,.5)}function gt(e){return new dt(e,0)}function pt(e){return new dt(e,1)}function _t(e,t){if((i=e.length)>1)for(var n,r,i,a=1,o=e[t[0]],l=o.length;a<i;++a)for(r=o,o=e[t[a]],n=0;n<l;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function bt(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function mt(e,t){return e[t]}function vt(e){const t=[];return t.key=e,t}function yt(){var e=r([]),t=bt,n=_t,i=mt;function a(r){var a,o,l=Array.from(e.apply(this,arguments),vt),c=l.length,s=-1;for(const e of r)for(a=0,++s;a<c;++a)(l[a][s]=[0,+i(e,l[a].key,s,r)]).data=e;for(a=0,o=A(t(l));a<c;++a)l[o[a]].index=a;return n(l,o),l}return a.keys=function(t){return arguments.length?(e="function"==typeof t?t:r(Array.from(t)),a):e},a.value=function(e){return arguments.length?(i="function"==typeof e?e:r(+e),a):i},a.order=function(e){return arguments.length?(t=null==e?bt:"function"==typeof e?e:r(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(n=null==e?_t:e,a):n},a}function wt(e,t){if((r=e.length)>0){for(var n,r,i,a=0,o=e[0].length;a<o;++a){for(i=n=0;n<r;++n)i+=e[n][a][1]||0;if(i)for(n=0;n<r;++n)e[n][a][1]/=i}_t(e,t)}}function xt(e,t){if((l=e.length)>0)for(var n,r,i,a,o,l,c=0,s=e[t[0]].length;c<s;++c)for(a=o=0,n=0;n<l;++n)(i=(r=e[t[n]][c])[1]-r[0])>0?(r[0]=a,r[1]=a+=i):i<0?(r[1]=o,r[0]=o+=i):(r[0]=0,r[1]=i)}function kt(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],a=i.length;r<a;++r){for(var o=0,l=0;o<n;++o)l+=e[o][r][1]||0;i[r][1]+=i[r][0]=-l/2}_t(e,t)}}function St(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,a=0,o=1;o<r;++o){for(var l=0,c=0,s=0;l<i;++l){for(var u=e[t[l]],f=u[o][1]||0,d=(f-(u[o-1][1]||0))/2,h=0;h<l;++h){var g=e[t[h]];d+=(g[o][1]||0)-(g[o-1][1]||0)}c+=f,s+=d*f}n[o-1][1]+=n[o-1][0]=a,c&&(a-=s/c)}n[o-1][1]+=n[o-1][0]=a,_t(e,t)}}function Mt(e){var t=e.map(At);return bt(e).sort((function(e,n){return t[e]-t[n]}))}function At(e){for(var t,n=-1,r=0,i=e.length,a=-1/0;++n<i;)(t=+e[n][1])>a&&(a=t,r=n);return r}function Tt(e){var t=e.map(Et);return bt(e).sort((function(e,n){return t[e]-t[n]}))}function Et(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}function Ct(e){return Tt(e).reverse()}function Vt(e){var t,n,r=e.length,i=e.map(Et),a=Mt(e),o=0,l=0,c=[],s=[];for(t=0;t<r;++t)n=a[t],o<l?(o+=i[n],c.push(n)):(l+=i[n],s.push(n));return s.reverse().concat(c)}function Nt(e){return bt(e).reverse()}Ze.prototype={areaStart:Ee,areaEnd:Ee,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},it.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rt(this,this._t0,nt(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,rt(this,nt(this,n=tt(this,e,t)),n);break;default:rt(this,this._t0,n=tt(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(at.prototype=Object.create(it.prototype)).point=function(e,t){it.prototype.point.call(this,t,e)},ot.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},st.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=ut(e),i=ut(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},dt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}}},2676:(e,t,n)=>{"use strict";n.d(t,{Ou:()=>u,nA:()=>s,oF:()=>c,oL:()=>a,tc:()=>o,wp:()=>l});var r=n(2661),i=n(288);const a=(0,r.s)((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*i.iy)/i.SK),(e=>e.getDate()-1)),o=a.range,l=(0,r.s)((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/i.SK),(e=>e.getUTCDate()-1)),c=l.range,s=(0,r.s)((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/i.SK),(e=>Math.floor(e/i.SK))),u=s.range},288:(e,t,n)=>{"use strict";n.d(t,{IH:()=>c,KK:()=>l,SK:()=>o,cg:()=>a,iy:()=>i,yc:()=>r,ye:()=>s});const r=1e3,i=60*r,a=60*i,o=24*a,l=7*o,c=30*o,s=365*o},8544:(e,t,n)=>{"use strict";n.d(t,{SW:()=>c,We:()=>a,ay:()=>o,wr:()=>l});var r=n(2661),i=n(288);const a=(0,r.s)((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*i.yc-e.getMinutes()*i.iy)}),((e,t)=>{e.setTime(+e+t*i.cg)}),((e,t)=>(t-e)/i.cg),(e=>e.getHours())),o=a.range,l=(0,r.s)((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*i.cg)}),((e,t)=>(t-e)/i.cg),(e=>e.getUTCHours())),c=l.range},2252:(e,t,n)=>{"use strict";n.r(t),n.d(t,{timeDay:()=>c.oL,timeDays:()=>c.tc,timeFriday:()=>s.kj,timeFridays:()=>s.GC,timeHour:()=>l.We,timeHours:()=>l.ay,timeInterval:()=>r.s,timeMillisecond:()=>i.o,timeMilliseconds:()=>i.I,timeMinute:()=>o.i_,timeMinutes:()=>o.e8,timeMonday:()=>s.MH,timeMondays:()=>s.Wy,timeMonth:()=>u.IB,timeMonths:()=>u.A1,timeSaturday:()=>s.cL,timeSaturdays:()=>s.ik,timeSecond:()=>a.s,timeSeconds:()=>a.o,timeSunday:()=>s.LE,timeSundays:()=>s.wh,timeThursday:()=>s.eC,timeThursdays:()=>s._m,timeTickInterval:()=>d._8,timeTicks:()=>d.sD,timeTuesday:()=>s.mU,timeTuesdays:()=>s.UV,timeWednesday:()=>s.I5,timeWednesdays:()=>s.c1,timeWeek:()=>s.LE,timeWeeks:()=>s.wh,timeYear:()=>f.es,timeYears:()=>f.OG,unixDay:()=>c.nA,unixDays:()=>c.Ou,utcDay:()=>c.wp,utcDays:()=>c.oF,utcFriday:()=>s.od,utcFridays:()=>s.iG,utcHour:()=>l.wr,utcHours:()=>l.SW,utcMillisecond:()=>i.o,utcMilliseconds:()=>i.I,utcMinute:()=>o.wj,utcMinutes:()=>o.yg,utcMonday:()=>s.ot,utcMondays:()=>s.iO,utcMonth:()=>u.QT,utcMonths:()=>u.ER,utcSaturday:()=>s.Ad,utcSaturdays:()=>s.K8,utcSecond:()=>a.s,utcSeconds:()=>a.o,utcSunday:()=>s.EV,utcSundays:()=>s.Wq,utcThursday:()=>s.yA,utcThursdays:()=>s.ob,utcTickInterval:()=>d.ig,utcTicks:()=>d.yc,utcTuesday:()=>s.sG,utcTuesdays:()=>s.kl,utcWednesday:()=>s._6,utcWednesdays:()=>s.W_,utcWeek:()=>s.EV,utcWeeks:()=>s.Wq,utcYear:()=>f.KA,utcYears:()=>f.iO});var r=n(2661),i=n(9552),a=n(1384),o=n(8519),l=n(8544),c=n(2676),s=n(3464),u=n(3024),f=n(9516),d=n(4092)},2661:(e,t,n)=>{"use strict";n.d(t,{s:()=>a});const r=new Date,i=new Date;function a(e,t,n,o){function l(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return l.floor=t=>(e(t=new Date(+t)),t),l.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),l.round=e=>{const t=l(e),n=l.ceil(e);return e-t<n-e?t:n},l.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),l.range=(n,r,i)=>{const a=[];if(n=l.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return a;let o;do{a.push(o=new Date(+n)),t(n,i),e(n)}while(o<n&&n<r);return a},l.filter=n=>a((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(l.count=(t,a)=>(r.setTime(+t),i.setTime(+a),e(r),e(i),Math.floor(n(r,i))),l.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?l.filter(o?t=>o(t)%e==0:t=>l.count(0,t)%e==0):l:null)),l}},9552:(e,t,n)=>{"use strict";n.d(t,{I:()=>a,o:()=>i});var r=n(2661);const i=(0,r.s)((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?(0,r.s)((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):i:null);const a=i.range},8519:(e,t,n)=>{"use strict";n.d(t,{e8:()=>o,i_:()=>a,wj:()=>l,yg:()=>c});var r=n(2661),i=n(288);const a=(0,r.s)((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*i.yc)}),((e,t)=>{e.setTime(+e+t*i.iy)}),((e,t)=>(t-e)/i.iy),(e=>e.getMinutes())),o=a.range,l=(0,r.s)((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*i.iy)}),((e,t)=>(t-e)/i.iy),(e=>e.getUTCMinutes())),c=l.range},3024:(e,t,n)=>{"use strict";n.d(t,{A1:()=>a,ER:()=>l,IB:()=>i,QT:()=>o});var r=n(2661);const i=(0,r.s)((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth())),a=i.range,o=(0,r.s)((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth())),l=o.range},1384:(e,t,n)=>{"use strict";n.d(t,{o:()=>o,s:()=>a});var r=n(2661),i=n(288);const a=(0,r.s)((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*i.yc)}),((e,t)=>(t-e)/i.yc),(e=>e.getUTCSeconds())),o=a.range},4092:(e,t,n)=>{"use strict";n.d(t,{_8:()=>m,ig:()=>_,sD:()=>b,yc:()=>p});var r=n(864),i=n(8064),a=n(288),o=n(9552),l=n(1384),c=n(8519),s=n(8544),u=n(2676),f=n(3464),d=n(3024),h=n(9516);function g(e,t,n,c,s,u){const f=[[l.s,1,a.yc],[l.s,5,5*a.yc],[l.s,15,15*a.yc],[l.s,30,30*a.yc],[u,1,a.iy],[u,5,5*a.iy],[u,15,15*a.iy],[u,30,30*a.iy],[s,1,a.cg],[s,3,3*a.cg],[s,6,6*a.cg],[s,12,12*a.cg],[c,1,a.SK],[c,2,2*a.SK],[n,1,a.KK],[t,1,a.IH],[t,3,3*a.IH],[e,1,a.ye]];function d(t,n,l){const c=Math.abs(n-t)/l,s=(0,r.c)((([,,e])=>e)).right(f,c);if(s===f.length)return e.every((0,i.El)(t/a.ye,n/a.ye,l));if(0===s)return o.o.every(Math.max((0,i.El)(t,n,l),1));const[u,d]=f[c/f[s-1][2]<f[s][2]/c?s-1:s];return u.every(d)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"==typeof n.range?n:d(e,t,n),a=i?i.range(e,+t+1):[];return r?a.reverse():a},d]}const[p,_]=g(h.KA,d.QT,f.EV,u.nA,s.wr,c.wj),[b,m]=g(h.es,d.IB,f.LE,u.oL,s.We,c.i_)},3464:(e,t,n)=>{"use strict";n.d(t,{Ad:()=>T,EV:()=>w,GC:()=>m,I5:()=>s,K8:()=>P,LE:()=>o,MH:()=>l,UV:()=>p,W_:()=>N,Wq:()=>E,Wy:()=>g,_6:()=>S,_m:()=>b,c1:()=>_,cL:()=>d,eC:()=>u,iG:()=>D,iO:()=>C,ik:()=>v,kj:()=>f,kl:()=>V,mU:()=>c,ob:()=>z,od:()=>A,ot:()=>x,sG:()=>k,wh:()=>h,yA:()=>M});var r=n(2661),i=n(288);function a(e){return(0,r.s)((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*i.iy)/i.KK))}const o=a(0),l=a(1),c=a(2),s=a(3),u=a(4),f=a(5),d=a(6),h=o.range,g=l.range,p=c.range,_=s.range,b=u.range,m=f.range,v=d.range;function y(e){return(0,r.s)((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/i.KK))}const w=y(0),x=y(1),k=y(2),S=y(3),M=y(4),A=y(5),T=y(6),E=w.range,C=x.range,V=k.range,N=S.range,z=M.range,D=A.range,P=T.range},9516:(e,t,n)=>{"use strict";n.d(t,{KA:()=>o,OG:()=>a,es:()=>i,iO:()=>l});var r=n(2661);const i=(0,r.s)((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear()));i.every=e=>isFinite(e=Math.floor(e))&&e>0?(0,r.s)((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null;const a=i.range,o=(0,r.s)((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));o.every=e=>isFinite(e=Math.floor(e))&&e>0?(0,r.s)((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null;const l=o.range},4452:(e,t,n)=>{"use strict";n.d(t,{Sm:()=>L});var r,i,a=n(5932),o=n(8648),l=0,c=0,s=0,u=1e3,f=0,d=0,h=0,g="object"==typeof performance&&performance.now?performance:Date,p="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function _(){return d||(p(b),d=g.now()+h)}function b(){d=0}function m(){this._call=this._time=this._next=null}function v(e,t,n){var r=new m;return r.restart(e,t,n),r}function y(){d=(f=g.now())+h,l=c=0;try{!function(){_(),++l;for(var e,t=r;t;)(e=d-t._time)>=0&&t._call.call(void 0,e),t=t._next;--l}()}finally{l=0,function(){for(var e,t,n=r,a=1/0;n;)n._call?(a>n._time&&(a=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:r=t);i=e,x(a)}(),d=0}}function w(){var e=g.now(),t=e-f;t>u&&(h-=t,f=e)}function x(e){l||(c&&(c=clearTimeout(c)),e-d>24?(e<1/0&&(c=setTimeout(y,e-g.now()-h)),s&&(s=clearInterval(s))):(s||(f=g.now(),s=setInterval(w,u)),l=1,p(y)))}function k(e,t,n){var r=new m;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r}m.prototype=v.prototype={constructor:m,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?_():+n)+(null==t?0:+t),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=e,this._time=n,x()},stop:function(){this._call&&(this._call=null,this._time=1/0,x())}};var S=(0,o.c)("start","end","cancel","interrupt"),M=[],A=0,T=2,E=3,C=5,V=6;function N(e,t,n,r,i,a){var o=e.__transition;if(o){if(n in o)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function a(c){var s,u,f,d;if(1!==n.state)return l();for(s in i)if((d=i[s]).name===n.name){if(d.state===E)return k(a);4===d.state?(d.state=V,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[s]):+s<t&&(d.state=V,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[s])}if(k((function(){n.state===E&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(c))})),n.state=T,n.on.call("start",e,e.__data__,n.index,n.group),n.state===T){for(n.state=E,r=new Array(f=n.tween.length),s=0,u=-1;s<f;++s)(d=n.tween[s].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function o(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=C,1),a=-1,o=r.length;++a<o;)r[a].call(e,i);n.state===C&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=V,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=v((function(e){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}),0,n.time)}(e,n,{name:t,index:r,group:i,on:S,tween:M,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:A})}function z(e,t){var n=P(e,t);if(n.state>A)throw new Error("too late; already scheduled");return n}function D(e,t){var n=P(e,t);if(n.state>E)throw new Error("too late; already running");return n}function P(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function L(e,t){var n,r,i,a=e.__transition,o=!0;if(a){for(i in t=null==t?null:t+"",a)(n=a[i]).name===t?(r=n.state>T&&n.state<C,n.state=V,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete e.__transition}}var O,I=n(5568),R=180/Math.PI,B={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function F(e,t,n,r,i,a){var o,l,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),e*r<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*R,skewX:Math.atan(c)*R,scaleX:o,scaleY:l}}function Y(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(a,o){var l=[],c=[];return a=e(a),o=e(o),function(e,r,i,a,o,l){if(e!==i||r!==a){var c=o.push("translate(",null,t,null,n);l.push({i:c-4,x:(0,I.c)(e,i)},{i:c-2,x:(0,I.c)(r,a)})}else(i||a)&&o.push("translate("+i+t+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,l,c),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:(0,I.c)(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(a.rotate,o.rotate,l,c),function(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:(0,I.c)(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(a.skewX,o.skewX,l,c),function(e,t,n,r,a,o){if(e!==n||t!==r){var l=a.push(i(a)+"scale(",null,",",null,")");o.push({i:l-4,x:(0,I.c)(e,n)},{i:l-2,x:(0,I.c)(t,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,l,c),a=o=null,function(e){for(var t,n=-1,r=c.length;++n<r;)l[(t=c[n]).i]=t.x(e);return l.join("")}}}var j=Y((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?B:F(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),$=Y((function(e){return null==e?B:(O||(O=document.createElementNS("http://www.w3.org/2000/svg","g")),O.setAttribute("transform",e),(e=O.transform.baseVal.consolidate())?F((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):B)}),", ",")",")"),H=n(976);function U(e,t){var n,r;return function(){var i=D(this,e),a=i.tween;if(a!==n)for(var o=0,l=(r=n=a).length;o<l;++o)if(r[o].name===t){(r=r.slice()).splice(o,1);break}i.tween=r}}function W(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=D(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var l={name:t,value:n},c=0,s=i.length;c<s;++c)if(i[c].name===t){i[c]=l;break}c===s&&i.push(l)}a.tween=i}}function q(e,t,n){var r=e._id;return e.each((function(){var e=D(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return P(e,r).value[t]}}var G=n(2352),X=n(9720),K=n(239);function Q(e,t){var n;return("number"==typeof t?I.c:t instanceof G.cp?X.cp:(n=(0,G.cp)(t))?(t=n,X.cp):K.c)(e,t)}function Z(e){return function(){this.removeAttribute(e)}}function J(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ee(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttribute(e);return o===a?null:o===r?i:i=t(r=o,n)}}function te(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?i:i=t(r=o,n)}}function ne(e,t,n){var r,i,a;return function(){var o,l,c=n(this);if(null!=c)return(o=this.getAttribute(e))===(l=c+"")?null:o===r&&l===i?a:(i=l,a=t(r=o,c));this.removeAttribute(e)}}function re(e,t,n){var r,i,a;return function(){var o,l,c=n(this);if(null!=c)return(o=this.getAttributeNS(e.space,e.local))===(l=c+"")?null:o===r&&l===i?a:(i=l,a=t(r=o,c));this.removeAttributeNS(e.space,e.local)}}function ie(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function ae(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function oe(e,t){return function(){z(this,e).delay=+t.apply(this,arguments)}}function le(e,t){return t=+t,function(){z(this,e).delay=t}}function ce(e,t){return function(){D(this,e).duration=+t.apply(this,arguments)}}function se(e,t){return t=+t,function(){D(this,e).duration=t}}var ue=n(2677),fe=n(5668),de=n(8468),he=a.cp.prototype.constructor,ge=n(4248);function pe(e){return function(){this.style.removeProperty(e)}}var _e=0;function be(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function me(){return++_e}var ve=a.cp.prototype;be.prototype=function(e){return(0,a.cp)().transition(e)}.prototype={constructor:be,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=(0,fe.c)(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var l,c,s=r[o],u=s.length,f=a[o]=new Array(u),d=0;d<u;++d)(l=s[d])&&(c=e.call(l,l.__data__,d,s))&&("__data__"in l&&(c.__data__=l.__data__),f[d]=c,N(f[d],t,n,d,f,P(l,n)));return new be(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=(0,de.c)(e));for(var r=this._groups,i=r.length,a=[],o=[],l=0;l<i;++l)for(var c,s=r[l],u=s.length,f=0;f<u;++f)if(c=s[f]){for(var d,h=e.call(c,c.__data__,f,s),g=P(c,n),p=0,_=h.length;p<_;++p)(d=h[p])&&N(d,t,n,p,h,g);a.push(h),o.push(c)}return new be(a,o,t,n)},selectChild:ve.selectChild,selectChildren:ve.selectChildren,filter:function(e){"function"!=typeof e&&(e=(0,ue.M)(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],l=o.length,c=r[i]=[],s=0;s<l;++s)(a=o[s])&&e.call(a,a.__data__,s,o)&&c.push(a);return new be(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var c,s=t[l],u=n[l],f=s.length,d=o[l]=new Array(f),h=0;h<f;++h)(c=s[h]||u[h])&&(d[h]=c);for(;l<r;++l)o[l]=t[l];return new be(o,this._parents,this._name,this._id)},selection:function(){return new he(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=me(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,l=r[a],c=l.length,s=0;s<c;++s)if(o=l[s]){var u=P(o,t);N(o,e,n,s,l,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new be(r,this._parents,e,n)},call:ve.call,nodes:ve.nodes,node:ve.node,size:ve.size,empty:ve.empty,each:ve.each,on:function(e,t){var n=this._id;return arguments.length<2?P(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,a=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?z:D;return function(){var o=a(this,e),l=o.on;l!==r&&(i=(r=l).copy()).on(t,n),o.on=i}}(n,e,t))},attr:function(e,t){var n=(0,H.c)(e),r="transform"===n?$:Q;return this.attrTween(e,"function"==typeof t?(n.local?re:ne)(n,r,q(this,"attr."+e,t)):null==t?(n.local?J:Z)(n):(n.local?te:ee)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=(0,H.c)(e);return this.tween(n,(r.local?ie:ae)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?j:Q;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var a=(0,ge.V)(this,e),o=(this.style.removeProperty(e),(0,ge.V)(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}(e,r)).on("end.style."+e,pe(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,i,a;return function(){var o=(0,ge.V)(this,e),l=n(this),c=l+"";return null==l&&(this.style.removeProperty(e),c=l=(0,ge.V)(this,e)),o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,l))}}(e,r,q(this,"style."+e,t))).each(function(e,t){var n,r,i,a,o="style."+t,l="end."+o;return function(){var c=D(this,e),s=c.on,u=null==c.value[o]?a||(a=pe(t)):void 0;s===n&&i===u||(r=(n=s).copy()).on(l,i=u),c.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,a=n+"";return function(){var o=(0,ge.V)(this,e);return o===a?null:o===r?i:i=t(r=o,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function a(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,a,n)),r}return a._value=t,a}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(q(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=P(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===e)return r.value;return null}return this.each((null==t?U:W)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?oe:le)(t,e)):P(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?ce:se)(t,e)):P(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){D(this,e).ease=t}}(t,e)):P(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;D(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var l={value:o},c={value:function(){0==--i&&a()}};n.each((function(){var n=D(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),n.on=t})),0===i&&a()}))},[Symbol.iterator]:ve[Symbol.iterator]};var ye={time:null,delay:0,duration:250,ease:n(4076).AT};function we(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}a.cp.prototype.interrupt=function(e){return this.each((function(){L(this,e)}))},a.cp.prototype.transition=function(e){var t,n;e instanceof be?(t=e._id,e=e._name):(t=me(),(n=ye).time=_(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,l=r[a],c=l.length,s=0;s<c;++s)(o=l[s])&&N(o,e,t,s,l,n||we(o,t));return new be(r,this._parents,e,t)}},1786:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ZoomTransform:()=>d,zoom:()=>k,zoomIdentity:()=>h,zoomTransform:()=>g});var r=n(8648),i=n(5416);function a(e){return((e=Math.exp(e))+1/e)/2}const o=function e(t,n,r){function i(e,i){var o,l,c=e[0],s=e[1],u=e[2],f=i[0],d=i[1],h=i[2],g=f-c,p=d-s,_=g*g+p*p;if(_<1e-12)l=Math.log(h/u)/t,o=function(e){return[c+e*g,s+e*p,u*Math.exp(t*e*l)]};else{var b=Math.sqrt(_),m=(h*h-u*u+r*_)/(2*u*n*b),v=(h*h-u*u-r*_)/(2*h*n*b),y=Math.log(Math.sqrt(m*m+1)-m),w=Math.log(Math.sqrt(v*v+1)-v);l=(w-y)/t,o=function(e){var r,i=e*l,o=a(y),f=u/(n*b)*(o*(r=t*i+y,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(y));return[c+f*g,s+f*p,u*o/a(t*i+y)]}}return o.duration=1e3*l*t/Math.SQRT2,o}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4);var l=n(3291),c=n(1093),s=n(4452);const u=e=>()=>e;function f(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function d(e,t,n){this.k=e,this.x=t,this.y=n}d.prototype={constructor:d,scale:function(e){return 1===e?this:new d(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new d(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var h=new d(1,0,0);function g(e){for(;!e.__zoom;)if(!(e=e.parentNode))return h;return e.__zoom}function p(e){e.stopImmediatePropagation()}function _(e){e.preventDefault(),e.stopImmediatePropagation()}function b(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function m(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function v(){return this.__zoom||h}function y(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function w(){return navigator.maxTouchPoints||"ontouchstart"in this}function x(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function k(){var e,t,n,a=b,g=m,k=x,S=y,M=w,A=[0,1/0],T=[[-1/0,-1/0],[1/0,1/0]],E=250,C=o,V=(0,r.c)("start","zoom","end"),N=500,z=150,D=0,P=10;function L(e){e.property("__zoom",v).on("wheel.zoom",j,{passive:!1}).on("mousedown.zoom",$).on("dblclick.zoom",H).filter(M).on("touchstart.zoom",U).on("touchmove.zoom",W).on("touchend.zoom touchcancel.zoom",q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function O(e,t){return(t=Math.max(A[0],Math.min(A[1],t)))===e.k?e:new d(t,e.x,e.y)}function I(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new d(e.k,r,i)}function R(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function B(e,t,n,r){e.on("start.zoom",(function(){F(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){F(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,i=arguments,a=F(e,i).event(r),o=g.apply(e,i),l=null==n?R(o):"function"==typeof n?n.apply(e,i):n,c=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),s=e.__zoom,u="function"==typeof t?t.apply(e,i):t,f=C(s.invert(l).concat(c/s.k),u.invert(l).concat(c/u.k));return function(e){if(1===e)e=u;else{var t=f(e),n=c/t[2];e=new d(n,l[0]-t[0]*n,l[1]-t[1]*n)}a.zoom(null,e)}}))}function F(e,t,n){return!n&&e.__zooming||new Y(e,t)}function Y(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=g.apply(e,t),this.taps=0}function j(e,...t){if(a.apply(this,arguments)){var n=F(this,t).event(e),r=this.__zoom,i=Math.max(A[0],Math.min(A[1],r.k*Math.pow(2,S.apply(this,arguments)))),o=(0,c.c)(e);if(n.wheel)n.mouse[0][0]===o[0]&&n.mouse[0][1]===o[1]||(n.mouse[1]=r.invert(n.mouse[0]=o)),clearTimeout(n.wheel);else{if(r.k===i)return;n.mouse=[o,r.invert(o)],(0,s.Sm)(this),n.start()}_(e),n.wheel=setTimeout((function(){n.wheel=null,n.end()}),z),n.zoom("mouse",k(I(O(r,i),n.mouse[0],n.mouse[1]),n.extent,T))}}function $(e,...t){if(!n&&a.apply(this,arguments)){var r=e.currentTarget,o=F(this,t,!0).event(e),u=(0,l.c)(e.view).on("mousemove.zoom",(function(e){if(_(e),!o.moved){var t=e.clientX-d,n=e.clientY-h;o.moved=t*t+n*n>D}o.event(e).zoom("mouse",k(I(o.that.__zoom,o.mouse[0]=(0,c.c)(e,r),o.mouse[1]),o.extent,T))}),!0).on("mouseup.zoom",(function(e){u.on("mousemove.zoom mouseup.zoom",null),(0,i.i)(e.view,o.moved),_(e),o.event(e).end()}),!0),f=(0,c.c)(e,r),d=e.clientX,h=e.clientY;(0,i.c)(e.view),p(e),o.mouse=[f,this.__zoom.invert(f)],(0,s.Sm)(this),o.start()}}function H(e,...t){if(a.apply(this,arguments)){var n=this.__zoom,r=(0,c.c)(e.changedTouches?e.changedTouches[0]:e,this),i=n.invert(r),o=n.k*(e.shiftKey?.5:2),s=k(I(O(n,o),r,i),g.apply(this,t),T);_(e),E>0?(0,l.c)(this).transition().duration(E).call(B,s,r,e):(0,l.c)(this).call(L.transform,s,r,e)}}function U(n,...r){if(a.apply(this,arguments)){var i,o,l,u,f=n.touches,d=f.length,h=F(this,r,n.changedTouches.length===d).event(n);for(p(n),o=0;o<d;++o)l=f[o],u=[u=(0,c.c)(l,this),this.__zoom.invert(u),l.identifier],h.touch0?h.touch1||h.touch0[2]===u[2]||(h.touch1=u,h.taps=0):(h.touch0=u,i=!0,h.taps=1+!!e);e&&(e=clearTimeout(e)),i&&(h.taps<2&&(t=u[0],e=setTimeout((function(){e=null}),N)),(0,s.Sm)(this),h.start())}}function W(e,...t){if(this.__zooming){var n,r,i,a,o=F(this,t).event(e),l=e.changedTouches,s=l.length;for(_(e),n=0;n<s;++n)r=l[n],i=(0,c.c)(r,this),o.touch0&&o.touch0[2]===r.identifier?o.touch0[0]=i:o.touch1&&o.touch1[2]===r.identifier&&(o.touch1[0]=i);if(r=o.that.__zoom,o.touch1){var u=o.touch0[0],f=o.touch0[1],d=o.touch1[0],h=o.touch1[1],g=(g=d[0]-u[0])*g+(g=d[1]-u[1])*g,p=(p=h[0]-f[0])*p+(p=h[1]-f[1])*p;r=O(r,Math.sqrt(g/p)),i=[(u[0]+d[0])/2,(u[1]+d[1])/2],a=[(f[0]+h[0])/2,(f[1]+h[1])/2]}else{if(!o.touch0)return;i=o.touch0[0],a=o.touch0[1]}o.zoom("touch",k(I(r,i,a),o.extent,T))}}function q(e,...r){if(this.__zooming){var i,a,o=F(this,r).event(e),s=e.changedTouches,u=s.length;for(p(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),N),i=0;i<u;++i)a=s[i],o.touch0&&o.touch0[2]===a.identifier?delete o.touch0:o.touch1&&o.touch1[2]===a.identifier&&delete o.touch1;if(o.touch1&&!o.touch0&&(o.touch0=o.touch1,delete o.touch1),o.touch0)o.touch0[1]=this.__zoom.invert(o.touch0[0]);else if(o.end(),2===o.taps&&(a=(0,c.c)(a,this),Math.hypot(t[0]-a[0],t[1]-a[1])<P)){var f=(0,l.c)(this).on("dblclick.zoom");f&&f.apply(this,arguments)}}}return L.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property("__zoom",v),e!==i?B(e,t,n,r):i.interrupt().each((function(){F(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},L.scaleBy=function(e,t,n,r){L.scaleTo(e,(function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)}),n,r)},L.scaleTo=function(e,t,n,r){L.transform(e,(function(){var e=g.apply(this,arguments),r=this.__zoom,i=null==n?R(e):"function"==typeof n?n.apply(this,arguments):n,a=r.invert(i),o="function"==typeof t?t.apply(this,arguments):t;return k(I(O(r,o),i,a),e,T)}),n,r)},L.translateBy=function(e,t,n,r){L.transform(e,(function(){return k(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),g.apply(this,arguments),T)}),null,r)},L.translateTo=function(e,t,n,r,i){L.transform(e,(function(){var e=g.apply(this,arguments),i=this.__zoom,a=null==r?R(e):"function"==typeof r?r.apply(this,arguments):r;return k(h.translate(a[0],a[1]).scale(i.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,T)}),r,i)},Y.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=(0,l.c)(this.that).datum();V.call(e,this.that,new f(e,{sourceEvent:this.sourceEvent,target:L,type:e,transform:this.that.__zoom,dispatch:V}),t)}},L.wheelDelta=function(e){return arguments.length?(S="function"==typeof e?e:u(+e),L):S},L.filter=function(e){return arguments.length?(a="function"==typeof e?e:u(!!e),L):a},L.touchable=function(e){return arguments.length?(M="function"==typeof e?e:u(!!e),L):M},L.extent=function(e){return arguments.length?(g="function"==typeof e?e:u([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),L):g},L.scaleExtent=function(e){return arguments.length?(A[0]=+e[0],A[1]=+e[1],L):[A[0],A[1]]},L.translateExtent=function(e){return arguments.length?(T[0][0]=+e[0][0],T[1][0]=+e[1][0],T[0][1]=+e[0][1],T[1][1]=+e[1][1],L):[[T[0][0],T[0][1]],[T[1][0],T[1][1]]]},L.constrain=function(e){return arguments.length?(k=e,L):k},L.duration=function(e){return arguments.length?(E=+e,L):E},L.interpolate=function(e){return arguments.length?(C=e,L):C},L.on=function(){var e=V.on.apply(V,arguments);return e===V?L:e},L.clickDistance=function(e){return arguments.length?(D=(e=+e)*e,L):Math.sqrt(D)},L.tapDistance=function(e){return arguments.length?(P=+e,L):P},L}g.prototype=d.prototype},5584:(e,t,n)=>{"use strict";n.d(t,{C:()=>i,S:()=>r});class r extends Map{constructor(e,t=c){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(a(this,e))}has(e){return super.has(a(this,e))}set(e,t){return super.set(o(this,e),t)}delete(e){return super.delete(l(this,e))}}class i extends Set{constructor(e,t=c){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const t of e)this.add(t)}has(e){return super.has(a(this,e))}add(e){return super.add(o(this,e))}delete(e){return super.delete(l(this,e))}}function a({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function o({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function l({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function c(e){return null!==e&&"object"==typeof e?e.valueOf():e}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var i=r.length-1;i>-1&&!e;)e=r[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{const e=n(7748);n(2660),n(9172),n(7392),window.Worker=e.worker()})()})();
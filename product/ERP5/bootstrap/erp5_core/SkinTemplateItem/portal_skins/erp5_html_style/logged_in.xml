<?xml version="1.0"?>
<ZopeData>
  <record id="1" aka="AAAAAAAAAAE=">
    <pickle>
      <tuple>
        <tuple>
          <string>Products.PageTemplates.ZopePageTemplate</string>
          <string>ZopePageTemplate</string>
        </tuple>
        <none/>
      </tuple>
    </pickle>
    <pickle>
      <dictionary>
        <item>
            <key> <string>__ac_local_roles__</string> </key>
            <value>
              <none/>
            </value>
        </item>
        <item>
            <key> <string>_bind_names</string> </key>
            <value>
              <object>
                <klass>
                  <global name="NameAssignments" module="Shared.DC.Scripts.Bindings"/>
                </klass>
                <tuple/>
                <state>
                  <dictionary>
                    <item>
                        <key> <string>_asgns</string> </key>
                        <value>
                          <dictionary>
                            <item>
                                <key> <string>name_subpath</string> </key>
                                <value> <string>traverse_subpath</string> </value>
                            </item>
                          </dictionary>
                        </value>
                    </item>
                  </dictionary>
                </state>
              </object>
            </value>
        </item>
        <item>
            <key> <string>_text</string> </key>
            <value> <string encoding="cdata"><![CDATA[

<tal:block tal:condition="here/portal_skins/updateSkinCookie | nothing"\n
           tal:define="dummy here/setupCurrentSkin" />\n
\n
<html xmlns:tal="http://xml.zope.org/namespaces/tal"\n
      xmlns:metal="http://xml.zope.org/namespaces/metal"\n
      metal:use-macro="here/main_template/macros/master">\n
<body>\n
\n
<div metal:fill-slot="main" i18n:domain="ui">\n
\n
 <div tal:define="p_props here/portal_properties;\n
                  p_url here/portal_url;\n
                  mtool here/portal_membership;\n
                  isAnon mtool/isAnonymousUser|nothing;\n
                  member mtool/getAuthenticatedMember;\n
                  now here/ZopeTime;\n
                  never string:2000/01/01;\n
                 "\n
 >\n
\n
  <div tal:condition="isAnon">\n
\n
   <span tal:define="dummy python:request[\'RESPONSE\'].expireCookie(\'__ac\'\n
                                                                  , path=\'/\')"\n
   />\n
\n
   <h1 class="DesktopTitle" i18n:translate="">Login failure</h1>\n
\n
   <p class="Desktop" i18n:translate="">You are not currently logged in. Your\n
     username and or password may be incorrect. Your browser may also not be\n
     configured to accept HTTP cookies. If you need help please contact\n
      <a href="mailto:admin@here.com" title="Email Admin"\n
         tal:attributes="href string:mailto:${p_props/email_from_address}"\n
         tal:content="p_props/email_from_address"\n
         i18n:name="admin_email">Email Admin</a>.\n
   </p>\n
  </div><!-- isAnon -->\n
\n
  <div tal:condition="not: isAnon"\n
       tal:define="first_time python:(\n
                    member.getProperty( \'login_time\', None ) == never\n
                                       and p_props.validate_email )">\n
\n
   <div tal:condition="first_time">\n
    <div tal:define="dum_reg python:member.setProperties(\n
                                                last_login_time=now,\n
                                                login_time=now)" />\n
\n
    <h1 class="DesktopTitle" i18n:translate="">Welcome!</h1>\n
\n
    <p class="Desktop" i18n:translate="">\n
       This is the first time that you\'ve logged in to\n
       <span tal:replace="p_props/title" i18n:name="portal_title">Here</span>.\n
       Before you start exploring you need to change your original password.\n
       This will ensure that the password we sent you via email cannot be\n
       used in a malicious manner.</p>\n
\n
    <p class="Desktop" i18n:translate="">\n
       Please use the form below to change your password.</p>\n
\n
    <form action="change_password" method="post"\n
          tal:attributes="action string:${p_url}/change_password"\n
    >\n
     <input type="hidden" name="user" value=""\n
            tal:attributes="value member" />\n
     <input type="hidden" name="domains:tokens" value="" />\n
     <input type="hidden" name="redirect" value=""\n
            tal:attributes="value string:${p_url}/" />\n
\n
     <table>\n
\n
      <tr valign="top" align="left">\n
       <th i18n:translate="">Username</th>\n
       <td><span tal:replace="member">You</span></td>\n
      </tr>\n
\n
      <tr valign="top"  align="left">\n
       <th i18n:translate="">New password</th>\n
       <td><input type="password" name="password" /></td>\n
      </tr>\n
\n
      <tr valign="top"  align="left">\n
       <th i18n:translate="">Confirm new password</th>\n
       <td><input type="password" name="confirm" /></td>\n
      </tr>\n
\n
      <tr>\n
       <td><br /></td>\n
       <td>\n
        <input type="submit" value="Change password"\n
               i18n:attributes="value" />\n
       </td>\n
      </tr>\n
\n
     </table>\n
\n
    </form>\n
\n
   </div><!-- first_time -->\n
\n
   <div tal:condition="not: first_time">\n
\n
    <div tal:define="d_reg python:member.setProperties(\n
                                           last_login_time=member.login_time);\n
                     ereg python:member.setProperties(\n
                                            login_time=here.ZopeTime());\n
                    " />\n
\n
    <div tal:define="came_from python:request.get(\'came_from\') or here.portal_url() + \'/view\';\n
                     response request/RESPONSE;\n
                     dredirect python: response.redirect(came_from);\n
                     " />\n
\n
    <h1 class="DesktopTitle" i18n:translate="">Login success</h1>\n
\n
    <p class="Desktop" i18n:translate="">Welcome. You are currently logged\n
      in.</p>\n
\n
   </div><!-- not first_time -->\n
\n
  </div><!-- not isAnon -->\n
\n
 </div><!-- define p_props -->\n
\n
</div><!-- metal:fill-slot="main" -->\n
\n
</body>\n
</html>

]]></string> </value>
        </item>
        <item>
            <key> <string>content_type</string> </key>
            <value> <string>text/html</string> </value>
        </item>
        <item>
            <key> <string>expand</string> </key>
            <value> <int>0</int> </value>
        </item>
        <item>
            <key> <string>id</string> </key>
            <value> <string>logged_in</string> </value>
        </item>
        <item>
            <key> <string>title</string> </key>
            <value> <string></string> </value>
        </item>
      </dictionary>
    </pickle>
  </record>
</ZopeData>

<?xml version="1.0"?>
<ZopeData>
  <record id="1" aka="AAAAAAAAAAE=">
    <pickle>
      <global name="Rescue Swarm Script" module="erp5.portal_type"/>
    </pickle>
    <pickle>
      <dictionary>
        <item>
            <key> <string>_Access_contents_information_Permission</string> </key>
            <value>
              <tuple>
                <string>Anonymous</string>
                <string>Assignee</string>
                <string>Assignor</string>
                <string>Associate</string>
                <string>Auditor</string>
                <string>Manager</string>
              </tuple>
            </value>
        </item>
        <item>
            <key> <string>_Add_portal_content_Permission</string> </key>
            <value>
              <tuple>
                <string>Assignee</string>
                <string>Assignor</string>
                <string>Manager</string>
              </tuple>
            </value>
        </item>
        <item>
            <key> <string>_Change_local_roles_Permission</string> </key>
            <value>
              <tuple>
                <string>Assignor</string>
                <string>Manager</string>
              </tuple>
            </value>
        </item>
        <item>
            <key> <string>_Modify_portal_content_Permission</string> </key>
            <value>
              <tuple>
                <string>Assignee</string>
                <string>Assignor</string>
                <string>Manager</string>
              </tuple>
            </value>
        </item>
        <item>
            <key> <string>_View_Permission</string> </key>
            <value>
              <tuple>
                <string>Anonymous</string>
                <string>Assignee</string>
                <string>Assignor</string>
                <string>Associate</string>
                <string>Auditor</string>
                <string>Manager</string>
              </tuple>
            </value>
        </item>
        <item>
            <key> <string>content_type</string> </key>
            <value> <string>application/javascript</string> </value>
        </item>
        <item>
            <key> <string>description</string> </key>
            <value>
              <none/>
            </value>
        </item>
        <item>
            <key> <string>id</string> </key>
            <value> <string>emulate_bounce</string> </value>
        </item>
        <item>
            <key> <string>language</string> </key>
            <value>
              <none/>
            </value>
        </item>
        <item>
            <key> <string>portal_type</string> </key>
            <value> <string>Rescue Swarm Script</string> </value>
        </item>
        <item>
            <key> <string>text_content</string> </key>
            <value> <string encoding="cdata"><![CDATA[

function distance(p1, p2) {\n
  var a = p1[0] - p2[0],\n
    b = p1[1] - p2[1];\n
  return Math.sqrt(a * a + b * b);\n
}\n
\n
formatTimeToMinutesAndSeconds = function (time) {\n
  var seconds = Math.floor(time / 1000),\n
    minutes = Math.floor(seconds / 60),\n
    sminutes = "00",\n
    sseconds = "00";\n
  sminutes = (minutes < 10) ? "0" + minutes.toString() : minutes.toString();\n
  seconds -= (minutes * 60);\n
  sseconds = (seconds < 10) ? "0" + seconds.toString() : sseconds = seconds.toString();\n
  return sminutes + ":" + sseconds;\n
};\n
\n
var TAKEOFF_TIME = 52; //seconds\n
\n
me.onStart = function() {\n
  me.startTime = new Date();\n
  me.land = false;\n
  me.stableHeight = 114;\n
  me.stableHeightReached = false;\n
  me.checkpoint_list = [\n
    [me.position.x, me.position.y],\n
    [-553.7169811316272, -1017.1443298971542],\n
    [-1048.811320754609, -739.3659793815376],\n
    [-1048.811320754609, -243.9484536084036],\n
    [-920.5094339631283, -81.06185567011119],\n
    [-71.45283018865211, -414.0515463915964],\n
    [-1037.490566038303, -929.5154639179189],\n
    [-958.2452830198672, -1017.1443298971542],\n
    [-71.45283018865211, -254.25773195895943],\n
    [-316.73584905673886, -68.69072164944419],\n
    [-807.301886792912, -1017.1443298971542],\n
    [-1048.811320754609, -398.5876288662515],\n
    [-658.6226415100766, -68.69072164944419],\n
    [-294.09433962269554, -1017.1443298971542],\n
    [-71.45283018865211, -862.5051546393063],\n
    [-491.07547169815643, -68.69072164944419],\n
    [-1035.9811320760334, -511.9896907218762]\n
  ];\n
  me.setTargetCoordinates(me.checkpoint_list[0][0], me.checkpoint_list[0][1], me.stableHeight);\n
  me.last_checkpoint_reached = -1;\n
  me.setAcceleration(10);\n
};\n
\n
me.onUpdate = function () {\n
  var elapsed = new Date() - me.startTime;\n
  //take off\n
  if (!me.takeOffDone) {\n
    var dist = me.stableHeight - me.position.z;\n
    dist = Math.sqrt(dist * dist);\n
    if (dist < 0.5) {\n
      me.stableHeightReached = true;\n
    }\n
    if (me.stableHeightReached) {\n
      me.setTargetCoordinates(me.position.x, me.position.y, me.stableHeight);\n
    }\n
    //emulate take off time\n
    if (new Date() - me.startTime < TAKEOFF_TIME * 1000) {\n
      return;\n
    } else {\n
      console.log("takeoff done! time elapsed:", formatTimeToMinutesAndSeconds(elapsed));\n
      me.takeOffDone = true;\n
    }\n
  }\n
  if (!me.land) {\n
    var next_checkpoint = me.checkpoint_list[me.last_checkpoint_reached+1];\n
    if (distance([me.position.x, me.position.y], next_checkpoint) < 10) {\n
      me.last_checkpoint_reached += 1;\n
      if (me.last_checkpoint_reached === me.checkpoint_list.length - 1) {\n
        me.land = true;\n
        console.log("stable flight done! time elapsed:", formatTimeToMinutesAndSeconds(elapsed));\n
        return;\n
      }\n
      next_checkpoint = me.checkpoint_list[me.last_checkpoint_reached+1];\n
      me.setTargetCoordinates(next_checkpoint[0], next_checkpoint[1], me.position.z);\n
    }\n
  } else {\n
    me.setTargetCoordinates(me.position.x, me.position.y, 100);\n
  }\n
};

]]></string> </value>
        </item>
        <item>
            <key> <string>title</string> </key>
            <value> <string>emulate_bounce</string> </value>
        </item>
        <item>
            <key> <string>workflow_history</string> </key>
            <value>
              <persistent> <string encoding="base64">AAAAAAAAAAI=</string> </persistent>
            </value>
        </item>
      </dictionary>
    </pickle>
  </record>
  <record id="2" aka="AAAAAAAAAAI=">
    <pickle>
      <global name="PersistentMapping" module="Persistence.mapping"/>
    </pickle>
    <pickle>
      <dictionary>
        <item>
            <key> <string>data</string> </key>
            <value>
              <dictionary>
                <item>
                    <key> <string>document_publication_workflow</string> </key>
                    <value>
                      <persistent> <string encoding="base64">AAAAAAAAAAM=</string> </persistent>
                    </value>
                </item>
                <item>
                    <key> <string>edit_workflow</string> </key>
                    <value>
                      <persistent> <string encoding="base64">AAAAAAAAAAQ=</string> </persistent>
                    </value>
                </item>
              </dictionary>
            </value>
        </item>
      </dictionary>
    </pickle>
  </record>
  <record id="3" aka="AAAAAAAAAAM=">
    <pickle>
      <global name="WorkflowHistoryList" module="Products.ERP5Type.Workflow"/>
    </pickle>
    <pickle>
      <dictionary>
        <item>
            <key> <string>_log</string> </key>
            <value>
              <list>
                <dictionary>
                  <item>
                      <key> <string>action</string> </key>
                      <value> <string>publish_alive</string> </value>
                  </item>
                  <item>
                      <key> <string>actor</string> </key>
                      <value> <string>zope</string> </value>
                  </item>
                  <item>
                      <key> <string>comment</string> </key>
                      <value> <string></string> </value>
                  </item>
                  <item>
                      <key> <string>error_message</string> </key>
                      <value> <string></string> </value>
                  </item>
                  <item>
                      <key> <string>time</string> </key>
                      <value>
                        <object>
                          <klass>
                            <global name="DateTime" module="DateTime.DateTime"/>
                          </klass>
                          <tuple>
                            <none/>
                          </tuple>
                          <state>
                            <tuple>
                              <float>1658430523.14</float>
                              <string>UTC</string>
                            </tuple>
                          </state>
                        </object>
                      </value>
                  </item>
                  <item>
                      <key> <string>validation_state</string> </key>
                      <value> <string>published_alive</string> </value>
                  </item>
                </dictionary>
              </list>
            </value>
        </item>
      </dictionary>
    </pickle>
  </record>
  <record id="4" aka="AAAAAAAAAAQ=">
    <pickle>
      <global name="WorkflowHistoryList" module="Products.ERP5Type.Workflow"/>
    </pickle>
    <pickle>
      <dictionary>
        <item>
            <key> <string>_log</string> </key>
            <value>
              <list>
                <dictionary>
                  <item>
                      <key> <string>action</string> </key>
                      <value> <string>edit</string> </value>
                  </item>
                  <item>
                      <key> <string>actor</string> </key>
                      <value> <string>zope</string> </value>
                  </item>
                  <item>
                      <key> <string>comment</string> </key>
                      <value>
                        <none/>
                      </value>
                  </item>
                  <item>
                      <key> <string>error_message</string> </key>
                      <value> <string></string> </value>
                  </item>
                  <item>
                      <key> <string>serial</string> </key>
                      <value> <string>1002.5064.32215.45499</string> </value>
                  </item>
                  <item>
                      <key> <string>state</string> </key>
                      <value> <string>current</string> </value>
                  </item>
                  <item>
                      <key> <string>time</string> </key>
                      <value>
                        <object>
                          <klass>
                            <global name="DateTime" module="DateTime.DateTime"/>
                          </klass>
                          <tuple>
                            <none/>
                          </tuple>
                          <state>
                            <tuple>
                              <float>1659716398.23</float>
                              <string>UTC</string>
                            </tuple>
                          </state>
                        </object>
                      </value>
                  </item>
                </dictionary>
              </list>
            </value>
        </item>
      </dictionary>
    </pickle>
  </record>
</ZopeData>
